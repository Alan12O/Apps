(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var zd={exports:{}},jl={};var H_;function Hb(){if(H_)return jl;H_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return jl.Fragment=e,jl.jsx=i,jl.jsxs=i,jl}var F_;function Fb(){return F_||(F_=1,zd.exports=Hb()),zd.exports}var A=Fb(),jd={exports:{}},Se={};var G_;function Gb(){if(G_)return Se;G_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,se={};function me(O,X,ne){this.props=O,this.context=X,this.refs=se,this.updater=ne||W}me.prototype.isReactComponent={},me.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},me.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Te(){}Te.prototype=me.prototype;function ye(O,X,ne){this.props=O,this.context=X,this.refs=se,this.updater=ne||W}var je=ye.prototype=new Te;je.constructor=ye,re(je,me.prototype),je.isPureReactComponent=!0;var lt=Array.isArray;function Ne(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(O,X,ne){var ae=ne.ref;return{$$typeof:r,type:O,key:X,ref:ae!==void 0?ae:null,props:ne}}function V(O,X){return x(O.type,X,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return X[ne]})}var R=/\/+/g;function Ge(O,X){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):X.toString(36)}function vt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ne,Ne):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,X,ne,ae,ge){var _e=typeof O;(_e==="undefined"||_e==="boolean")&&(O=null);var De=!1;if(O===null)De=!0;else switch(_e){case"bigint":case"string":case"number":De=!0;break;case"object":switch(O.$$typeof){case r:case e:De=!0;break;case b:return De=O._init,F(De(O._payload),X,ne,ae,ge)}}if(De)return ge=ge(O),De=ae===""?"."+Ge(O,0):ae,lt(ge)?(ne="",De!=null&&(ne=De.replace(R,"$&/")+"/"),F(ge,X,ne,"",function(ti){return ti})):ge!=null&&(D(ge)&&(ge=V(ge,ne+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(R,"$&/")+"/")+De)),X.push(ge)),1;De=0;var dt=ae===""?".":ae+":";if(lt(O))for(var rt=0;rt<O.length;rt++)ae=O[rt],_e=dt+Ge(ae,rt),De+=F(ae,X,ne,_e,ge);else if(rt=Y(O),typeof rt=="function")for(O=rt.call(O),rt=0;!(ae=O.next()).done;)ae=ae.value,_e=dt+Ge(ae,rt++),De+=F(ae,X,ne,_e,ge);else if(_e==="object"){if(typeof O.then=="function")return F(vt(O),X,ne,ae,ge);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return De}function te(O,X,ne){if(O==null)return O;var ae=[],ge=0;return F(O,ae,"","",function(_e){return X.call(ne,_e,ge++)}),ae}function oe(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Ae=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qe={map:te,forEach:function(O,X,ne){te(O,function(){X.apply(this,arguments)},ne)},count:function(O){var X=0;return te(O,function(){X++}),X},toArray:function(O){return te(O,function(X){return X})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=w,Se.Children=qe,Se.Component=me,Se.Fragment=i,Se.Profiler=l,Se.PureComponent=ye,Se.StrictMode=s,Se.Suspense=_,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,X,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=re({},O.props),ge=O.key;if(X!=null)for(_e in X.key!==void 0&&(ge=""+X.key),X)!S.call(X,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&X.ref===void 0||(ae[_e]=X[_e]);var _e=arguments.length-2;if(_e===1)ae.children=ne;else if(1<_e){for(var De=Array(_e),dt=0;dt<_e;dt++)De[dt]=arguments[dt+2];ae.children=De}return x(O.type,ge,ae)},Se.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Se.createElement=function(O,X,ne){var ae,ge={},_e=null;if(X!=null)for(ae in X.key!==void 0&&(_e=""+X.key),X)S.call(X,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=X[ae]);var De=arguments.length-2;if(De===1)ge.children=ne;else if(1<De){for(var dt=Array(De),rt=0;rt<De;rt++)dt[rt]=arguments[rt+2];ge.children=dt}if(O&&O.defaultProps)for(ae in De=O.defaultProps,De)ge[ae]===void 0&&(ge[ae]=De[ae]);return x(O,_e,ge)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:g,render:O}},Se.isValidElement=D,Se.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:oe}},Se.memo=function(O,X){return{$$typeof:y,type:O,compare:X===void 0?null:X}},Se.startTransition=function(O){var X=C.T,ne={};C.T=ne;try{var ae=O(),ge=C.S;ge!==null&&ge(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ne,Ae)}catch(_e){Ae(_e)}finally{X!==null&&ne.types!==null&&(X.types=ne.types),C.T=X}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(O){return C.H.use(O)},Se.useActionState=function(O,X,ne){return C.H.useActionState(O,X,ne)},Se.useCallback=function(O,X){return C.H.useCallback(O,X)},Se.useContext=function(O){return C.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,X){return C.H.useDeferredValue(O,X)},Se.useEffect=function(O,X){return C.H.useEffect(O,X)},Se.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(O,X,ne){return C.H.useImperativeHandle(O,X,ne)},Se.useInsertionEffect=function(O,X){return C.H.useInsertionEffect(O,X)},Se.useLayoutEffect=function(O,X){return C.H.useLayoutEffect(O,X)},Se.useMemo=function(O,X){return C.H.useMemo(O,X)},Se.useOptimistic=function(O,X){return C.H.useOptimistic(O,X)},Se.useReducer=function(O,X,ne){return C.H.useReducer(O,X,ne)},Se.useRef=function(O){return C.H.useRef(O)},Se.useState=function(O){return C.H.useState(O)},Se.useSyncExternalStore=function(O,X,ne){return C.H.useSyncExternalStore(O,X,ne)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.4",Se}var K_;function xm(){return K_||(K_=1,jd.exports=Gb()),jd.exports}var we=xm(),Bd={exports:{}},Bl={},qd={exports:{}},Hd={};var Q_;function Kb(){return Q_||(Q_=1,(function(r){function e(F,te){var oe=F.length;F.push(te);e:for(;0<oe;){var Ae=oe-1>>>1,qe=F[Ae];if(0<l(qe,te))F[Ae]=te,F[oe]=qe,oe=Ae;else break e}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var te=F[0],oe=F.pop();if(oe!==te){F[0]=oe;e:for(var Ae=0,qe=F.length,O=qe>>>1;Ae<O;){var X=2*(Ae+1)-1,ne=F[X],ae=X+1,ge=F[ae];if(0>l(ne,oe))ae<qe&&0>l(ge,ne)?(F[Ae]=ge,F[ae]=oe,Ae=ae):(F[Ae]=ne,F[X]=oe,Ae=X);else if(ae<qe&&0>l(ge,oe))F[Ae]=ge,F[ae]=oe,Ae=ae;else break e}}return te}function l(F,te){var oe=F.sortIndex-te.sortIndex;return oe!==0?oe:F.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,w=null,M=3,Y=!1,W=!1,re=!1,se=!1,me=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function je(F){for(var te=i(y);te!==null;){if(te.callback===null)s(y);else if(te.startTime<=F)s(y),te.sortIndex=te.expirationTime,e(_,te);else break;te=i(y)}}function lt(F){if(re=!1,je(F),!W)if(i(_)!==null)W=!0,Ne||(Ne=!0,U());else{var te=i(y);te!==null&&vt(lt,te.startTime-F)}}var Ne=!1,C=-1,S=5,x=-1;function V(){return se?!0:!(r.unstable_now()-x<S)}function D(){if(se=!1,Ne){var F=r.unstable_now();x=F;var te=!0;try{e:{W=!1,re&&(re=!1,Te(C),C=-1),Y=!0;var oe=M;try{t:{for(je(F),w=i(_);w!==null&&!(w.expirationTime>F&&V());){var Ae=w.callback;if(typeof Ae=="function"){w.callback=null,M=w.priorityLevel;var qe=Ae(w.expirationTime<=F);if(F=r.unstable_now(),typeof qe=="function"){w.callback=qe,je(F),te=!0;break t}w===i(_)&&s(_),je(F)}else s(_);w=i(_)}if(w!==null)te=!0;else{var O=i(y);O!==null&&vt(lt,O.startTime-F),te=!1}}break e}finally{w=null,M=oe,Y=!1}te=void 0}}finally{te?U():Ne=!1}}}var U;if(typeof ye=="function")U=function(){ye(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ge=R.port2;R.port1.onmessage=D,U=function(){Ge.postMessage(null)}}else U=function(){me(D,0)};function vt(F,te){C=me(function(){F(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(F){switch(M){case 1:case 2:case 3:var te=3;break;default:te=M}var oe=M;M=te;try{return F()}finally{M=oe}},r.unstable_requestPaint=function(){se=!0},r.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var oe=M;M=F;try{return te()}finally{M=oe}},r.unstable_scheduleCallback=function(F,te,oe){var Ae=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ae+oe:Ae):oe=Ae,F){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=oe+qe,F={id:b++,callback:te,priorityLevel:F,startTime:oe,expirationTime:qe,sortIndex:-1},oe>Ae?(F.sortIndex=oe,e(y,F),i(_)===null&&F===i(y)&&(re?(Te(C),C=-1):re=!0,vt(lt,oe-Ae))):(F.sortIndex=qe,e(_,F),W||Y||(W=!0,Ne||(Ne=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var te=M;return function(){var oe=M;M=te;try{return F.apply(this,arguments)}finally{M=oe}}}})(Hd)),Hd}var Y_;function Qb(){return Y_||(Y_=1,qd.exports=Kb()),qd.exports}var Fd={exports:{}},Wt={};var X_;function Yb(){if(X_)return Wt;X_=1;var r=xm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},Wt.flushSync=function(_){var y=d.T,b=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=b,s.d.f()}},Wt.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Wt.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Wt.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:Y}):b==="script"&&s.d.X(_,{crossOrigin:w,integrity:M,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Wt.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin);s.d.L(_,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Wt.requestFormReset=function(_){s.d.r(_)},Wt.unstable_batchedUpdates=function(_,y){return _(y)},Wt.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},Wt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Wt.version="19.2.4",Wt}var $_;function Xb(){if($_)return Fd.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=Yb(),Fd.exports}var J_;function $b(){if(J_)return Bl;J_=1;var r=Qb(),e=xm(),i=Xb();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),Te=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case me:return"Profiler";case se:return"StrictMode";case lt:return"Suspense";case Ne:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ye:return t.displayName||"Context";case Te:return(t._context.displayName||"Context")+".Consumer";case je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Ge(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ge(t(n))}catch{}}return null}var vt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ae=[],qe=-1;function O(t){return{current:t}}function X(t){0>qe||(t.current=Ae[qe],Ae[qe]=null,qe--)}function ne(t,n){qe++,Ae[qe]=t.current,t.current=n}var ae=O(null),ge=O(null),_e=O(null),De=O(null);function dt(t,n){switch(ne(_e,n),ne(ge,t),ne(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?f_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=f_(n),t=d_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ae),ne(ae,t)}function rt(){X(ae),X(ge),X(_e)}function ti(t){t.memoizedState!==null&&ne(De,t);var n=ae.current,a=d_(n,t.type);n!==a&&(ne(ge,t),ne(ae,a))}function Hi(t){ge.current===t&&(X(ae),X(ge)),De.current===t&&(X(De),Ul._currentValue=oe)}var yi,Fi;function un(t){if(yi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);yi=n&&n[1]||"",Fi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yi+t+Fi}var Gi=!1;function _i(t,n){if(!t||Gi)return"";Gi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){B=H}t.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Gi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?un(a):""}function vi(t,n){switch(t.tag){case 26:case 27:case 5:return un(t.type);case 16:return un("Lazy");case 13:return t.child!==n&&n!==null?un("Suspense Fallback"):un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return _i(t.type,!1);case 11:return _i(t.type.render,!1);case 1:return _i(t.type,!0);case 31:return un("Activity");default:return""}}function br(t){try{var n="",a=null;do n+=vi(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pt=Object.prototype.hasOwnProperty,yt=r.unstable_scheduleCallback,Un=r.unstable_cancelCallback,Ns=r.unstable_shouldYield,Ar=r.unstable_requestPaint,It=r.unstable_now,Ln=r.unstable_getCurrentPriorityLevel,Sr=r.unstable_ImmediatePriority,cn=r.unstable_UserBlockingPriority,hn=r.unstable_NormalPriority,Ea=r.unstable_LowPriority,Ki=r.unstable_IdlePriority,Ta=r.log,wr=r.unstable_setDisableYieldValue,bn=null,Et=null;function sn(t){if(typeof Ta=="function"&&wr(t),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(bn,t)}catch{}}var at=Math.clz32?Math.clz32:Aa,ba=Math.log,Rr=Math.LN2;function Aa(t){return t>>>=0,t===0?32:31-(ba(t)/Rr|0)|0}var Pn=256,Ei=262144,Tt=4194304;function zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=zn(o):(p&=E,p!==0?h=zn(p):a||(a=E&~t,a!==0&&(h=zn(a))))):(E=o&~f,E!==0?h=zn(E):p!==0?h=zn(p):a||(a=o&~t,a!==0&&(h=zn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function An(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Sa(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wa(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function Sn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function jn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qo(t,n,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(a=p&~a;0<a;){var G=31-at(a),$=1<<G;E[G]=0,I[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&Qi(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Qi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-at(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ds(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-at(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Cr(t,n){var a=n&-n;return a=(a&42)!==0?1:Yi(a),(a&(t.suspendedLanes|n))!==0?0:a}function Yi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ni(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ra(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:U_(t.type))}function wn(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var j=Math.random().toString(36).slice(2),K="__reactFiber$"+j,ie="__reactProps$"+j,We="__reactContainer$"+j,Ye="__reactEvents$"+j,an="__reactListeners$"+j,Os="__reactHandles$"+j,Ms="__reactResources$"+j,ii="__reactMarker$"+j;function Ir(t){delete t[K],delete t[ie],delete t[Ye],delete t[an],delete t[Os]}function Ti(t){var n=t[K];if(n)return n;for(var a=t.parentNode;a;){if(n=a[We]||a[K]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=E_(t);t!==null;){if(a=t[K])return a;t=E_(t)}return n}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[K]||t[We]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function bi(t){var n=t[Ms];return n||(n=t[Ms]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xt(t){t[ii]=!0}var Ho=new Set,Fo={};function Ai(t,n){Si(t,n),Si(t+"Capture",n)}function Si(t,n){for(Fo[t]=n,t=0;t<n.length;t++)Ho.add(n[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Qo={};function bu(t){return pt.call(Qo,t)?!0:pt.call(Ko,t)?!1:Go.test(t)?Qo[t]=!0:(Ko[t]=!0,!1)}function Ca(t,n,a){if(bu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Nt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Yo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $e(t){if(!t._valueTracker){var n=xr(t)?"checked":"value";t._valueTracker=Yo(t,n,""+t[n])}}function Vs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=xr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ks=/[\n"\\]/g;function dn(t){return t.replace(ks,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ia(t,n,a,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qt(n)):t.value!==""+qt(n)&&(t.value=""+qt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Xo(t,p,qt(n)):a!=null?Xo(t,p,qt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+qt(E):t.removeAttribute("name")}function Au(t,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$e(t);return}a=a!=null?""+qt(a):"",n=n!=null?""+qt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),$e(t)}function Xo(t,n,a){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Nr(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+qt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Su(t,n,a){if(n!=null&&(n=""+qt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+qt(a):""}function Dr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(vt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=qt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),$e(t)}function mn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||wu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Jo(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&$o(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&$o(t,f,n[f])}function xa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Or.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var Zo=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mr=null,Ri=null;function Us(t){var n=Bn(t);if(n&&(t=n.stateNode)){var a=t[ie]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[ie]||null;if(!h)throw Error(s(90));Ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Vs(o)}break e;case"textarea":Su(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Nr(t,!!a.multiple,n,!1)}}}var Da=!1;function Vr(t,n,a){if(Da)return t(n,a);Da=!0;try{var o=t(n);return o}finally{if(Da=!1,(Mr!==null||Ri!==null)&&(vc(),Mr&&(n=Mr,t=Ri,Ri=Mr=null,Us(n),t)))for(n=0;n<t.length;n++)Us(t[n])}}function si(t,n){var a=t.stateNode;if(a===null)return null;var o=a[ie]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(Hn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ls=!1}var Ci=null,Wo=null,Ps=null;function el(){if(Ps)return Ps;var t,n=Wo,a=n.length,o,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return Ps=h.slice(t,1<o?1-o:void 0)}function zs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function ai(){return!1}function Gt(t){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xi:ai,this.isPropagationStopped=ai,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Gt($i),kr=w({},$i,{view:0,detail:0}),tl=Gt(kr),Ur,Oa,xi,Ma=w({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Ur=t.screenX-xi.screenX,Oa=t.screenY-xi.screenY):Oa=Ur=0,xi=t),Ur)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),nl=Gt(Ma),js=w({},Ma,{dataTransfer:0}),Cu=Gt(js),Iu=w({},kr,{relatedTarget:0}),Bs=Gt(Iu),il=w({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=Gt(il),Va=w({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=Gt(Va),Du=w({},$i,{data:0}),Ni=Gt(Du),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vu[t])?!!n[t]:!1}function Lr(){return ku}var on=w({},kr,{key:function(t){if(t.key){var n=Ou[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=zs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(t){return t.type==="keypress"?zs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=Gt(on),Lu=w({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Gt(Lu),u=w({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),m=Gt(u),v=w({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Gt(v),L=w({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Gt(L),ee=w({},$i,{newState:0,oldState:0}),Ce=Gt(ee),St=[9,13,27,32],Ke=Hn&&"CompositionEvent"in window,mt=null;Hn&&"documentMode"in document&&(mt=document.documentMode);var Fn=Hn&&"TextEvent"in window&&!mt,Di=Hn&&(!Ke||mt&&8<mt&&11>=mt),oi=" ",li=!1;function qs(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function d1(t,n){switch(t){case"compositionend":return ka(n);case"keypress":return n.which!==32?null:(li=!0,oi);case"textInput":return t=n.data,t===oi&&li?null:t;default:return null}}function m1(t,n){if(Ua)return t==="compositionend"||!Ke&&qs(t,n)?(t=el(),Ps=Wo=Ci=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var g1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!g1[t.type]:n==="textarea"}function Sg(t,n,a,o){Mr?Ri?Ri.push(o):Ri=[o]:Mr=o,n=Rc(n,"onChange"),0<n.length&&(a=new Ii("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var rl=null,sl=null;function p1(t){a_(t,0)}function Pu(t){var n=Rn(t);if(Vs(n))return t}function wg(t,n){if(t==="change")return n}var Rg=!1;if(Hn){var Gh;if(Hn){var Kh="oninput"in document;if(!Kh){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Kh=typeof Cg.oninput=="function"}Gh=Kh}else Gh=!1;Rg=Gh&&(!document.documentMode||9<document.documentMode)}function Ig(){rl&&(rl.detachEvent("onpropertychange",xg),sl=rl=null)}function xg(t){if(t.propertyName==="value"&&Pu(sl)){var n=[];Sg(n,sl,t,qn(t)),Vr(p1,n)}}function y1(t,n,a){t==="focusin"?(Ig(),rl=n,sl=a,rl.attachEvent("onpropertychange",xg)):t==="focusout"&&Ig()}function _1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(sl)}function v1(t,n){if(t==="click")return Pu(n)}function E1(t,n){if(t==="input"||t==="change")return Pu(n)}function T1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:T1;function al(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!pt.call(n,h)||!In(t[h],n[h]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,n){var a=Ng(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ng(a)}}function Og(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Og(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=wi(t.document)}return n}function Qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var b1=Hn&&"documentMode"in document&&11>=document.documentMode,La=null,Yh=null,ol=null,Xh=!1;function Vg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||La==null||La!==wi(o)||(o=La,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ol&&al(ol,o)||(ol=o,o=Rc(Yh,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=La)))}function Hs(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Pa={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},$h={},kg={};Hn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Fs(t){if($h[t])return $h[t];if(!Pa[t])return t;var n=Pa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in kg)return $h[t]=n[a];return t}var Ug=Fs("animationend"),Lg=Fs("animationiteration"),Pg=Fs("animationstart"),A1=Fs("transitionrun"),S1=Fs("transitionstart"),w1=Fs("transitioncancel"),zg=Fs("transitionend"),jg=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function ui(t,n){jg.set(t,n),Ai(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gn=[],za=0,Zh=0;function ju(){for(var t=za,n=Zh=za=0;n<t;){var a=Gn[n];Gn[n++]=null;var o=Gn[n];Gn[n++]=null;var h=Gn[n];Gn[n++]=null;var f=Gn[n];if(Gn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Bg(a,h,f)}}function Bu(t,n,a,o){Gn[za++]=t,Gn[za++]=n,Gn[za++]=a,Gn[za++]=o,Zh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Wh(t,n,a,o){return Bu(t,n,a,o),qu(t)}function Gs(t,n){return Bu(t,null,null,n),qu(t)}function Bg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-at(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function qu(t){if(50<xl)throw xl=0,ud=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ja={};function R1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,a,o){return new R1(t,n,a,o)}function ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var a=t.alternate;return a===null?(a=xn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Hu(t,n,a,o,h,f){var p=0;if(o=t,typeof t=="function")ef(t)&&(p=1);else if(typeof t=="string")p=Db(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=xn(31,a,n,h),t.elementType=x,t.lanes=f,t;case re:return Ks(a.children,h,f,n);case se:p=8,h|=24;break;case me:return t=xn(12,a,n,h|2),t.elementType=me,t.lanes=f,t;case lt:return t=xn(13,a,n,h),t.elementType=lt,t.lanes=f,t;case Ne:return t=xn(19,a,n,h),t.elementType=Ne,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ye:p=10;break e;case Te:p=9;break e;case je:p=11;break e;case C:p=14;break e;case S:p=16,o=null;break e}p=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=xn(p,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Ks(t,n,a,o){return t=xn(7,t,o,n),t.lanes=a,t}function tf(t,n,a){return t=xn(6,t,null,n),t.lanes=a,t}function Hg(t){var n=xn(18,null,null,0);return n.stateNode=t,n}function nf(t,n,a){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Fg=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var a=Fg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:br(n)},Fg.set(t,n),n)}return{value:t,source:n,stack:br(n)}}var Ba=[],qa=0,Fu=null,ll=0,Qn=[],Yn=0,Pr=null,Oi=1,Mi="";function Wi(t,n){Ba[qa++]=ll,Ba[qa++]=Fu,Fu=t,ll=n}function Gg(t,n,a){Qn[Yn++]=Oi,Qn[Yn++]=Mi,Qn[Yn++]=Pr,Pr=t;var o=Oi;t=Mi;var h=32-at(o)-1;o&=~(1<<h),a+=1;var f=32-at(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Oi=1<<32-at(n)+h|a<<h|o,Mi=f+t}else Oi=1<<f|a<<h|o,Mi=t}function rf(t){t.return!==null&&(Wi(t,1),Gg(t,1,0))}function sf(t){for(;t===Fu;)Fu=Ba[--qa],Ba[qa]=null,ll=Ba[--qa],Ba[qa]=null;for(;t===Pr;)Pr=Qn[--Yn],Qn[Yn]=null,Mi=Qn[--Yn],Qn[Yn]=null,Oi=Qn[--Yn],Qn[Yn]=null}function Kg(t,n){Qn[Yn++]=Oi,Qn[Yn++]=Mi,Qn[Yn++]=Pr,Oi=n.id,Mi=n.overflow,Pr=t}var Kt=null,ut=null,ze=!1,zr=null,Xn=!1,af=Error(s(519));function jr(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Kn(n,t)),af}function Qg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[K]=t,n[ie]=o,a){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Me(Dl[a],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),Au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),Dr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||c_(n.textContent,a)?(o.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),o.onScroll!=null&&Me("scroll",n),o.onScrollEnd!=null&&Me("scrollend",n),o.onClick!=null&&(n.onclick=ri),n=!0):n=!1,n||jr(t,!0)}function Yg(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Kt=Kt.return}}function Ha(t){if(t!==Kt)return!1;if(!ze)return Yg(t),ze=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Sd(t.type,t.memoizedProps)),a=!a),a&&ut&&jr(t),Yg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=v_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=v_(t)}else n===27?(n=ut,es(t.type)?(t=xd,xd=null,ut=t):ut=n):ut=Kt?Jn(t.stateNode.nextSibling):null;return!0}function Qs(){ut=Kt=null,ze=!1}function of(){var t=zr;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),zr=null),t}function ul(t){zr===null?zr=[t]:zr.push(t)}var lf=O(null),Ys=null,er=null;function Br(t,n,a){ne(lf,n._currentValue),n._currentValue=a}function tr(t){t._currentValue=lf.current,X(lf)}function uf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function cf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),uf(f.return,a,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),uf(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Fa(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=h.type;In(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===De.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}h=h.return}t!==null&&cf(n,t,a,o),n.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xs(t){Ys=t,er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Xg(Ys,t)}function Ku(t,n){return Ys===null&&Xs(t),Xg(t,n)}function Xg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},er===null){if(t===null)throw Error(s(308));er=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else er=er.next=n;return a}var C1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},I1=r.unstable_scheduleCallback,x1=r.unstable_NormalPriority,Dt={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new C1,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&I1(x1,function(){t.controller.abort()})}var hl=null,ff=0,Ga=0,Ka=null;function N1(t,n){if(hl===null){var a=hl=[];ff=0,Ga=gd(),Ka={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ff++,n.then($g,$g),n}function $g(){if(--ff===0&&hl!==null){Ka!==null&&(Ka.status="fulfilled");var t=hl;hl=null,Ga=0,Ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function D1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Jg=F.S;F.S=function(t,n){Vy=It(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&N1(t,n),Jg!==null&&Jg(t,n)};var $s=O(null);function df(){var t=$s.current;return t!==null?t:st.pooledCache}function Qu(t,n){n===null?ne($s,$s.current):ne($s,n.pool)}function Zg(){var t=df();return t===null?null:{parent:Dt._currentValue,pool:t}}var Qa=Error(s(460)),mf=Error(s(474)),Yu=Error(s(542)),Xu={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ep(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ri,ri),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t;default:if(typeof n.status=="string")n.then(ri,ri);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t}throw Zs=n,Qa}}function Js(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zs=a,Qa):a}}var Zs=null;function tp(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function np(t){if(t===Qa||t===Yu)throw Error(s(483))}var Ya=null,fl=0;function $u(t){var n=fl;return fl+=1,Ya===null&&(Ya=[]),ep(Ya,t,n)}function dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ju(t,n){throw n.$$typeof===M?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ip(t){function n(k,N){if(t){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function a(k,N){if(!t)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Zi(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,P,Q){return N===null||N.tag!==6?(N=tf(P,k.mode,Q),N.return=k,N):(N=h(N,P),N.return=k,N)}function I(k,N,P,Q){var fe=P.type;return fe===re?G(k,N,P.props.children,Q,P.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Js(fe)===N.type)?(N=h(N,P.props),dl(N,P),N.return=k,N):(N=Hu(P.type,P.key,P.props,null,k.mode,Q),dl(N,P),N.return=k,N)}function z(k,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=nf(P,k.mode,Q),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function G(k,N,P,Q,fe){return N===null||N.tag!==7?(N=Ks(P,k.mode,Q,fe),N.return=k,N):(N=h(N,P),N.return=k,N)}function $(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=tf(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Y:return P=Hu(N.type,N.key,N.props,null,k.mode,P),dl(P,N),P.return=k,P;case W:return N=nf(N,k.mode,P),N.return=k,N;case S:return N=Js(N),$(k,N,P)}if(vt(N)||U(N))return N=Ks(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return $(k,$u(N),P);if(N.$$typeof===ye)return $(k,Ku(k,N),P);Ju(k,N)}return null}function B(k,N,P,Q){var fe=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return fe!==null?null:E(k,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:return P.key===fe?I(k,N,P,Q):null;case W:return P.key===fe?z(k,N,P,Q):null;case S:return P=Js(P),B(k,N,P,Q)}if(vt(P)||U(P))return fe!==null?null:G(k,N,P,Q,null);if(typeof P.then=="function")return B(k,N,$u(P),Q);if(P.$$typeof===ye)return B(k,N,Ku(k,P),Q);Ju(k,P)}return null}function H(k,N,P,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(N,k,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return k=k.get(Q.key===null?P:Q.key)||null,I(N,k,Q,fe);case W:return k=k.get(Q.key===null?P:Q.key)||null,z(N,k,Q,fe);case S:return Q=Js(Q),H(k,N,P,Q,fe)}if(vt(Q)||U(Q))return k=k.get(P)||null,G(N,k,Q,fe,null);if(typeof Q.then=="function")return H(k,N,P,$u(Q),fe);if(Q.$$typeof===ye)return H(k,N,P,Ku(N,Q),fe);Ju(N,Q)}return null}function ce(k,N,P,Q){for(var fe=null,He=null,he=N,xe=N=0,ke=null;he!==null&&xe<P.length;xe++){he.index>xe?(ke=he,he=null):ke=he.sibling;var Fe=B(k,he,P[xe],Q);if(Fe===null){he===null&&(he=ke);break}t&&he&&Fe.alternate===null&&n(k,he),N=f(Fe,N,xe),He===null?fe=Fe:He.sibling=Fe,He=Fe,he=ke}if(xe===P.length)return a(k,he),ze&&Wi(k,xe),fe;if(he===null){for(;xe<P.length;xe++)he=$(k,P[xe],Q),he!==null&&(N=f(he,N,xe),He===null?fe=he:He.sibling=he,He=he);return ze&&Wi(k,xe),fe}for(he=o(he);xe<P.length;xe++)ke=H(he,k,xe,P[xe],Q),ke!==null&&(t&&ke.alternate!==null&&he.delete(ke.key===null?xe:ke.key),N=f(ke,N,xe),He===null?fe=ke:He.sibling=ke,He=ke);return t&&he.forEach(function(ss){return n(k,ss)}),ze&&Wi(k,xe),fe}function pe(k,N,P,Q){if(P==null)throw Error(s(151));for(var fe=null,He=null,he=N,xe=N=0,ke=null,Fe=P.next();he!==null&&!Fe.done;xe++,Fe=P.next()){he.index>xe?(ke=he,he=null):ke=he.sibling;var ss=B(k,he,Fe.value,Q);if(ss===null){he===null&&(he=ke);break}t&&he&&ss.alternate===null&&n(k,he),N=f(ss,N,xe),He===null?fe=ss:He.sibling=ss,He=ss,he=ke}if(Fe.done)return a(k,he),ze&&Wi(k,xe),fe;if(he===null){for(;!Fe.done;xe++,Fe=P.next())Fe=$(k,Fe.value,Q),Fe!==null&&(N=f(Fe,N,xe),He===null?fe=Fe:He.sibling=Fe,He=Fe);return ze&&Wi(k,xe),fe}for(he=o(he);!Fe.done;xe++,Fe=P.next())Fe=H(he,k,xe,Fe.value,Q),Fe!==null&&(t&&Fe.alternate!==null&&he.delete(Fe.key===null?xe:Fe.key),N=f(Fe,N,xe),He===null?fe=Fe:He.sibling=Fe,He=Fe);return t&&he.forEach(function(qb){return n(k,qb)}),ze&&Wi(k,xe),fe}function it(k,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===re&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:e:{for(var fe=P.key;N!==null;){if(N.key===fe){if(fe=P.type,fe===re){if(N.tag===7){a(k,N.sibling),Q=h(N,P.props.children),Q.return=k,k=Q;break e}}else if(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Js(fe)===N.type){a(k,N.sibling),Q=h(N,P.props),dl(Q,P),Q.return=k,k=Q;break e}a(k,N);break}else n(k,N);N=N.sibling}P.type===re?(Q=Ks(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Hu(P.type,P.key,P.props,null,k.mode,Q),dl(Q,P),Q.return=k,k=Q)}return p(k);case W:e:{for(fe=P.key;N!==null;){if(N.key===fe)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(k,N.sibling),Q=h(N,P.children||[]),Q.return=k,k=Q;break e}else{a(k,N);break}else n(k,N);N=N.sibling}Q=nf(P,k.mode,Q),Q.return=k,k=Q}return p(k);case S:return P=Js(P),it(k,N,P,Q)}if(vt(P))return ce(k,N,P,Q);if(U(P)){if(fe=U(P),typeof fe!="function")throw Error(s(150));return P=fe.call(P),pe(k,N,P,Q)}if(typeof P.then=="function")return it(k,N,$u(P),Q);if(P.$$typeof===ye)return it(k,N,Ku(k,P),Q);Ju(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(k,N.sibling),Q=h(N,P),Q.return=k,k=Q):(a(k,N),Q=tf(P,k.mode,Q),Q.return=k,k=Q),p(k)):a(k,N)}return function(k,N,P,Q){try{fl=0;var fe=it(k,N,P,Q);return Ya=null,fe}catch(he){if(he===Qa||he===Yu)throw he;var He=xn(29,he,null,k.mode);return He.lanes=Q,He.return=k,He}}}var Ws=ip(!0),rp=ip(!1),qr=!1;function gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=qu(t),Bg(t,null,a),n}return Bu(t,o,n,a),qu(t)}function ml(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ds(t,a)}}function yf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var _f=!1;function gl(){if(_f){var t=Ka;if(t!==null)throw t}}function pl(t,n,a,o){_f=!1;var h=t.updateQueue;qr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;p=0,G=z=I=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ve&B)===B:(o&B)===B){B!==0&&B===Ga&&(_f=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=t,pe=E;B=n;var it=a;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){$=ce.call(it,$,B);break e}$=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,B=typeof ce=="function"?ce.call(it,$,B):ce,B==null)break e;$=w({},$,B);break e;case 2:qr=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,I=$):G=G.next=H,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=$),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Xr|=p,t.lanes=p,t.memoizedState=$}}function sp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ap(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sp(a[t],n)}var Xa=O(null),Zu=O(0);function op(t,n){t=cr,ne(Zu,t),ne(Xa,n),cr=t|n.baseLanes}function vf(){ne(Zu,cr),ne(Xa,Xa.current)}function Ef(){cr=Zu.current,X(Xa),X(Zu)}var Nn=O(null),$n=null;function Gr(t){var n=t.alternate;ne(wt,wt.current&1),ne(Nn,t),$n===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&($n=t)}function Tf(t){ne(wt,wt.current),ne(Nn,t),$n===null&&($n=t)}function lp(t){t.tag===22?(ne(wt,wt.current),ne(Nn,t),$n===null&&($n=t)):Kr()}function Kr(){ne(wt,wt.current),ne(Nn,Nn.current)}function Dn(t){X(Nn),$n===t&&($n=null),X(wt)}var wt=O(0);function Wu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cd(a)||Id(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nr=0,Ie=null,tt=null,Ot=null,ec=!1,$a=!1,ea=!1,tc=0,yl=0,Ja=null,O1=0;function bt(){throw Error(s(321))}function bf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!In(t[a],n[a]))return!1;return!0}function Af(t,n,a,o,h,f){return nr=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Gp:Pf,ea=!1,f=a(o,h),ea=!1,$a&&(f=cp(n,a,o,h)),up(t),f}function up(t){F.H=El;var n=tt!==null&&tt.next!==null;if(nr=0,Ot=tt=Ie=null,ec=!1,yl=0,Ja=null,n)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&Gu(t)&&(Mt=!0))}function cp(t,n,a,o){Ie=t;var h=0;do{if($a&&(Ja=null),yl=0,$a=!1,25<=h)throw Error(s(301));if(h+=1,Ot=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Kp,f=n(a,o)}while($a);return f}function M1(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?_l(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ie.flags|=1024),n}function Sf(){var t=tc!==0;return tc=0,t}function wf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Rf(t){if(ec){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ec=!1}nr=0,Ot=tt=Ie=null,$a=!1,yl=tc=0,Ja=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ie.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Rt(){if(tt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=Ot===null?Ie.memoizedState:Ot.next;if(n!==null)Ot=n,tt=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ot===null?Ie.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var n=yl;return yl+=1,Ja===null&&(Ja=[]),t=ep(Ja,t,n),n=Ie,(Ot===null?n.memoizedState:Ot.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Gp:Pf),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===ye)return Qt(t)}throw Error(s(438,String(t)))}function Cf(t){var n=null,a=Ie.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=nc(),Ie.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function ir(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=Rt();return If(n,tt,t)}function If(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Ve&$)===$:(nr&$)===$){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ga&&(G=!0);else if((nr&B)===B){z=z.next,B===Ga&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=$,p=f):I=I.next=$,Ie.lanes|=B,Xr|=B;$=z.action,ea&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=B,p=f):I=I.next=B,Ie.lanes|=$,Xr|=$;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!In(f,t.memoizedState)&&(Mt=!0,G&&(a=Ka,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function xf(t){var n=Rt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);In(f,n.memoizedState)||(Mt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function hp(t,n,a){var o=Ie,h=Rt(),f=ze;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!In((tt||h).memoizedState,a);if(p&&(h.memoizedState=a,Mt=!0),h=h.queue,Of(mp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Ot!==null&&Ot.memoizedState.tag&1){if(o.flags|=2048,Za(9,{destroy:void 0},dp.bind(null,o,h,a,n),null),st===null)throw Error(s(349));f||(nr&127)!==0||fp(o,n,a)}return a}function fp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ie.updateQueue,n===null?(n=nc(),Ie.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function dp(t,n,a,o){n.value=a,n.getSnapshot=o,gp(n)&&pp(t)}function mp(t,n,a){return a(function(){gp(n)&&pp(t)})}function gp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!In(t,a)}catch{return!0}}function pp(t){var n=Gs(t,2);n!==null&&vn(n,t,2)}function Nf(t){var n=ln();if(typeof t=="function"){var a=t;if(t=a(),ea){sn(!0);try{a()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},n}function yp(t,n,a,o){return t.baseState=a,If(t,tt,typeof o=="function"?o:ir)}function V1(t,n,a,o,h){if(oc(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,_p(n,f)):(f.next=a.next,n.pending=a.next=f)}}function _p(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=a(h,o),I=F.S;I!==null&&I(p,E),vp(t,n,E)}catch(z){Df(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=a(h,o),vp(t,n,f)}catch(z){Df(t,n,z)}}function vp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ep(t,n,o)},function(o){return Df(t,n,o)}):Ep(t,n,a)}function Ep(t,n,a){n.status="fulfilled",n.value=a,Tp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,_p(t,a)))}function Df(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Tp(n),n=n.next;while(n!==o)}t.action=null}function Tp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bp(t,n){return n}function Ap(t,n){if(ze){var a=st.formState;if(a!==null){e:{var o=Ie;if(ze){if(ut){t:{for(var h=ut,f=Xn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Jn(h.nextSibling),o=h.data==="F!";break e}}jr(o)}o=!1}o&&(n=a[0])}}return a=ln(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:n},a.queue=o,a=qp.bind(null,Ie,o),o.dispatch=a,o=Nf(!1),f=Lf.bind(null,Ie,!1,o.queue),o=ln(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=V1.bind(null,Ie,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Sp(t){var n=Rt();return wp(n,tt,t)}function wp(t,n,a){if(n=If(t,n,bp)[0],t=rc(ir)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=_l(n)}catch(p){throw p===Qa?Yu:p}else o=n;n=Rt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ie.flags|=2048,Za(9,{destroy:void 0},k1.bind(null,h,a),null)),[o,f,t]}function k1(t,n){t.action=n}function Rp(t){var n=Rt(),a=tt;if(a!==null)return wp(n,a,t);Rt(),n=n.memoizedState,a=Rt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Za(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=nc(),Ie.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Cp(){return Rt().memoizedState}function sc(t,n,a,o){var h=ln();Ie.flags|=t,h.memoizedState=Za(1|n,{destroy:void 0},a,o===void 0?null:o)}function ac(t,n,a,o){var h=Rt();o=o===void 0?null:o;var f=h.memoizedState.inst;tt!==null&&o!==null&&bf(o,tt.memoizedState.deps)?h.memoizedState=Za(n,f,a,o):(Ie.flags|=t,h.memoizedState=Za(1|n,f,a,o))}function Ip(t,n){sc(8390656,8,t,n)}function Of(t,n){ac(2048,8,t,n)}function U1(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=nc(),Ie.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function xp(t){var n=Rt().memoizedState;return U1({ref:n,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Np(t,n){return ac(4,2,t,n)}function Dp(t,n){return ac(4,4,t,n)}function Op(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mp(t,n,a){a=a!=null?a.concat([t]):null,ac(4,4,Op.bind(null,n,t),a)}function Mf(){}function Vp(t,n){var a=Rt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&bf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function kp(t,n){var a=Rt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&bf(n,o[1]))return o[0];if(o=t(),ea){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[o,n],o}function Vf(t,n,a){return a===void 0||(nr&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Uy(),Ie.lanes|=t,Xr|=t,a)}function Up(t,n,a,o){return In(a,n)?a:Xa.current!==null?(t=Vf(t,a,o),In(t,n)||(Mt=!0),t):(nr&42)===0||(nr&1073741824)!==0&&(Ve&261930)===0?(Mt=!0,t.memoizedState=a):(t=Uy(),Ie.lanes|=t,Xr|=t,n)}function Lp(t,n,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,Lf(t,!1,n,a);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=D1(I,o);vl(t,n,G,Vn(t))}else vl(t,n,o,Vn(t))}catch($){vl(t,n,{then:function(){},status:"rejected",reason:$},Vn())}finally{te.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function L1(){}function kf(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=Pp(t).queue;Lp(t,h,n,oe,a===null?L1:function(){return zp(t),a(o)})}function Pp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:oe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function zp(t){var n=Pp(t);n.next===null&&(n=t.alternate.memoizedState),vl(t,n.next.queue,{},Vn())}function Uf(){return Qt(Ul)}function jp(){return Rt().memoizedState}function Bp(){return Rt().memoizedState}function P1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Vn();t=Hr(a);var o=Fr(n,t,a);o!==null&&(vn(o,n,a),ml(o,n,a)),n={cache:hf()},t.payload=n;return}n=n.return}}function z1(t,n,a){var o=Vn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(t)?Hp(n,a):(a=Wh(t,n,a,o),a!==null&&(vn(a,t,o),Fp(a,n,o)))}function qp(t,n,a){var o=Vn();vl(t,n,a,o)}function vl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(t))Hp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,In(E,p))return Bu(t,n,h,0),st===null&&ju(),!1}catch{}if(a=Wh(t,n,h,o),a!==null)return vn(a,t,o),Fp(a,n,o),!0}return!1}function Lf(t,n,a,o){if(o={lane:2,revertLane:gd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(n)throw Error(s(479))}else n=Wh(t,a,o,2),n!==null&&vn(n,t,2)}function oc(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Hp(t,n){$a=ec=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Fp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ds(t,a)}}var El={readContext:Qt,use:ic,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};El.useEffectEvent=bt;var Gp={readContext:Qt,use:ic,useCallback:function(t,n){return ln().memoizedState=[t,n===void 0?null:n],t},useContext:Qt,useEffect:Ip,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,sc(4194308,4,Op.bind(null,n,t),a)},useLayoutEffect:function(t,n){return sc(4194308,4,t,n)},useInsertionEffect:function(t,n){sc(4,2,t,n)},useMemo:function(t,n){var a=ln();n=n===void 0?null:n;var o=t();if(ea){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=ln();if(a!==void 0){var h=a(n);if(ea){sn(!0);try{a(n)}finally{sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=z1.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var n=ln();return t={current:t},n.memoizedState=t},useState:function(t){t=Nf(t);var n=t.queue,a=qp.bind(null,Ie,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(t,n){var a=ln();return Vf(a,t,n)},useTransition:function(){var t=Nf(!1);return t=Lp.bind(null,Ie,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ie,h=ln();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),st===null)throw Error(s(349));(Ve&127)!==0||fp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ip(mp.bind(null,o,f,t),[t]),o.flags|=2048,Za(9,{destroy:void 0},dp.bind(null,o,f,a,n),null),a},useId:function(){var t=ln(),n=st.identifierPrefix;if(ze){var a=Mi,o=Oi;a=(o&~(1<<32-at(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=tc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=O1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Ap,useActionState:Ap,useOptimistic:function(t){var n=ln();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Lf.bind(null,Ie,!0,a),a.dispatch=n,[t,n]},useMemoCache:Cf,useCacheRefresh:function(){return ln().memoizedState=P1.bind(null,Ie)},useEffectEvent:function(t){var n=ln(),a={impl:t};return n.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:Qt,use:ic,useCallback:Vp,useContext:Qt,useEffect:Of,useImperativeHandle:Mp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:kp,useReducer:rc,useRef:Cp,useState:function(){return rc(ir)},useDebugValue:Mf,useDeferredValue:function(t,n){var a=Rt();return Up(a,tt.memoizedState,t,n)},useTransition:function(){var t=rc(ir)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:hp,useId:jp,useHostTransitionStatus:Uf,useFormState:Sp,useActionState:Sp,useOptimistic:function(t,n){var a=Rt();return yp(a,tt,t,n)},useMemoCache:Cf,useCacheRefresh:Bp};Pf.useEffectEvent=xp;var Kp={readContext:Qt,use:ic,useCallback:Vp,useContext:Qt,useEffect:Of,useImperativeHandle:Mp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:kp,useReducer:xf,useRef:Cp,useState:function(){return xf(ir)},useDebugValue:Mf,useDeferredValue:function(t,n){var a=Rt();return tt===null?Vf(a,t,n):Up(a,tt.memoizedState,t,n)},useTransition:function(){var t=xf(ir)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:hp,useId:jp,useHostTransitionStatus:Uf,useFormState:Rp,useActionState:Rp,useOptimistic:function(t,n){var a=Rt();return tt!==null?yp(a,tt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:Bp};Kp.useEffectEvent=xp;function zf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Vn(),h=Hr(o);h.payload=n,a!=null&&(h.callback=a),n=Fr(t,h,o),n!==null&&(vn(n,t,o),ml(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Vn(),h=Hr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Fr(t,h,o),n!==null&&(vn(n,t,o),ml(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Vn(),o=Hr(a);o.tag=2,n!=null&&(o.callback=n),n=Fr(t,o,a),n!==null&&(vn(n,t,a),ml(n,t,a))}};function Qp(t,n,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!al(a,o)||!al(h,f):!0}function Yp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&jf.enqueueReplaceState(n,n.state,null)}function ta(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Xp(t){zu(t)}function $p(t){console.error(t)}function Jp(t){zu(t)}function lc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Zp(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(t,n,a){return a=Hr(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(t,n)},a}function Wp(t){return t=Hr(t),t.tag=3,t}function ey(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Zp(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Zp(n,a,o),typeof h!="function"&&($r===null?$r=new Set([this]):$r.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function j1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Fa(n,a,h,!0),a=Nn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?Ec():a.alternate===null&&At===0&&(At=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),fd(t,o,h)),!1;case 22:return a.flags|=65536,o===Xu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),fd(t,o,h)),!1}throw Error(s(435,a.tag))}return fd(t,o,h),Ec(),!1}if(ze)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==af&&(t=Error(s(422),{cause:o}),ul(Kn(t,a)))):(o!==af&&(n=Error(s(423),{cause:o}),ul(Kn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Kn(o,a),h=Bf(t.stateNode,o,h),yf(t,h),At!==4&&(At=2)),!1;var f=Error(s(520),{cause:o});if(f=Kn(f,a),Il===null?Il=[f]:Il.push(f),At!==4&&(At=2),n===null)return!0;o=Kn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Bf(a.stateNode,o,t),yf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($r===null||!$r.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wp(h),ey(h,t,a,o),yf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(s(461)),Mt=!1;function Yt(t,n,a,o){n.child=t===null?rp(n,null,a,o):Ws(n,t.child,a,o)}function ty(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Xs(n),o=Af(t,n,a,p,f,h),E=Sf(),t!==null&&!Mt?(wf(t,n,h),rr(t,n,h)):(ze&&E&&rf(n),n.flags|=1,Yt(t,n,o,h),n.child)}function ny(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!ef(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,iy(t,n,f,o,h)):(t=Hu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!$f(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(p,o)&&t.ref===n.ref)return rr(t,n,h)}return n.flags|=1,t=Zi(f,o),t.ref=n.ref,t.return=n,n.child=t}function iy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(al(f,o)&&t.ref===n.ref)if(Mt=!1,n.pendingProps=o=f,$f(t,h))(t.flags&131072)!==0&&(Mt=!0);else return n.lanes=t.lanes,rr(t,n,h)}return Hf(t,n,a,o,h)}function ry(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return sy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(n,f!==null?f.cachePool:null),f!==null?op(n,f):vf(),lp(n);else return o=n.lanes=536870912,sy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Qu(n,f.cachePool),op(n,f),Kr(),n.memoizedState=null):(t!==null&&Qu(n,null),vf(),Kr());return Yt(t,n,h,a),n.child}function Tl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(t,n,a,o,h){var f=df();return f=f===null?null:{parent:Dt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Qu(n,null),vf(),lp(n),t!==null&&Fa(t,n,o,!0),n.childLanes=h,null}function uc(t,n){return n=hc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ay(t,n,a){return Ws(n,t.child,null,a),t=uc(n,n.pendingProps),t.flags|=2,Dn(n),n.memoizedState=null,t}function B1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=uc(n,o),n.lanes=536870912,Tl(null,t);if(Tf(n),(t=ut)?(t=__(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=n,n.child=a,Kt=n,ut=null)):t=null,t===null)throw jr(n);return n.lanes=536870912,null}return uc(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Tf(n),h)if(n.flags&256)n.flags&=-257,n=ay(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Mt||Fa(t,n,a,!1),h=(a&t.childLanes)!==0,Mt||h){if(o=st,o!==null&&(p=Cr(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Gs(t,p),vn(o,t,p),qf;Ec(),n=ay(t,n,a)}else t=f.treeContext,ut=Jn(p.nextSibling),Kt=n,ze=!0,zr=null,Xn=!1,t!==null&&Kg(n,t),n=uc(n,o),n.flags|=4096;return n}return t=Zi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function cc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Hf(t,n,a,o,h){return Xs(n),a=Af(t,n,a,o,void 0,h),o=Sf(),t!==null&&!Mt?(wf(t,n,h),rr(t,n,h)):(ze&&o&&rf(n),n.flags|=1,Yt(t,n,a,h),n.child)}function oy(t,n,a,o,h,f){return Xs(n),n.updateQueue=null,a=cp(n,o,a,h),up(t),o=Sf(),t!==null&&!Mt?(wf(t,n,f),rr(t,n,f)):(ze&&o&&rf(n),n.flags|=1,Yt(t,n,a,f),n.child)}function ly(t,n,a,o,h){if(Xs(n),n.stateNode===null){var f=ja,p=a.contextType;typeof p=="object"&&p!==null&&(f=Qt(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},gf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Qt(p):ja,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(zf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&jf.enqueueReplaceState(f,f.state,null),pl(n,o,f,h),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=ta(a,E);f.props=I;var z=f.context,G=a.contextType;p=ja,typeof G=="object"&&G!==null&&(p=Qt(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Yp(n,f,o,p),qr=!1;var B=n.memoizedState;f.state=B,pl(n,o,f,h),gl(),z=n.memoizedState,E||B!==z||qr?(typeof $=="function"&&(zf(n,a,$,o),z=n.memoizedState),(I=qr||Qp(n,a,I,o,B,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,pf(t,n),p=n.memoizedProps,G=ta(a,p),f.props=G,$=n.pendingProps,B=f.context,z=a.contextType,I=ja,typeof z=="object"&&z!==null&&(I=Qt(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||B!==I)&&Yp(n,f,o,I),qr=!1,B=n.memoizedState,f.state=B,pl(n,o,f,h),gl();var H=n.memoizedState;p!==$||B!==H||qr||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof E=="function"&&(zf(n,a,E,o),H=n.memoizedState),(G=qr||Qp(n,a,G,o,B,H,I)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,cc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Ws(n,t.child,null,h),n.child=Ws(n,null,a,h)):Yt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=rr(t,n,h),t}function uy(t,n,a,o){return Qs(),n.flags|=256,Yt(t,n,a,o),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:Zg()}}function Kf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Mn),t}function cy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?Gr(n):Kr(),(t=ut)?(t=__(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=n,n.child=a,Kt=n,ut=null)):t=null,t===null)throw jr(n);return Id(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Kr(),h=n.mode,E=hc({mode:"hidden",children:E},h),o=Ks(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Gf(a),o.childLanes=Kf(t,p,a),n.memoizedState=Ff,Tl(null,o)):(Gr(n),Qf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Gr(n),n.flags&=-257,n=Yf(t,n,a)):n.memoizedState!==null?(Kr(),n.child=t.child,n.flags|=128,n=null):(Kr(),E=o.fallback,h=n.mode,o=hc({mode:"visible",children:o.children},h),E=Ks(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ws(n,t.child,null,a),o=n.child,o.memoizedState=Gf(a),o.childLanes=Kf(t,p,a),n.memoizedState=Ff,n=Tl(null,o));else if(Gr(n),Id(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(s(419)),o.stack="",o.digest=p,ul({value:o,source:null,stack:null}),n=Yf(t,n,a)}else if(Mt||Fa(t,n,a,!1),p=(a&t.childLanes)!==0,Mt||p){if(p=st,p!==null&&(o=Cr(p,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Gs(t,o),vn(p,t,o),qf;Cd(E)||Ec(),n=Yf(t,n,a)}else Cd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ut=Jn(E.nextSibling),Kt=n,ze=!0,zr=null,Xn=!1,t!==null&&Kg(n,t),n=Qf(n,o.children),n.flags|=4096);return n}return h?(Kr(),E=o.fallback,h=n.mode,I=t.child,z=I.sibling,o=Zi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Zi(z,E):(E=Ks(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Tl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Gf(a):(h=E.cachePool,h!==null?(I=Dt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Zg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Kf(t,p,a),n.memoizedState=Ff,Tl(t.child,o)):(Gr(n),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Qf(t,n){return n=hc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hc(t,n){return t=xn(22,t,null,n),t.lanes=0,t}function Yf(t,n,a){return Ws(n,t.child,null,a),t=Qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function hy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),uf(t.return,n,a)}function Xf(t,n,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function fy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=wt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ne(wt,p),Yt(t,n,o,a),o=ze?ll:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hy(t,a,n);else if(t.tag===19)hy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Wu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Xf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Wu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Xf(n,!0,a,null,f,o);break;case"together":Xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rr(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Xr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Fa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Zi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function $f(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function q1(t,n,a){switch(n.tag){case 3:dt(n,n.stateNode.containerInfo),Br(n,Dt,t.memoizedState.cache),Qs();break;case 27:case 5:ti(n);break;case 4:dt(n,n.stateNode.containerInfo);break;case 10:Br(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Gr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?cy(t,n,a):(Gr(n),t=rr(t,n,a),t!==null?t.sibling:null);Gr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Fa(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return fy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(wt,wt.current),o)break;return null;case 22:return n.lanes=0,ry(t,n,a,n.pendingProps);case 24:Br(n,Dt,t.memoizedState.cache)}return rr(t,n,a)}function dy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Mt=!0;else{if(!$f(t,a)&&(n.flags&128)===0)return Mt=!1,q1(t,n,a);Mt=(t.flags&131072)!==0}else Mt=!1,ze&&(n.flags&1048576)!==0&&Gg(n,ll,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Js(n.elementType),n.type=t,typeof t=="function")ef(t)?(o=ta(t,o),n.tag=1,n=ly(null,n,t,o,a)):(n.tag=0,n=Hf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===je){n.tag=11,n=ty(null,n,t,o,a);break e}else if(h===C){n.tag=14,n=ny(null,n,t,o,a);break e}}throw n=Ge(t)||t,Error(s(306,n,""))}}return n;case 0:return Hf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ta(o,n.pendingProps),ly(t,n,o,h,a);case 3:e:{if(dt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,pf(t,n),pl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Br(n,Dt,o),o!==f.cache&&cf(n,[Dt],a,!0),gl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uy(t,n,o,a);break e}else if(o!==h){h=Kn(Error(s(424)),n),ul(h),n=uy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=Jn(t.firstChild),Kt=n,ze=!0,zr=null,Xn=!0,a=rp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qs(),o===h){n=rr(t,n,a);break e}Yt(t,n,o,a)}n=n.child}return n;case 26:return cc(t,n),t===null?(a=S_(n.type,null,n.pendingProps,null))?n.memoizedState=a:ze||(a=n.type,t=n.pendingProps,o=Cc(_e.current).createElement(a),o[K]=n,o[ie]=t,Xt(o,a,t),xt(o),n.stateNode=o):n.memoizedState=S_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ti(n),t===null&&ze&&(o=n.stateNode=T_(n.type,n.pendingProps,_e.current),Kt=n,Xn=!0,h=ut,es(n.type)?(xd=h,ut=Jn(o.firstChild)):ut=h),Yt(t,n,n.pendingProps.children,a),cc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=o=ut)&&(o=_b(o,n.type,n.pendingProps,Xn),o!==null?(n.stateNode=o,Kt=n,ut=Jn(o.firstChild),Xn=!1,h=!0):h=!1),h||jr(n)),ti(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Sd(h,f)?o=null:p!==null&&Sd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Af(t,n,M1,null,null,a),Ul._currentValue=h),cc(t,n),Yt(t,n,o,a),n.child;case 6:return t===null&&ze&&((t=a=ut)&&(a=vb(a,n.pendingProps,Xn),a!==null?(n.stateNode=a,Kt=n,ut=null,t=!0):t=!1),t||jr(n)),null;case 13:return cy(t,n,a);case 4:return dt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ws(n,null,o,a):Yt(t,n,o,a),n.child;case 11:return ty(t,n,n.type,n.pendingProps,a);case 7:return Yt(t,n,n.pendingProps,a),n.child;case 8:return Yt(t,n,n.pendingProps.children,a),n.child;case 12:return Yt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Br(n,n.type,o.value),Yt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Xs(n),h=Qt(h),o=o(h),n.flags|=1,Yt(t,n,o,a),n.child;case 14:return ny(t,n,n.type,n.pendingProps,a);case 15:return iy(t,n,n.type,n.pendingProps,a);case 19:return fy(t,n,a);case 31:return B1(t,n,a);case 22:return ry(t,n,a,n.pendingProps);case 24:return Xs(n),o=Qt(Dt),t===null?(h=df(),h===null&&(h=st,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},gf(n),Br(n,Dt,h)):((t.lanes&a)!==0&&(pf(t,n),pl(n,null,null,a),gl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Br(n,Dt,o)):(o=f.cache,Br(n,Dt,o),o!==h.cache&&cf(n,[Dt],a,!0))),Yt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function sr(t){t.flags|=4}function Jf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(jy())t.flags|=8192;else throw Zs=Xu,mf}else t.flags&=-16777217}function my(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x_(n))if(jy())t.flags|=8192;else throw Zs=Xu,mf}function fc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?wa():536870912,t.lanes|=n,no|=n)}function bl(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function H1(t,n,a){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),tr(Dt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(n)?sr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,of())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(sr(n),f!==null?(ct(n),my(n,f)):(ct(n),Jf(n,h,null,o,a))):f?f!==t.memoizedState?(sr(n),ct(n),my(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&sr(n),ct(n),Jf(n,h,t,o,a)),null;case 27:if(Hi(n),a=_e.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&sr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ct(n),null}t=ae.current,Ha(n)?Qg(n):(t=T_(h,o,a),n.stateNode=t,sr(n))}return ct(n),null;case 5:if(Hi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&sr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ct(n),null}if(f=ae.current,Ha(n))Qg(n);else{var p=Cc(_e.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[K]=n,f[ie]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Xt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&sr(n)}}return ct(n),Jf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&sr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=_e.current,Ha(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Kt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[K]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||c_(t.nodeValue,a)),t||jr(n,!0)}else t=Cc(t).createTextNode(o),t[K]=n,n.stateNode=t}return ct(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ha(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[K]=n}else Qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else a=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Dn(n),n):(Dn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ct(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ha(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[K]=n}else Qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Dn(n),n):(Dn(n),null)}return Dn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),fc(n,n.updateQueue),ct(n),null);case 4:return rt(),t===null&&vd(n.stateNode.containerInfo),ct(n),null;case 10:return tr(n.type),ct(n),null;case 19:if(X(wt),o=n.memoizedState,o===null)return ct(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)bl(o,!1);else{if(At!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Wu(t),f!==null){for(n.flags|=128,bl(o,!1),t=f.updateQueue,n.updateQueue=t,fc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)qg(a,t),a=a.sibling;return ne(wt,wt.current&1|2),ze&&Wi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&It()>yc&&(n.flags|=128,h=!0,bl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Wu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,fc(n,t),bl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return ct(n),null}else 2*It()-o.renderingStartTime>yc&&a!==536870912&&(n.flags|=128,h=!0,bl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=It(),t.sibling=null,a=wt.current,ne(wt,h?a&1|2:a&1),ze&&Wi(n,o.treeForkCount),t):(ct(n),null);case 22:case 23:return Dn(n),Ef(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),a=n.updateQueue,a!==null&&fc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&X($s),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),tr(Dt),ct(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function F1(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return tr(Dt),rt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Hi(n),null;case 31:if(n.memoizedState!==null){if(Dn(n),n.alternate===null)throw Error(s(340));Qs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Dn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Qs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(wt),null;case 4:return rt(),null;case 10:return tr(n.type),null;case 22:case 23:return Dn(n),Ef(),t!==null&&X($s),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return tr(Dt),null;case 25:return null;default:return null}}function gy(t,n){switch(sf(n),n.tag){case 3:tr(Dt),rt();break;case 26:case 27:case 5:Hi(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&Dn(n);break;case 13:Dn(n);break;case 19:X(wt);break;case 10:tr(n.type);break;case 22:case 23:Dn(n),Ef(),t!==null&&X($s);break;case 24:tr(Dt)}}function Al(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Ze(n,n.return,E)}}function Qr(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=a,z=E;try{z()}catch(G){Ze(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Ze(n,n.return,G)}}function py(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ap(n,a)}catch(o){Ze(t,t.return,o)}}}function yy(t,n,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ze(t,n,o)}}function Sl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ze(t,n,h)}}function Vi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,n,h)}else a.current=null}function _y(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Zf(t,n,a){try{var o=t.stateNode;fb(o,t.type,a,n),o[ie]=n}catch(h){Ze(t,t.return,h)}}function vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&es(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&es(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ed(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ri));else if(o!==4&&(o===27&&es(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ed(t,n,a),t=t.sibling;t!==null;)ed(t,n,a),t=t.sibling}function dc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&es(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(dc(t,n,a),t=t.sibling;t!==null;)dc(t,n,a),t=t.sibling}function Ey(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xt(n,o,a),n[K]=t,n[ie]=a}catch(f){Ze(t,t.return,f)}}var ar=!1,Vt=!1,td=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function G1(t,n){if(t=t.containerInfo,bd=Vc,t=Mg(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,E=-1,I=-1,z=0,G=0,$=t,B=null;t:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=p+h),$!==f||o!==0&&$.nodeType!==3||(I=p+o),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===t)break t;if(B===a&&++z===h&&(E=p),B===f&&++G===o&&(I=p),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:t,selectionRange:a},Vc=!1,Ht=n;Ht!==null;)if(n=Ht,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ht=t;else for(;Ht!==null;){switch(n=Ht,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ce=ta(a.type,h);t=o.getSnapshotBeforeUpdate(ce,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ze(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Rd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ht=t;break}Ht=n.return}}function by(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:lr(t,a),o&4&&Al(5,a);break;case 1:if(lr(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){Ze(a,a.return,p)}else{var h=ta(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Ze(a,a.return,p)}}o&64&&py(a),o&512&&Sl(a,a.return);break;case 3:if(lr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ap(t,n)}catch(p){Ze(a,a.return,p)}}break;case 27:n===null&&o&4&&Ey(a);case 26:case 5:lr(t,a),n===null&&o&4&&_y(a),o&512&&Sl(a,a.return);break;case 12:lr(t,a);break;case 31:lr(t,a),o&4&&wy(t,a);break;case 13:lr(t,a),o&4&&Ry(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=eb.bind(null,a),Eb(t,a))));break;case 22:if(o=a.memoizedState!==null||ar,!o){n=n!==null&&n.memoizedState!==null||Vt,h=ar;var f=Vt;ar=o,(Vt=n)&&!f?ur(t,a,(a.subtreeFlags&8772)!==0):lr(t,a),ar=h,Vt=f}break;case 30:break;default:lr(t,a)}}function Ay(t){var n=t.alternate;n!==null&&(t.alternate=null,Ay(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ir(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,gn=!1;function or(t,n,a){for(a=a.child;a!==null;)Sy(t,n,a),a=a.sibling}function Sy(t,n,a){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(bn,a)}catch{}switch(a.tag){case 26:Vt||Vi(a,n),or(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Vt||Vi(a,n);var o=gt,h=gn;es(a.type)&&(gt=a.stateNode,gn=!1),or(t,n,a),Ml(a.stateNode),gt=o,gn=h;break;case 5:Vt||Vi(a,n);case 6:if(o=gt,h=gn,gt=null,or(t,n,a),gt=o,gn=h,gt!==null)if(gn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(f){Ze(a,n,f)}else try{gt.removeChild(a.stateNode)}catch(f){Ze(a,n,f)}break;case 18:gt!==null&&(gn?(t=gt,p_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):p_(gt,a.stateNode));break;case 4:o=gt,h=gn,gt=a.stateNode.containerInfo,gn=!0,or(t,n,a),gt=o,gn=h;break;case 0:case 11:case 14:case 15:Qr(2,a,n),Vt||Qr(4,a,n),or(t,n,a);break;case 1:Vt||(Vi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&yy(a,n,o)),or(t,n,a);break;case 21:or(t,n,a);break;case 22:Vt=(o=Vt)||a.memoizedState!==null,or(t,n,a),Vt=o;break;default:or(t,n,a)}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){Ze(n,n.return,a)}}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){Ze(n,n.return,a)}}function K1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ty),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ty),n;default:throw Error(s(435,t.tag))}}function mc(t,n){var a=K1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=tb.bind(null,t,o);o.then(h,h)}})}function pn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(es(E.type)){gt=E.stateNode,gn=!1;break e}break;case 5:gt=E.stateNode,gn=!1;break e;case 3:case 4:gt=E.stateNode.containerInfo,gn=!0;break e}E=E.return}if(gt===null)throw Error(s(160));Sy(f,p,h),gt=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,t),n=n.sibling}var ci=null;function Cy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(n,t),yn(t),o&4&&(Qr(3,t,t.return),Al(3,t),Qr(5,t,t.return));break;case 1:pn(n,t),yn(t),o&512&&(Vt||a===null||Vi(a,a.return)),o&64&&ar&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ci;if(pn(n,t),yn(t),o&512&&(Vt||a===null||Vi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[K]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xt(f,o,a),f[K]=t,xt(f),o=f;break e;case"link":var p=C_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),Xt(f,o,a),h.head.appendChild(f);break;case"meta":if(p=C_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break t}}f=h.createElement(o),Xt(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[K]=t,xt(f),o=f}t.stateNode=o}else I_(h,t.type,t.stateNode);else t.stateNode=R_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?I_(h,t.type,t.stateNode):R_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(n,t),yn(t),o&512&&(Vt||a===null||Vi(a,a.return)),a!==null&&o&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(n,t),yn(t),o&512&&(Vt||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(ce){Ze(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Zf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(pn(n,t),yn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ce){Ze(t,t.return,ce)}}break;case 3:if(Nc=null,h=ci,ci=Ic(n.containerInfo),pn(n,t),ci=h,yn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{co(n.containerInfo)}catch(ce){Ze(t,t.return,ce)}td&&(td=!1,Iy(t));break;case 4:o=ci,ci=Ic(t.stateNode.containerInfo),pn(n,t),yn(t),ci=o;break;case 12:pn(n,t),yn(t);break;case 31:pn(n,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 13:pn(n,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=It()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=ar,G=Vt;if(ar=z||h,Vt=G||I,pn(n,t),Vt=G,ar=z,yn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||ar||Vt||na(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var $=I.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){Ze(I,I.return,ce)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ce){Ze(I,I.return,ce)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?y_(H,!0):y_(I.stateNode,!1)}catch(ce){Ze(I,I.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mc(t,a))));break;case 19:pn(n,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 30:break;case 21:break;default:pn(n,t),yn(t)}}function yn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(vy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Wf(t);dc(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(mn(p,""),a.flags&=-33);var E=Wf(t);dc(t,E,p);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Wf(t);ed(t,z,I);break;default:throw Error(s(161))}}catch(G){Ze(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function lr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(t,n.alternate,n),n=n.sibling}function na(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qr(4,n,n.return),na(n);break;case 1:Vi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&yy(n,n.return,a),na(n);break;case 27:Ml(n.stateNode);case 26:case 5:Vi(n,n.return),na(n);break;case 22:n.memoizedState===null&&na(n);break;case 30:na(n);break;default:na(n)}t=t.sibling}}function ur(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ur(h,f,a),Al(4,f);break;case 1:if(ur(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ze(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)sp(I[h],E)}catch(z){Ze(o,o.return,z)}}a&&p&64&&py(f),Sl(f,f.return);break;case 27:Ey(f);case 26:case 5:ur(h,f,a),a&&o===null&&p&4&&_y(f),Sl(f,f.return);break;case 12:ur(h,f,a);break;case 31:ur(h,f,a),a&&p&4&&wy(h,f);break;case 13:ur(h,f,a),a&&p&4&&Ry(h,f);break;case 22:f.memoizedState===null&&ur(h,f,a),Sl(f,f.return);break;case 30:break;default:ur(h,f,a)}n=n.sibling}}function nd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t))}function hi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(t,n,a,o),n=n.sibling}function xy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,a,o),h&2048&&Al(9,n);break;case 1:hi(t,n,a,o);break;case 3:hi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t)));break;case 12:if(h&2048){hi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(n,n.return,I)}}else hi(t,n,a,o);break;case 31:hi(t,n,a,o);break;case 13:hi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?hi(t,n,a,o):wl(t,n):f._visibility&2?hi(t,n,a,o):(f._visibility|=2,Wa(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nd(p,n);break;case 24:hi(t,n,a,o),h&2048&&id(n.alternate,n);break;default:hi(t,n,a,o)}}function Wa(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=a,I=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Wa(f,p,E,I,h),Al(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Wa(f,p,E,I,h):wl(f,p):(G._visibility|=2,Wa(f,p,E,I,h)),h&&z&2048&&nd(p.alternate,p);break;case 24:Wa(f,p,E,I,h),h&&z&2048&&id(p.alternate,p);break;default:Wa(f,p,E,I,h)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:wl(a,o),h&2048&&nd(o.alternate,o);break;case 24:wl(a,o),h&2048&&id(o.alternate,o);break;default:wl(a,o)}n=n.sibling}}var Rl=8192;function eo(t,n,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)Ny(t,n,a),t=t.sibling}function Ny(t,n,a){switch(t.tag){case 26:eo(t,n,a),t.flags&Rl&&t.memoizedState!==null&&Ob(a,ci,t.memoizedState,t.memoizedProps);break;case 5:eo(t,n,a);break;case 3:case 4:var o=ci;ci=Ic(t.stateNode.containerInfo),eo(t,n,a),ci=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Rl,Rl=16777216,eo(t,n,a),Rl=o):eo(t,n,a));break;default:eo(t,n,a)}}function Dy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ht=o,My(o,t)}Dy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Qr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gc(t)):Cl(t);break;default:Cl(t)}}function gc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ht=o,My(o,t)}Dy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qr(8,n,n.return),gc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,gc(n));break;default:gc(n)}t=t.sibling}}function My(t,n){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Qr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:cl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ht=o;else e:for(a=t;Ht!==null;){o=Ht;var h=o.sibling,f=o.return;if(Ay(o),o===a){Ht=null;break e}if(h!==null){h.return=f,Ht=h;break e}Ht=f}}}var Q1={getCacheForType:function(t){var n=Qt(Dt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Qt(Dt).controller.signal}},Y1=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,Oe=null,Ve=0,Je=0,On=null,Yr=!1,to=!1,rd=!1,cr=0,At=0,Xr=0,ia=0,sd=0,Mn=0,no=0,Il=null,_n=null,ad=!1,pc=0,Vy=0,yc=1/0,_c=null,$r=null,zt=0,Jr=null,io=null,hr=0,od=0,ld=null,ky=null,xl=0,ud=null;function Vn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:F.T!==null?gd():Ra()}function Uy(){if(Mn===0)if((Ve&536870912)===0||ze){var t=Ei;Ei<<=1,(Ei&3932160)===0&&(Ei=262144),Mn=t}else Mn=536870912;return t=Nn.current,t!==null&&(t.flags|=32),Mn}function vn(t,n,a){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(ro(t,0),Zr(t,Ve,Mn,!1)),jn(t,a),((Qe&2)===0||t!==st)&&(t===st&&((Qe&2)===0&&(ia|=a),At===4&&Zr(t,Ve,Mn,!1)),ki(t))}function Ly(t,n,a){if((Qe&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||An(t,n),h=o?J1(t,n):hd(t,n,!0),f=o;do{if(h===0){to&&!o&&Zr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!X1(a)){h=hd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=Il;var I=E.current.memoizedState.isDehydrated;if(I&&(ro(E,p).flags|=256),p=hd(E,p,!1),p!==2){if(rd&&!I){E.errorRecoveryDisabledLanes|=f,ia|=f,h=4;break e}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ro(t,0),Zr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Zr(o,n,Mn,!Yr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=pc+300-It(),10<h)){if(Zr(o,n,Mn,!Yr),fn(o,0,!0)!==0)break e;hr=n,o.timeoutHandle=m_(Py.bind(null,o,a,_n,_c,ad,n,Mn,ia,no,Yr,f,"Throttled",-0,0),h);break e}Py(o,a,_n,_c,ad,n,Mn,ia,no,Yr,f,null,-0,0)}}break}while(!0);ki(t)}function Py(t,n,a,o,h,f,p,E,I,z,G,$,B,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},Ny(n,f,$);var ce=(f&62914560)===f?pc-It():(f&4194048)===f?Vy-It():0;if(ce=Mb($,ce),ce!==null){hr=f,t.cancelPendingCommit=ce(Ky.bind(null,t,n,f,a,o,h,p,E,I,G,$,null,B,H)),Zr(t,f,p,!z);return}}Ky(t,n,f,a,o,h,p,E,I)}function X1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!In(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zr(t,n,a,o){n&=~sd,n&=~ia,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-at(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&Qi(t,a,n)}function vc(){return(Qe&6)===0?(Nl(0),!1):!0}function cd(){if(Oe!==null){if(Je===0)var t=Oe.return;else t=Oe,er=Ys=null,Rf(t),Ya=null,fl=0,t=Oe;for(;t!==null;)gy(t.alternate,t),t=t.return;Oe=null}}function ro(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,gb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hr=0,cd(),st=t,Oe=a=Zi(t.current,null),Ve=n,Je=0,On=null,Yr=!1,to=An(t,n),rd=!1,no=Mn=sd=ia=Xr=At=0,_n=Il=null,ad=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-at(o),f=1<<h;n|=t[h],o&=~f}return cr=n,ju(),a}function zy(t,n){Ie=null,F.H=El,n===Qa||n===Yu?(n=tp(),Je=3):n===mf?(n=tp(),Je=4):Je=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,Oe===null&&(At=1,lc(t,Kn(n,t.current)))}function jy(){var t=Nn.current;return t===null?!0:(Ve&4194048)===Ve?$n===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===$n:!1}function By(){var t=F.H;return F.H=El,t===null?El:t}function qy(){var t=F.A;return F.A=Q1,t}function Ec(){At=4,Yr||(Ve&4194048)!==Ve&&Nn.current!==null||(to=!0),(Xr&134217727)===0&&(ia&134217727)===0||st===null||Zr(st,Ve,Mn,!1)}function hd(t,n,a){var o=Qe;Qe|=2;var h=By(),f=qy();(st!==t||Ve!==n)&&(_c=null,ro(t,n)),n=!1;var p=At;e:do try{if(Je!==0&&Oe!==null){var E=Oe,I=On;switch(Je){case 8:cd(),p=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var z=Je;if(Je=0,On=null,so(t,E,I,z),a&&to){p=0;break e}break;default:z=Je,Je=0,On=null,so(t,E,I,z)}}$1(),p=At;break}catch(G){zy(t,G)}while(!0);return n&&t.shellSuspendCounter++,er=Ys=null,Qe=o,F.H=h,F.A=f,Oe===null&&(st=null,Ve=0,ju()),p}function $1(){for(;Oe!==null;)Hy(Oe)}function J1(t,n){var a=Qe;Qe|=2;var o=By(),h=qy();st!==t||Ve!==n?(_c=null,yc=It()+500,ro(t,n)):to=An(t,n);e:do try{if(Je!==0&&Oe!==null){n=Oe;var f=On;t:switch(Je){case 1:Je=0,On=null,so(t,n,f,1);break;case 2:case 9:if(Wg(f)){Je=0,On=null,Fy(n);break}n=function(){Je!==2&&Je!==9||st!==t||(Je=7),ki(t)},f.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Wg(f)?(Je=0,On=null,Fy(n)):(Je=0,On=null,so(t,n,f,7));break;case 5:var p=null;switch(Oe.tag){case 26:p=Oe.memoizedState;case 5:case 27:var E=Oe;if(p?x_(p):E.stateNode.complete){Je=0,On=null;var I=E.sibling;if(I!==null)Oe=I;else{var z=E.return;z!==null?(Oe=z,Tc(z)):Oe=null}break t}}Je=0,On=null,so(t,n,f,5);break;case 6:Je=0,On=null,so(t,n,f,6);break;case 8:cd(),At=6;break e;default:throw Error(s(462))}}Z1();break}catch(G){zy(t,G)}while(!0);return er=Ys=null,F.H=o,F.A=h,Qe=a,Oe!==null?0:(st=null,Ve=0,ju(),At)}function Z1(){for(;Oe!==null&&!Ns();)Hy(Oe)}function Hy(t){var n=dy(t.alternate,t,cr);t.memoizedProps=t.pendingProps,n===null?Tc(t):Oe=n}function Fy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=oy(a,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=oy(a,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:Rf(n);default:gy(a,n),n=Oe=qg(n,cr),n=dy(a,n,cr)}t.memoizedProps=t.pendingProps,n===null?Tc(t):Oe=n}function so(t,n,a,o){er=Ys=null,Rf(n),Ya=null,fl=0;var h=n.return;try{if(j1(t,h,n,a,Ve)){At=1,lc(t,Kn(a,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;At=1,lc(t,Kn(a,t.current)),Oe=null;return}n.flags&32768?(ze||o===1?t=!0:to||(Ve&536870912)!==0?t=!1:(Yr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Nn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gy(n,t)):Tc(n)}function Tc(t){var n=t;do{if((n.flags&32768)!==0){Gy(n,Yr);return}t=n.return;var a=H1(n.alternate,n,cr);if(a!==null){Oe=a;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);At===0&&(At=5)}function Gy(t,n){do{var a=F1(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);At=6,Oe=null}function Ky(t,n,a,o,h,f,p,E,I){t.cancelPendingCommit=null;do bc();while(zt!==0);if((Qe&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Zh,qo(t,a,f,p,E,I),t===st&&(Oe=st=null,Ve=0),io=n,Jr=t,hr=a,od=f,ld=h,ky=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nb(hn,function(){return Jy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=te.p,te.p=2,p=Qe,Qe|=4;try{G1(t,n,a)}finally{Qe=p,te.p=h,F.T=o}}zt=1,Qy(),Yy(),Xy()}}function Qy(){if(zt===1){zt=0;var t=Jr,n=io,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=Qe;Qe|=4;try{Cy(n,t);var f=Ad,p=Mg(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Og(E.ownerDocument.documentElement,E)){if(I!==null&&Qh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ce=E.textContent.length,pe=Math.min(I.start,ce),it=I.end===void 0?pe:Math.min(I.end,ce);!H.extend&&pe>it&&(p=it,it=pe,pe=p);var k=Dg(E,pe),N=Dg(E,it);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var P=$.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),pe>it?(H.addRange(P),H.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),H.addRange(P))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Q=$[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Vc=!!bd,Ad=bd=null}finally{Qe=h,te.p=o,F.T=a}}t.current=n,zt=2}}function Yy(){if(zt===2){zt=0;var t=Jr,n=io,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=Qe;Qe|=4;try{by(t,n.alternate,n)}finally{Qe=h,te.p=o,F.T=a}}zt=3}}function Xy(){if(zt===4||zt===3){zt=0,Ar();var t=Jr,n=io,a=hr,o=ky;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zt=5:(zt=0,io=Jr=null,$y(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($r=null),ni(a),n=n.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=te.p,te.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,te.p=h}}(hr&3)!==0&&bc(),ki(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ud?xl++:(xl=0,ud=t):xl=0,Nl(0)}}function $y(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,cl(n)))}function bc(){return Qy(),Yy(),Xy(),Jy()}function Jy(){if(zt!==5)return!1;var t=Jr,n=od;od=0;var a=ni(hr),o=F.T,h=te.p;try{te.p=32>a?32:a,F.T=null,a=ld,ld=null;var f=Jr,p=hr;if(zt=0,io=Jr=null,hr=0,(Qe&6)!==0)throw Error(s(331));var E=Qe;if(Qe|=4,Oy(f.current),xy(f,f.current,p,a),Qe=E,Nl(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(bn,f)}catch{}return!0}finally{te.p=h,F.T=o,$y(t,n)}}function Zy(t,n,a){n=Kn(a,n),n=Bf(t.stateNode,n,2),t=Fr(t,n,2),t!==null&&(jn(t,2),ki(t))}function Ze(t,n,a){if(t.tag===3)Zy(t,t,a);else for(;n!==null;){if(n.tag===3){Zy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($r===null||!$r.has(o))){t=Kn(a,t),a=Wp(2),o=Fr(n,a,2),o!==null&&(ey(a,o,n,t),jn(o,2),ki(o));break}}n=n.return}}function fd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Y1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(rd=!0,h.add(a),t=W1.bind(null,t,n,a),n.then(t,t))}function W1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ve&a)===a&&(At===4||At===3&&(Ve&62914560)===Ve&&300>It()-pc?(Qe&2)===0&&ro(t,0):sd|=a,no===Ve&&(no=0)),ki(t)}function Wy(t,n){n===0&&(n=wa()),t=Gs(t,n),t!==null&&(jn(t,n),ki(t))}function eb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Wy(t,a)}function tb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Wy(t,a)}function nb(t,n){return yt(t,n)}var Ac=null,ao=null,dd=!1,Sc=!1,md=!1,Wr=0;function ki(t){t!==ao&&t.next===null&&(ao===null?Ac=ao=t:ao=ao.next=t),Sc=!0,dd||(dd=!0,rb())}function Nl(t,n){if(!md&&Sc){md=!0;do for(var a=!1,o=Ac;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-at(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,i_(o,f))}else f=Ve,f=fn(o,o===st?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||An(o,f)||(a=!0,i_(o,f));o=o.next}while(a);md=!1}}function ib(){e_()}function e_(){Sc=dd=!1;var t=0;Wr!==0&&mb()&&(t=Wr);for(var n=It(),a=null,o=Ac;o!==null;){var h=o.next,f=t_(o,n);f===0?(o.next=null,a===null?Ac=h:a.next=h,h===null&&(ao=a)):(a=o,(t!==0||(f&3)!==0)&&(Sc=!0)),o=h}zt!==0&&zt!==5||Nl(t),Wr!==0&&(Wr=0)}function t_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-at(f),E=1<<p,I=h[p];I===-1?((E&a)===0||(E&o)!==0)&&(h[p]=Sa(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=st,a=Ve,a=fn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Un(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||An(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Un(o),ni(a)){case 2:case 8:a=cn;break;case 32:a=hn;break;case 268435456:a=Ki;break;default:a=hn}return o=n_.bind(null,t),a=yt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Un(o),t.callbackPriority=2,t.callbackNode=null,2}function n_(t,n){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bc()&&t.callbackNode!==a)return null;var o=Ve;return o=fn(t,t===st?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ly(t,o,n),t_(t,It()),t.callbackNode!=null&&t.callbackNode===a?n_.bind(null,t):null)}function i_(t,n){if(bc())return null;Ly(t,n,!0)}function rb(){pb(function(){(Qe&6)!==0?yt(Sr,ib):e_()})}function gd(){if(Wr===0){var t=Ga;t===0&&(t=Pn,Pn<<=1,(Pn&261888)===0&&(Pn=256)),Wr=t}return Wr}function r_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function s_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function sb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=r_((h[ie]||null).action),p=o.submitter;p&&(n=(n=p[ie]||null)?r_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ii("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Wr!==0){var I=p?s_(h,p):new FormData(h);kf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?s_(h,p):new FormData(h),kf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var pd=0;pd<Jh.length;pd++){var yd=Jh[pd],ab=yd.toLowerCase(),ob=yd[0].toUpperCase()+yd.slice(1);ui(ab,"on"+ob)}ui(Ug,"onAnimationEnd"),ui(Lg,"onAnimationIteration"),ui(Pg,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(A1,"onTransitionRun"),ui(S1,"onTransitionStart"),ui(w1,"onTransitionCancel"),ui(zg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function a_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){zu(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){zu(G)}h.currentTarget=null,f=I}}}}function Me(t,n){var a=n[Ye];a===void 0&&(a=n[Ye]=new Set);var o=t+"__bubble";a.has(o)||(o_(n,t,2,!1),a.add(o))}function _d(t,n,a){var o=0;n&&(o|=4),o_(a,t,o,n)}var wc="_reactListening"+Math.random().toString(36).slice(2);function vd(t){if(!t[wc]){t[wc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(lb.has(a)||_d(a,!1,t),_d(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wc]||(n[wc]=!0,_d("selectionchange",!1,n))}}function o_(t,n,a,o){switch(U_(n)){case 2:var h=Ub;break;case 8:h=Lb;break;default:h=Vd}a=h.bind(null,n,a,t),h=void 0,!Ls||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Ed(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ti(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Vr(function(){var z=f,G=qn(a),$=[];e:{var B=jg.get(t);if(B!==void 0){var H=Ii,ce=t;switch(t){case"keypress":if(zs(a)===0)break e;case"keydown":case"keyup":H=Uu;break;case"focusin":ce="focus",H=Bs;break;case"focusout":ce="blur",H=Bs;break;case"beforeblur":case"afterblur":H=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ug:case Lg:case Pg:H=xu;break;case zg:H=T;break;case"scroll":case"scrollend":H=tl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ji;break;case"toggle":case"beforetoggle":H=Ce}var pe=(n&4)!==0,it=!pe&&(t==="scroll"||t==="scrollend"),k=pe?B!==null?B+"Capture":null:B;pe=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=si(N,k),Q!=null&&pe.push(Ol(N,Q,P))),it)break;N=N.return}0<pe.length&&(B=new H(B,ce,null,a,G),$.push({event:B,listeners:pe}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Zo&&(ce=a.relatedTarget||a.fromElement)&&(Ti(ce)||ce[We]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ce=a.relatedTarget||a.toElement,H=z,ce=ce?Ti(ce):null,ce!==null&&(it=c(ce),pe=ce.tag,ce!==it||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(H=null,ce=z),H!==ce)){if(pe=nl,Q="onMouseLeave",k="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Ji,Q="onPointerLeave",k="onPointerEnter",N="pointer"),it=H==null?B:Rn(H),P=ce==null?B:Rn(ce),B=new pe(Q,N+"leave",H,a,G),B.target=it,B.relatedTarget=P,Q=null,Ti(G)===z&&(pe=new pe(k,N+"enter",ce,a,G),pe.target=P,pe.relatedTarget=it,Q=pe),it=Q,H&&ce)t:{for(pe=ub,k=H,N=ce,P=0,Q=k;Q;Q=pe(Q))P++;Q=0;for(var fe=N;fe;fe=pe(fe))Q++;for(;0<P-Q;)k=pe(k),P--;for(;0<Q-P;)N=pe(N),Q--;for(;P--;){if(k===N||N!==null&&k===N.alternate){pe=k;break t}k=pe(k),N=pe(N)}pe=null}else pe=null;H!==null&&l_($,B,H,pe,!1),ce!==null&&it!==null&&l_($,it,ce,pe,!0)}}e:{if(B=z?Rn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var He=wg;else if(Ag(B))if(Rg)He=E1;else{He=_1;var he=y1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&xa(z.elementType)&&(He=wg):He=v1;if(He&&(He=He(t,z))){Sg($,He,a,G);break e}he&&he(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Xo(B,"number",B.value)}switch(he=z?Rn(z):window,t){case"focusin":(Ag(he)||he.contentEditable==="true")&&(La=he,Yh=z,ol=null);break;case"focusout":ol=Yh=La=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Vg($,a,G);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":Vg($,a,G)}var xe;if(Ke)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ua?qs(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Di&&a.locale!=="ko"&&(Ua||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ua&&(xe=el()):(Ci=G,Wo="value"in Ci?Ci.value:Ci.textContent,Ua=!0)),he=Rc(z,ke),0<he.length&&(ke=new Ni(ke,t,null,a,G),$.push({event:ke,listeners:he}),xe?ke.data=xe:(xe=ka(a),xe!==null&&(ke.data=xe)))),(xe=Fn?d1(t,a):m1(t,a))&&(ke=Rc(z,"onBeforeInput"),0<ke.length&&(he=new Ni("onBeforeInput","beforeinput",null,a,G),$.push({event:he,listeners:ke}),he.data=xe)),sb($,t,z,a,G)}a_($,n)})}function Ol(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Rc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(t,a),h!=null&&o.unshift(Ol(t,h,f)),h=si(t,n),h!=null&&o.push(Ol(t,h,f))),t.tag===3)return o;t=t.return}return[]}function ub(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function l_(t,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=si(a,f),z!=null&&p.unshift(Ol(a,z,I))):h||(z=si(a,f),z!=null&&p.push(Ol(a,z,I)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var cb=/\r\n?/g,hb=/\u0000|\uFFFD/g;function u_(t){return(typeof t=="string"?t:""+t).replace(cb,`
`).replace(hb,"")}function c_(t,n){return n=u_(n),u_(t)===n}function nt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(t,""+o);break;case"className":Cn(t,"class",o);break;case"tabIndex":Cn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,a,o);break;case"style":Jo(t,o,f);break;case"data":if(n!=="object"){Cn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Na(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Na(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ri);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Ca(t,"popover",o);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ca(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,Ca(t,a,o))}}function Td(t,n,a,o,h,f){switch(a){case"style":Jo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?mn(t,o):(typeof o=="number"||typeof o=="bigint")&&mn(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[ie]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ca(t,a,o)}}}function Xt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:nt(t,n,f,p,a,null)}}h&&nt(t,n,"srcSet",a.srcSet,a,null),o&&nt(t,n,"src",a.src,a,null);return;case"input":Me("invalid",t);var E=f=p=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:nt(t,n,o,G,a,null)}}Au(t,f,E,I,z,p,h,!1);return;case"select":Me("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:nt(t,n,h,E,a,null)}n=f,a=p,t.multiple=!!o,n!=null?Nr(t,!!o,n,!1):a!=null&&Nr(t,!!o,a,!0);return;case"textarea":Me("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:nt(t,n,p,E,a,null)}Dr(t,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":nt(t,n,I,o,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<Dl.length;o++)Me(Dl[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:nt(t,n,z,o,a,null)}return;default:if(xa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Td(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&nt(t,n,E,o,a,null))}function fb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,G=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:o.hasOwnProperty(H)||nt(t,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=a[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==$&&nt(t,n,B,H,o,$)}}Ia(t,p,E,I,z,G,f,h);return;case"select":H=p=E=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||nt(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&nt(t,n,h,f,o,I)}n=E,a=p,o=H,B!=null?Nr(t,!!a,B,!1):!!o!=!!a&&(n!=null?Nr(t,!!a,n,!0):Nr(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&nt(t,n,p,h,o,f)}Su(t,B,H);return;case"option":for(var ce in a)B=a[ce],a.hasOwnProperty(ce)&&B!=null&&!o.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:nt(t,n,ce,null,o,B));for(I in o)B=o[I],H=a[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":nt(t,n,I,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!o.hasOwnProperty(pe)&&nt(t,n,pe,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:nt(t,n,z,B,o,H)}return;default:if(xa(n)){for(var it in a)B=a[it],a.hasOwnProperty(it)&&B!==void 0&&!o.hasOwnProperty(it)&&Td(t,n,it,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Td(t,n,G,B,o,H);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&nt(t,n,k,null,o,B);for($ in o)B=o[$],H=a[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||nt(t,n,$,B,o,H)}function h_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function db(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&h_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>E)break;var G=I.transferSize,$=I.initiatorType;G&&h_($)&&(I=I.responseEnd,p+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Ad=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function f_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function mb(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,gb=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,pb=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(t){return g_.resolve(null).then(t).catch(yb)}:m_;function yb(t){setTimeout(function(){throw t})}function es(t){return t==="head"}function p_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),co(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Ml(t.ownerDocument.body);a=h}while(a);co(n)}function y_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Rd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rd(a),Ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _b(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ii])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function vb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jn(t.nextSibling),t===null))return null;return t}function __(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jn(t.nextSibling),t===null))return null;return t}function Cd(t){return t.data==="$?"||t.data==="$~"}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Eb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var xd=null;function v_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function E_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function T_(t,n,a){switch(n=Cc(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ir(t)}var Zn=new Map,b_=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fr=te.d;te.d={f:Tb,r:bb,D:Ab,C:Sb,L:wb,m:Rb,X:Ib,S:Cb,M:xb};function Tb(){var t=fr.f(),n=vc();return t||n}function bb(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?zp(n):fr.r(t)}var oo=typeof document>"u"?null:document;function A_(t,n,a){var o=oo;if(o&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),b_.has(h)||(b_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xt(n,"link",t),xt(n),o.head.appendChild(n)))}}function Ab(t){fr.D(t),A_("dns-prefetch",t,null)}function Sb(t,n){fr.C(t,n),A_("preconnect",t,n)}function wb(t,n,a){fr.L(t,n,a);var o=oo;if(o&&t&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dn(a.imageSizes)+'"]')):h+='[href="'+dn(t)+'"]';var f=h;switch(n){case"style":f=lo(t);break;case"script":f=uo(t)}Zn.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Zn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Vl(f))||n==="script"&&o.querySelector(kl(f))||(n=o.createElement("link"),Xt(n,"link",t),xt(n),o.head.appendChild(n)))}}function Rb(t,n){fr.m(t,n);var a=oo;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=uo(t)}if(!Zn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Zn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(f)))return}o=a.createElement("link"),Xt(o,"link",t),xt(o),a.head.appendChild(o)}}}function Cb(t,n,a){fr.S(t,n,a);var o=oo;if(o&&t){var h=bi(o).hoistableStyles,f=lo(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(Vl(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Zn.get(f))&&Nd(t,a);var I=p=o.createElement("link");xt(I),Xt(I,"link",t),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function Ib(t,n){fr.X(t,n);var a=oo;if(a&&t){var o=bi(a).hoistableScripts,h=uo(t),f=o.get(h);f||(f=a.querySelector(kl(h)),f||(t=w({src:t,async:!0},n),(n=Zn.get(h))&&Dd(t,n),f=a.createElement("script"),xt(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function xb(t,n){fr.M(t,n);var a=oo;if(a&&t){var o=bi(a).hoistableScripts,h=uo(t),f=o.get(h);f||(f=a.querySelector(kl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Zn.get(h))&&Dd(t,n),f=a.createElement("script"),xt(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function S_(t,n,a,o){var h=(h=_e.current)?Ic(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=lo(a.href),a=bi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var f=bi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Vl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(t,a),f||Nb(h,t,a,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=uo(a),a=bi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+dn(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function w_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Nb(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xt(n,"link",a),xt(n),t.head.appendChild(n))}function uo(t){return'[src="'+dn(t)+'"]'}function kl(t){return"script[async]"+t}function R_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(o)return n.instance=o,xt(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),xt(o),Xt(o,"style",h),xc(o,a.precedence,t),n.instance=o;case"stylesheet":h=lo(a.href);var f=t.querySelector(Vl(h));if(f)return n.state.loading|=4,n.instance=f,xt(f),f;o=w_(a),(h=Zn.get(h))&&Nd(o,h),f=(t.ownerDocument||t).createElement("link"),xt(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Xt(f,"link",o),n.state.loading|=4,xc(f,a.precedence,t),n.instance=f;case"script":return f=uo(a.src),(h=t.querySelector(kl(f)))?(n.instance=h,xt(h),h):(o=a,(h=Zn.get(f))&&(o=w({},a),Dd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Xt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,xc(o,a.precedence,t));return n.instance}function xc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nc=null;function C_(t,n,a){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(a,o)}else h=Nc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ii]||f[K]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function I_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Db(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ob(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=lo(o.href),f=n.querySelector(Vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Dc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,xt(f);return}f=n.ownerDocument||n,o=w_(o),(h=Zn.get(h))&&Nd(o,h),f=f.createElement("link"),xt(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Xt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Dc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Od=0;function Mb(t,n){return t.stylesheets&&t.count===0&&Mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Od===0&&(Od=62500*db());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Od?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Mc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,n.forEach(Vb,t),Oc=null,Dc.call(t))}function Vb(t,n){if(!(n.state.loading&4)){var a=Oc.get(t);if(a)var o=a.get(null);else{a=new Map,Oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:ye,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function kb(t,n,a,o,h,f,p,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sn(0),this.hiddenUpdates=Sn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function N_(t,n,a,o,h,f,p,E,I,z,G,$){return t=new kb(t,n,a,p,I,z,G,$,E),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),t.current=f,f.stateNode=t,n=hf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},gf(f),t}function D_(t){return t?(t=ja,t):ja}function O_(t,n,a,o,h,f){h=D_(h),o.context===null?o.context=h:o.pendingContext=h,o=Hr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Fr(t,o,n),a!==null&&(vn(a,t,n),ml(a,t,n))}function M_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Md(t,n){M_(t,n),(t=t.alternate)&&M_(t,n)}function V_(t){if(t.tag===13||t.tag===31){var n=Gs(t,67108864);n!==null&&vn(n,t,67108864),Md(t,67108864)}}function k_(t){if(t.tag===13||t.tag===31){var n=Vn();n=Yi(n);var a=Gs(t,n);a!==null&&vn(a,t,n),Md(t,n)}}var Vc=!0;function Ub(t,n,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=2,Vd(t,n,a,o)}finally{te.p=f,F.T=h}}function Lb(t,n,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=8,Vd(t,n,a,o)}finally{te.p=f,F.T=h}}function Vd(t,n,a,o){if(Vc){var h=kd(o);if(h===null)Ed(t,n,o,kc,a),L_(t,o);else if(zb(h,t,n,a,o))o.stopPropagation();else if(L_(t,o),n&4&&-1<Pb.indexOf(t)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=zn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-at(p);E.entanglements[1]|=I,p&=~I}ki(f),(Qe&6)===0&&(yc=It()+500,Nl(0))}}break;case 31:case 13:E=Gs(f,2),E!==null&&vn(E,f,2),vc(),Md(f,2)}if(f=kd(o),f===null&&Ed(t,n,o,kc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ed(t,n,o,null,a)}}function kd(t){return t=qn(t),Ud(t)}var kc=null;function Ud(t){if(kc=null,t=Ti(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return kc=t,null}function U_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ln()){case Sr:return 2;case cn:return 8;case hn:case Ea:return 32;case Ki:return 268435456;default:return 32}default:return 32}}var Ld=!1,ts=null,ns=null,is=null,Ll=new Map,Pl=new Map,rs=[],Pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(t,n){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(n.pointerId)}}function zl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&V_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function zb(t,n,a,o,h){switch(n){case"focusin":return ts=zl(ts,t,n,a,o,h),!0;case"dragenter":return ns=zl(ns,t,n,a,o,h),!0;case"mouseover":return is=zl(is,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Ll.set(f,zl(Ll.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Pl.set(f,zl(Pl.get(f)||null,t,n,a,o,h)),!0}return!1}function P_(t){var n=Ti(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,wn(t.priority,function(){k_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,wn(t.priority,function(){k_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Zo=o,a.target.dispatchEvent(o),Zo=null}else return n=Bn(a),n!==null&&V_(n),t.blockedOn=a,!1;n.shift()}return!0}function z_(t,n,a){Uc(t)&&a.delete(n)}function jb(){Ld=!1,ts!==null&&Uc(ts)&&(ts=null),ns!==null&&Uc(ns)&&(ns=null),is!==null&&Uc(is)&&(is=null),Ll.forEach(z_),Pl.forEach(z_)}function Lc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ld||(Ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jb)))}var Pc=null;function j_(t){Pc!==t&&(Pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Ud(o||a)===null)continue;break}var f=Bn(a);f!==null&&(t.splice(n,3),n-=3,kf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function co(t){function n(I){return Lc(I,t)}ts!==null&&Lc(ts,t),ns!==null&&Lc(ns,t),is!==null&&Lc(is,t),Ll.forEach(n),Pl.forEach(n);for(var a=0;a<rs.length;a++){var o=rs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)P_(a),a.blockedOn===null&&rs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[ie]||null;if(typeof f=="function")p||j_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ie]||null)E=p.formAction;else if(Ud(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),j_(a)}}}function B_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pd(t){this._internalRoot=t}zc.prototype.render=Pd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Vn();O_(a,o,t,n,null,null)},zc.prototype.unmount=Pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;O_(t.current,2,null,t,null,null),vc(),n[We]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ra();t={blockedOn:null,target:t,priority:n};for(var a=0;a<rs.length&&n!==0&&n<rs[a].priority;a++);rs.splice(a,0,t),a===0&&P_(t)}};var q_=e.version;if(q_!=="19.2.4")throw Error(s(527,q_,"19.2.4"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Bb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{bn=jc.inject(Bb),Et=jc}catch{}}return Bl.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=Xp,f=$p,p=Jp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=N_(t,1,!1,null,null,a,o,null,h,f,p,B_),t[We]=n.current,vd(t),new Pd(n)},Bl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=Xp,p=$p,E=Jp,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=N_(t,1,!0,n,a??null,o,h,I,f,p,E,B_),n.context=D_(null),a=n.current,o=Vn(),o=Yi(o),h=Hr(o),h.callback=null,Fr(a,h,o),a=o,n.current.lanes=a,jn(n,a),ki(n),t[We]=n.current,vd(t),new zc(n)},Bl.version="19.2.4",Bl}var Z_;function Jb(){if(Z_)return Bd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bd.exports=$b(),Bd.exports}var Zb=Jb();const j0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();const Wb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const eA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase());const W_=r=>{const e=eA(r);return e.charAt(0).toUpperCase()+e.slice(1)};var tA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const iA=we.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},_)=>we.createElement("svg",{ref:_,...tA,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:j0("lucide",l),...!c&&!nA(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>we.createElement(y,b)),...Array.isArray(c)?c:[c]]));const ft=(r,e)=>{const i=we.forwardRef(({className:s,...l},c)=>we.createElement(iA,{ref:c,iconNode:e,className:j0(`lucide-${Wb(W_(r))}`,`lucide-${r}`,s),...l}));return i.displayName=W_(r),i};const rA=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],sA=ft("arrow-down",rA);const aA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oA=ft("arrow-left",aA);const lA=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],uA=ft("arrow-up",lA);const cA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],hA=ft("briefcase",cA);const fA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ev=ft("calendar",fA);const dA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],tv=ft("circle-plus",dA);const mA=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],gA=ft("cpu",mA);const pA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],yA=ft("globe",pA);const _A=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],vA=ft("house",_A);const EA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Bc=ft("image",EA);const TA=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],nv=ft("key-round",TA);const bA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qc=ft("lock",bA);const AA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iv=ft("log-out",AA);const SA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Gd=ft("maximize-2",SA);const wA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rv=ft("message-square",wA);const RA=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],CA=ft("palette",RA);const IA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xA=ft("send",IA);const NA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DA=ft("settings",NA);const OA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ra=ft("square-pen",OA);const MA=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],VA=ft("text-align-start",MA);const kA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hc=ft("trash-2",kA);const UA=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],LA=ft("type",UA);const PA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zA=ft("upload",PA);const jA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BA=ft("user",jA);const qA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ho=ft("x",qA),HA=()=>{};var sv={};const B0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},FA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,Y=y&63;_||(Y=64,d||(M=64)),s.push(i[b],i[w],i[M],i[Y])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(B0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):FA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||w==null)throw new GA;const M=c<<2|g>>4;if(s.push(M),y!==64){const Y=g<<4&240|y>>2;if(s.push(Y),w!==64){const W=y<<6&192|w;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KA=function(r){const e=B0(r);return q0.encodeByteArray(e,!0)},oh=function(r){return KA(r).replace(/\./g,"")},H0=function(r){try{return q0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const YA=()=>QA().__FIREBASE_DEFAULTS__,XA=()=>{if(typeof process>"u"||typeof sv>"u")return;const r=sv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$A=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&H0(r[1]);return e&&JSON.parse(e)},Rh=()=>{try{return HA()||YA()||XA()||$A()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},F0=r=>Rh()?.emulatorHosts?.[r],JA=r=>{const e=F0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},G0=()=>Rh()?.config,K0=r=>Rh()?.[`_${r}`];class ZA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q0(r){return(await fetch(r,{credentials:"include"})).ok}function WA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[oh(JSON.stringify(i)),oh(JSON.stringify(d)),""].join(".")}const $l={};function eS(){const r={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?r.emulator.push(e):r.prod.push(e);return r}function tS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let av=!1;function Y0(r,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||$l[r]===e||$l[r]||av)return;$l[r]=e;function i(M){return`__firebase__banner__${M}`}const s="__firebase__banner",c=eS().prod.length>0;function d(){const M=document.getElementById(s);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Y){M.setAttribute("width","24"),M.setAttribute("id",Y),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{av=!0,d()},M}function b(M,Y){M.setAttribute("id",Y),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=tS(s),Y=i("text"),W=document.getElementById(Y)||document.createElement("span"),re=i("learnmore"),se=document.getElementById(re)||document.createElement("a"),me=i("preprendIcon"),Te=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ye=M.element;g(ye),b(se,re);const je=y();_(Te,me),ye.append(Te,W,se,je),document.body.appendChild(ye)}c?(W.innerText="Preview backend disconnected.",Te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function iS(){const r=Rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oS(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lS(){return!iS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uS(){try{return typeof indexedDB=="object"}catch{return!1}}function cS(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const hS="FirebaseError";class Tr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=hS,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?fS(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Tr(l,g,s)}}function fS(r,e){return r.replace(dS,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const dS=/\{\$([^}]+)}/g;function mS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function pr(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(ov(c)&&ov(d)){if(!pr(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function ov(r){return r!==null&&typeof r=="object"}function hu(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Gl(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function gS(r,e){const i=new pS(r,e);return i.subscribe.bind(i)}class pS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");yS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=Kd),l.error===void 0&&(l.error=Kd),l.complete===void 0&&(l.complete=Kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Kd(){}function Bt(r){return r&&r._delegate?r._delegate:r}class ca{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class _S{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new ZA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ES(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vS(r){return r===sa?void 0:r}function ES(r){return r.instantiationMode==="EAGER"}class TS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new _S(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const bS={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},AS=Ue.INFO,SS={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},wS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=SS[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=AS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const RS=(r,e)=>e.some(i=>r instanceof i);let lv,uv;function CS(){return lv||(lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X0=new WeakMap,rm=new WeakMap,$0=new WeakMap,Qd=new WeakMap,Dm=new WeakMap;function xS(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ds(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&X0.set(i,r)}).catch(()=>{}),Dm.set(e,r),e}function NS(r){if(rm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});rm.set(r,e)}let sm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return rm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ds(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function DS(r){sm=r(sm)}function OS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Yd(this),e,...i);return $0.set(s,e.sort?e.sort():[e]),ds(s)}:IS().includes(r)?function(...e){return r.apply(Yd(this),e),ds(X0.get(this))}:function(...e){return ds(r.apply(Yd(this),e))}}function MS(r){return typeof r=="function"?OS(r):(r instanceof IDBTransaction&&NS(r),RS(r,CS())?new Proxy(r,sm):r)}function ds(r){if(r instanceof IDBRequest)return xS(r);if(Qd.has(r))return Qd.get(r);const e=MS(r);return e!==r&&(Qd.set(r,e),Dm.set(e,r)),e}const Yd=r=>Dm.get(r);function VS(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),g=ds(d);return s&&d.addEventListener("upgradeneeded",_=>{s(ds(d.result),_.oldVersion,_.newVersion,ds(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const kS=["get","getKey","getAll","getAllKeys","count"],US=["put","add","delete","clear"],Xd=new Map;function cv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xd.get(e))return Xd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=US.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||kS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Xd.set(e,c),c}DS(r=>({...r,get:(e,i,s)=>cv(e,i)||r.get(e,i,s),has:(e,i)=>!!cv(e,i)||r.has(e,i)}));class LS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function PS(r){return r.getComponent()?.type==="VERSION"}const am="@firebase/app",hv="0.14.8";const yr=new Nm("@firebase/app"),zS="@firebase/app-compat",jS="@firebase/analytics-compat",BS="@firebase/analytics",qS="@firebase/app-check-compat",HS="@firebase/app-check",FS="@firebase/auth",GS="@firebase/auth-compat",KS="@firebase/database",QS="@firebase/data-connect",YS="@firebase/database-compat",XS="@firebase/functions",$S="@firebase/functions-compat",JS="@firebase/installations",ZS="@firebase/installations-compat",WS="@firebase/messaging",ew="@firebase/messaging-compat",tw="@firebase/performance",nw="@firebase/performance-compat",iw="@firebase/remote-config",rw="@firebase/remote-config-compat",sw="@firebase/storage",aw="@firebase/storage-compat",ow="@firebase/firestore",lw="@firebase/ai",uw="@firebase/firestore-compat",cw="firebase",hw="12.9.0";const om="[DEFAULT]",fw={[am]:"fire-core",[zS]:"fire-core-compat",[BS]:"fire-analytics",[jS]:"fire-analytics-compat",[HS]:"fire-app-check",[qS]:"fire-app-check-compat",[FS]:"fire-auth",[GS]:"fire-auth-compat",[KS]:"fire-rtdb",[QS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[XS]:"fire-fn",[$S]:"fire-fn-compat",[JS]:"fire-iid",[ZS]:"fire-iid-compat",[WS]:"fire-fcm",[ew]:"fire-fcm-compat",[tw]:"fire-perf",[nw]:"fire-perf-compat",[iw]:"fire-rc",[rw]:"fire-rc-compat",[sw]:"fire-gcs",[aw]:"fire-gcs-compat",[ow]:"fire-fst",[uw]:"fire-fst-compat",[lw]:"fire-vertex","fire-js":"fire-js",[cw]:"fire-js-all"};const lh=new Map,dw=new Map,lm=new Map;function fv(r,e){try{r.container.addComponent(e)}catch(i){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function So(r){const e=r.name;if(lm.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,r);for(const i of lh.values())fv(i,r);for(const i of dw.values())fv(i,r);return!0}function Om(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Wn(r){return r==null?!1:r.settings!==void 0}const mw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new cu("app","Firebase",mw);class gw{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const ko=hw;function J0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:om,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw ms.create("bad-app-name",{appName:String(l)});if(i||(i=G0()),!i)throw ms.create("no-options");const c=lh.get(l);if(c){if(pr(i,c.options)&&pr(s,c.config))return c;throw ms.create("duplicate-app",{appName:l})}const d=new TS(l);for(const _ of lm.values())d.addComponent(_);const g=new gw(i,s,d);return lh.set(l,g),g}function Z0(r=om){const e=lh.get(r);if(!e&&r===om&&G0())return J0();if(!e)throw ms.create("no-app",{appName:r});return e}function gs(r,e,i){let s=fw[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(d.join(" "));return}So(new ca(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const pw="firebase-heartbeat-database",yw=1,nu="firebase-heartbeat-store";let $d=null;function W0(){return $d||($d=VS(pw,yw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(i){console.warn(i)}}}}).catch(r=>{throw ms.create("idb-open",{originalErrorMessage:r.message})})),$d}async function _w(r){try{const i=(await W0()).transaction(nu),s=await i.objectStore(nu).get(eE(r));return await i.done,s}catch(e){if(e instanceof Tr)yr.warn(e.message);else{const i=ms.create("idb-get",{originalErrorMessage:e?.message});yr.warn(i.message)}}}async function dv(r,e){try{const s=(await W0()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,eE(r)),await s.done}catch(i){if(i instanceof Tr)yr.warn(i.message);else{const s=ms.create("idb-set",{originalErrorMessage:i?.message});yr.warn(s.message)}}}function eE(r){return`${r.name}!${r.options.appId}`}const vw=1024,Ew=30;class Tw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Aw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Ew){const l=Sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mv(),{heartbeatsToSend:i,unsentEntries:s}=bw(this._heartbeatsCache.heartbeats),l=oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return yr.warn(e),""}}}function mv(){return new Date().toISOString().substring(0,10)}function bw(r,e=vw){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),gv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),gv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Aw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uS()?cS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _w(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function gv(r){return oh(JSON.stringify({version:2,heartbeats:r})).length}function Sw(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function ww(r){So(new ca("platform-logger",e=>new LS(e),"PRIVATE")),So(new ca("heartbeat",e=>new Tw(e),"PRIVATE")),gs(am,hv,r),gs(am,hv,"esm2020"),gs("fire-js","")}ww("");var Rw="firebase",Cw="12.9.0";gs(Rw,Cw,"app");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ps,tE;(function(){var r;function e(C,S){function x(){}x.prototype=S.prototype,C.F=S.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(V,D,U){for(var R=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)R[Ge-2]=arguments[Ge];return S.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,x){x||(x=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(D=0;D<16;++D)V[D]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=C.g[0],x=C.g[1],D=C.g[2];let U=C.g[3],R;R=S+(U^x&(D^U))+V[0]+3614090360&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(D^S&(x^D))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(x^U&(S^x))+V[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=x+(S^D&(U^S))+V[3]+3250441966&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(U^x&(D^U))+V[4]+4118548399&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(D^S&(x^D))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(x^U&(S^x))+V[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=x+(S^D&(U^S))+V[7]+4249261313&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(U^x&(D^U))+V[8]+1770035416&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(D^S&(x^D))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(x^U&(S^x))+V[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=x+(S^D&(U^S))+V[11]+2304563134&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(U^x&(D^U))+V[12]+1804603682&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(D^S&(x^D))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(x^U&(S^x))+V[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=x+(S^D&(U^S))+V[15]+1236535329&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(D^U&(x^D))+V[1]+4129170786&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^D&(S^x))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(U^S))+V[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(D^U))+V[0]+3921069994&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(x^D))+V[5]+3593408605&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^D&(S^x))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(U^S))+V[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(D^U))+V[4]+3889429448&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(x^D))+V[9]+568446438&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^D&(S^x))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(U^S))+V[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(D^U))+V[8]+1163531501&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(x^D))+V[13]+2850285829&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^D&(S^x))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(U^S))+V[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(D^U))+V[12]+2368359562&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(x^D^U)+V[5]+4294588738&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^D)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^x)+V[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=x+(D^U^S)+V[14]+4259657740&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(x^D^U)+V[1]+2763975236&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^D)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^x)+V[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=x+(D^U^S)+V[10]+3200236656&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(x^D^U)+V[13]+681279174&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^D)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^x)+V[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=x+(D^U^S)+V[6]+76029189&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(x^D^U)+V[9]+3654602809&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^D)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^x)+V[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=x+(D^U^S)+V[2]+3299628645&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(D^(x|~U))+V[0]+4096336452&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~D))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~x))+V[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=x+(U^(D|~S))+V[5]+4237533241&4294967295,x=D+(R<<21&4294967295|R>>>11),R=S+(D^(x|~U))+V[12]+1700485571&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~D))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~x))+V[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=x+(U^(D|~S))+V[1]+2240044497&4294967295,x=D+(R<<21&4294967295|R>>>11),R=S+(D^(x|~U))+V[8]+1873313359&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~D))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~x))+V[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=x+(U^(D|~S))+V[13]+1309151649&4294967295,x=D+(R<<21&4294967295|R>>>11),R=S+(D^(x|~U))+V[4]+4149444226&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~D))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~x))+V[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=x+(U^(D|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,S){S===void 0&&(S=C.length);const x=S-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=x;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(V[D++]=C.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<S;)if(V[D++]=C[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)C[S++]=this.g[x]>>>V&255;return C};function c(C,S){var x=g;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=S(C)}function d(C,S){this.h=S;const x=[];let V=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;V&&U==S||(x[D]=U,V=!1)}this.g=x}var g={};function _(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return se(y(-C));const S=[];let x=1;for(let V=0;C>=x;V++)S[V]=C/x|0,x*=4294967296;return new d(S,0)}function b(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return se(b(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(S,8));let V=w;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(R))):(V=V.j(x),V=V.add(y(R)))}return V}var w=_(0),M=_(1),Y=_(16777216);r=d.prototype,r.m=function(){if(re(this))return-se(this).m();let C=0,S=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(re(this))return"-"+se(this).toString(C);const S=y(Math.pow(C,6));var x=this;let V="";for(;;){const D=je(x,S).g;x=me(x,D.j(S));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=D,W(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function re(C){return C.h==-1}r.l=function(C){return C=me(this,C),re(C)?-1:W(C)?0:1};function se(C){const S=C.g.length,x=[];for(let V=0;V<S;V++)x[V]=~C.g[V];return new d(x,~C.h).add(M)}r.abs=function(){return re(this)?se(this):this},r.add=function(C){const S=Math.max(this.g.length,C.g.length),x=[];let V=0;for(let D=0;D<=S;D++){let U=V+(this.i(D)&65535)+(C.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=R>>>16,U&=65535,R&=65535,x[D]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function me(C,S){return C.add(se(S))}r.j=function(C){if(W(this)||W(C))return w;if(re(this))return re(C)?se(this).j(se(C)):se(se(this).j(C));if(re(C))return se(this.j(se(C)));if(this.l(Y)<0&&C.l(Y)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,x=[];for(var V=0;V<2*S;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const U=this.i(V)>>>16,R=this.i(V)&65535,Ge=C.i(D)>>>16,vt=C.i(D)&65535;x[2*V+2*D]+=R*vt,Te(x,2*V+2*D),x[2*V+2*D+1]+=U*vt,Te(x,2*V+2*D+1),x[2*V+2*D+1]+=R*Ge,Te(x,2*V+2*D+1),x[2*V+2*D+2]+=U*Ge,Te(x,2*V+2*D+2)}for(C=0;C<S;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=S;C<2*S;C++)x[C]=0;return new d(x,0)};function Te(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ye(C,S){this.g=C,this.h=S}function je(C,S){if(W(S))throw Error("division by zero");if(W(C))return new ye(w,w);if(re(C))return S=je(se(C),S),new ye(se(S.g),se(S.h));if(re(S))return S=je(C,se(S)),new ye(se(S.g),S.h);if(C.g.length>30){if(re(C)||re(S))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=S;V.l(C)<=0;)x=lt(x),V=lt(V);var D=Ne(x,1),U=Ne(V,1);for(V=Ne(V,2),x=Ne(x,2);!W(V);){var R=U.add(V);R.l(C)<=0&&(D=D.add(x),U=R),V=Ne(V,1),x=Ne(x,1)}return S=me(C,D.j(S)),new ye(D,S)}for(D=w;C.l(S)>=0;){for(x=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(x),R=U.j(S);re(R)||R.l(C)>0;)x-=V,U=y(x),R=U.j(S);W(U)&&(U=M),D=D.add(U),C=me(C,R)}return new ye(D,C)}r.B=function(C){return je(this,C).h},r.and=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)&C.i(V);return new d(x,this.h&C.h)},r.or=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)|C.i(V);return new d(x,this.h|C.h)},r.xor=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)^C.i(V);return new d(x,this.h^C.h)};function lt(C){const S=C.g.length+1,x=[];for(let V=0;V<S;V++)x[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(x,C.h)}function Ne(C,S){const x=S>>5;S%=32;const V=C.g.length-x,D=[];for(let U=0;U<V;U++)D[U]=S>0?C.i(U+x)>>>S|C.i(U+x+1)<<32-S:C.i(U+x);return new d(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,tE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,ps=d}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nE,Kl,iE,Jc,um,rE,sE,aE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)e:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var ee=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ee[Ce-2]=arguments[Ce];return m.prototype[L].apply(T,ee)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let ee=0;ee<q;ee++)u[v+ee]=L[ee]}else u.push(L)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(u){d.setTimeout(()=>{throw u},0)}function me(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Te{constructor(){this.h=this.g=null}add(m,v){const T=ye.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ye=new re(()=>new je,u=>u.reset());class je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,Ne=!1,C=new Te,S=()=>{const u=Promise.resolve(void 0);lt=()=>{u.then(x)}};function x(){for(var u;u=me();){try{u.h.call(u.g)}catch(v){se(v)}var m=ye;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ne=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Ge(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Ge,D),Ge.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function oe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ae(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ee=_e(u,m,T,L);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new te(m,this.src,q,!!T,L),m.fa=v,u.push(m)),m};function ge(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(oe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function _e(u,m,v,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return L}return-1}var De="closure_lm_"+(Math.random()*1e6|0),dt={};function rt(u,m,v,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)rt(u,m[q],v,T,L);return null}return v=br(v),u&&u[vt]?u.J(m,v,g(T)?!!T.capture:!1,L):ti(u,m,v,!1,T,L)}function ti(u,m,v,T,L,q){if(!m)throw Error("Invalid event type");const ee=g(L)?!!L.capture:!!L;let Ce=_i(u);if(Ce||(u[De]=Ce=new ae(u)),v=Ce.add(m,v,T,ee,q),v.proxy)return v;if(T=Hi(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=ee),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(un(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Hi(){function u(v){return m.call(u.src,u.listener,v)}const m=Gi;return u}function yi(u,m,v,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)yi(u,m[q],v,T,L);else T=g(T)?!!T.capture:!!T,v=br(v),u&&u[vt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=_e(m,v,T,L),v>-1&&(oe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=_i(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_e(m,v,T,L)),(v=u>-1?m[u]:null)&&Fi(v))}function Fi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[vt])ge(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(un(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=_i(m))?(ge(v,u),v.h==0&&(v.src=null,m[De]=null)):oe(u)}}}function un(u){return u in dt?dt[u]:dt[u]="on"+u}function Gi(u,m){if(u.da)u=!0;else{m=new Ge(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Fi(u),u=v.call(T,m)}return u}function _i(u){return u=u[De],u instanceof ae?u:null}var vi="__closure_events_fn_"+(Math.random()*1e9>>>0);function br(u){return typeof u=="function"?u:(u[vi]||(u[vi]=function(m){return u.handleEvent(m)}),u[vi])}function pt(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}w(pt,V),pt.prototype[vt]=!0,pt.prototype.removeEventListener=function(u,m,v,T){yi(this,u,m,v,T)};function yt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),ne(m,L)}L=!0;let q,ee;if(v)for(ee=v.length-1;ee>=0;ee--)q=m.g=v[ee],L=Un(q,T,!0,m)&&L;if(q=m.g=u,L=Un(q,T,!0,m)&&L,L=Un(q,T,!1,m)&&L,v)for(ee=0;ee<v.length;ee++)q=m.g=v[ee],L=Un(q,T,!1,m)&&L}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)oe(v[T]);delete u.g[m],u.h--}}this.G=null},pt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Un(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==v){const Ce=ee.listener,St=ee.ha||ee.src;ee.fa&&ge(u.i,ee),L=Ce.call(St,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ns(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ar(u){u.g=Ns(()=>{u.g=null,u.i&&(u.i=!1,Ar(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class It extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ar(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(u){V.call(this),this.h=u,this.g={}}w(Ln,V);var Sr=[];function cn(u){Ae(u.g,function(m,v){this.g.hasOwnProperty(v)&&Fi(m)},u),u.g={}}Ln.prototype.N=function(){Ln.Z.N.call(this),cn(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hn=d.JSON.stringify,Ea=d.JSON.parse,Ki=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ta(){}function wr(){}var bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Et(){D.call(this,"d")}w(Et,D);function sn(){D.call(this,"c")}w(sn,D);var at={},ba=null;function Rr(){return ba=ba||new pt}at.Ia="serverreachability";function Aa(u){D.call(this,at.Ia,u)}w(Aa,D);function Pn(u){const m=Rr();yt(m,new Aa(m))}at.STAT_EVENT="statevent";function Ei(u,m){D.call(this,at.STAT_EVENT,u),this.stat=m}w(Ei,D);function Tt(u){const m=Rr();yt(m,new Ei(m,u))}at.Ja="timingevent";function zn(u,m){D.call(this,at.Ja,u),this.size=m}w(zn,D);function fn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function An(){this.g=!0}An.prototype.ua=function(){this.g=!1};function Sa(u,m,v,T,L,q){u.info(function(){if(u.g)if(q){var ee="",Ce=q.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var St=Ce[Ke].split("=");if(St.length>1){const mt=St[0];St=St[1];const Fn=mt.split("_");ee=Fn.length>=2&&Fn[1]=="type"?ee+(mt+"="+St+"&"):ee+(mt+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+ee})}function wa(u,m,v,T,L,q,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+ee})}function Sn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qo(u,v)+(T?" "+T:"")})}function jn(u,m){u.info(function(){return"TIMEOUT: "+m})}An.prototype.info=function(){};function qo(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ee=1;ee<T.length;ee++)T[ee]=""}}}}return hn(q)}catch{return m}}var Qi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ds={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cr;function Yi(){}w(Yi,Ta),Yi.prototype.g=function(){return new XMLHttpRequest},Cr=new Yi;function ni(u){return encodeURIComponent(String(u))}function Ra(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function wn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Ln(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new j}function j(){this.i=null,this.g="",this.h=!1}var K={},ie={};function We(u,m,v){u.M=1,u.A=Vs(Nt(m)),u.u=v,u.R=!0,Ye(u,null)}function Ye(u,m){u.F=Date.now(),ii(u),u.B=Nt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),xa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new j,u.g=Vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new It(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Sr[0]=L.toString()),L=Sr);for(let q=0;q<L.length;q++){const ee=rt(v,L[q],T||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Pn(),Sa(u.i,u.v,u.B,u.l,u.S,u.u)}wn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ai(u)==3?m.j():this.Y(u)},wn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=ai(this.g),St=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Ce!=4||St==7||(St==8||Ke<=0?Pn(3):Pn(2)),Ti(this);var m=this.g.ca();this.X=m;var v=an(this);if(this.o=m==200,wa(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break t}}q=null}if(u=q)Sn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Tt(12),Rn(this),Bn(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=Ms(this,v),mt==ie){Ce==4&&(this.m=4,Tt(14),u=!1),Sn(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==K){this.m=4,Tt(15),Sn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Sn(this.i,this.l,mt,null),bi(this,mt);if(Os(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),u=!1),this.o=this.o&&u,!u)Sn(this.i,this.l,v,"[Invalid Chunked Response]"),Rn(this),Bn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),il(ee),ee.P=!0,Tt(11))}}else Sn(this.i,this.l,v,null),bi(this,v);Ce==4&&Rn(this),this.o&&!this.K&&(Ce==4?Nu(this.j,this):(this.o=!1,ii(this)))}else $i(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),Rn(this),Bn(this)}}}catch{}};function an(u){if(!Os(u))return u.g.la();const m=Gt(u.g);if(m==="")return"";let v="";const T=m.length,L=ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Os(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ms(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ie:(v=Number(m.substring(v,T)),isNaN(v)?K:(T+=1,T+v>m.length?ie:(m=m.slice(T,T+v),u.C=T+v,m)))}wn.prototype.cancel=function(){this.K=!0,Rn(this)};function ii(u){u.T=Date.now()+u.H,Ir(u,u.H)}function Ir(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fn(y(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}wn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(jn(this.i,this.B),this.M!=2&&(Pn(),Tt(17)),Rn(this),this.m=2,Bn(this)):Ir(this,this.T-u)};function Bn(u){u.j.I==0||u.K||Nu(u.j,u)}function Rn(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,cn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Si(v.h,u))){if(!u.L&&Si(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Va(v),Ur(v);else break e;Bs(v),Tt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fn(y(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&Va(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ke=L[m];const mt=Ke[0];if(!(mt<=v.K))if(v.K=mt,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const Fn=Ke[3];Fn!=null&&(v.ka=Fn,v.j.info("VER="+v.ka));const Di=Ke[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const oi=Ke[5];oi!=null&&typeof oi=="number"&&oi>0&&(T=1.5*oi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const li=u.g;if(li){const qs=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var q=T.h;q.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Go(q,q.h),q.h=null))}if(T.G){const ka=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(T.wa=ka,$e(T.J,T.G,ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ee=u;if(T.na=Mu(T,T.L?T.ba:null,T.W),ee.L){Ko(T.h,ee);var Ce=ee,St=T.O;St&&(Ce.H=St),Ce.D&&(Ti(Ce),ii(Ce)),T.g=ee}else Iu(T);v.i.length>0&&xi(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Ni(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ni(v,7):tl(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}Pn(4)}catch{}}var xt=class{constructor(u,m){this.g=u,this.map=m}};function Ho(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function Si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Go(u,m){u.g?u.g.add(m):u.h=m}function Ko(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ho.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,q=null;T>=0?(L=u[v].substring(0,T),q=u[v].substring(T+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,qt(this,u.j),this.o=u.o,this.g=u.g,xr(this,u.u),this.h=u.h,Yo(this,Ru(u.i)),this.m=u.m):u&&(m=String(u).match(bu))?(this.l=!1,qt(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),xr(this,m[4]),this.h=wi(m[5]||"",!0),Yo(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ks(m,Ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ks(m,Ia,!0),"@"),u.push(ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ks(v,v.charAt(0)=="/"?Xo:Au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ks(v,Su)),u.join("")},Cn.prototype.resolve=function(u){const m=Nt(this);let v=!!u.j;v?qt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)xr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ee=0;ee<L.length;){const Ce=L[ee++];Ce=="."?T&&ee==L.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&ee==L.length&&q.push("")):(q.push(Ce),T=!0)}T=q.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Yo(m,Ru(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Nt(u){return new Cn(u)}function qt(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Yo(u,m,v){m instanceof Dr?(u.i=m,Na(u.i,u.l)):(v||(m=ks(m,Nr)),u.i=new Dr(m,u.l))}function $e(u,m,v){u.i.set(m,v)}function Vs(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ks(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ia=/[#\/\?@]/g,Au=/[#\?:]/g,Xo=/[#\?]/g,Nr=/[#\?@]/g,Su=/#/g;function Dr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ca(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Dr.prototype,r.add=function(u,m){mn(this),this.i=null,u=Or(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function wu(u,m){mn(u),m=Or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $o(u,m){return mn(u),m=Or(u,m),u.g.has(m)}r.forEach=function(u,m){mn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Jo(u,m){mn(u);let v=[];if(typeof m=="string")$o(u,m)&&(v=v.concat(u.g.get(Or(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return mn(this),this.i=null,u=Or(this,u),$o(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Jo(this,u),u.length>0?String(u[0]):m):m};function xa(u,m,v){wu(u,m),v.length>0&&(u.i=null,u.g.set(Or(u,m),Y(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=ni(v);v=Jo(this,v);for(let q=0;q<v.length;q++){let ee=L;v[q]!==""&&(ee+="="+ni(v[q])),u.push(ee)}}return this.i=u.join("&")};function Ru(u){const m=new Dr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Na(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(wu(this,T),xa(this,L,v))},u)),u.j=m}function ri(u,m){const v=new An;if(d.Image){const T=new Image;T.onload=b(qn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(qn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(qn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(qn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Zo(u,m){const v=new An,T=new AbortController,L=setTimeout(()=>{T.abort(),qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?qn(v,"TestPingServer: ok",!0,m):qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),qn(v,"TestPingServer: error",!1,m)})}function qn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Mr(){this.g=new Ki}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ri,Ta),Ri.prototype.g=function(){return new Us(this.i,this.h)};function Us(u,m){pt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Us,pt),r=Us.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vr(this):si(this),this.readyState==3&&Da(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Vr(this))},r.Na=function(u){this.g&&(this.response=u,Vr(this))},r.ga=function(){this.g&&Vr(this)};function Vr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hn(u){let m="";return Ae(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ls(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Hn(v),typeof u=="string"?v!=null&&ni(v):$e(u,m,v))}function et(u){pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(et,pt);var Ci=/^https?$/i,Wo=["POST","PUT"];r=et.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cr.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ps(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Wo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ps(this,q)}};function Ps(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,el(u),Xi(u)}function el(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,yt(this,"complete"),yt(this,"abort"),Xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?zs(this):this.Xa())},r.Xa=function(){zs(this)};function zs(u){if(u.h&&typeof c<"u"){if(u.v&&ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(yt(u,"readystatechange"),ai(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let ee=String(u.D).match(bu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),T=!Ci.test(ee?ee.toLowerCase():"")}v=T}if(v)yt(u,"complete"),yt(u,"success");else{u.o=6;try{var L=ai(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",el(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||yt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ai(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ea(m)}};function Gt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const m={};u=(u.g&&ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Ra(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}qe(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function kr(u){this.za=0,this.i=[],this.j=new An,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(u&&u.concurrentRequestLimit),this.Ba=new Mr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=kr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Tt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Mu(this,null,this.W),xi(this)};function tl(u){if(Oa(u),u.I==3){var m=u.V++,v=Nt(u.J);if($e(v,"SID",u.M),$e(v,"RID",m),$e(v,"TYPE","terminate"),js(u,v),m=new wn(u,u.j,m),m.M=2,m.A=Vs(Nt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}Ou(u)}function Ur(u){u.g&&(il(u),u.g.cancel(),u.g=null)}function Oa(u){Ur(u),u.v&&(d.clearTimeout(u.v),u.v=null),Va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!Fo(u.h)&&!u.m){u.m=!0;var m=u.Ea;lt||S(),Ne||(lt(),Ne=!0),C.add(m,u),u.D=0}}function Ma(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fn(y(u.Ea,u,m),Du(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new wn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Cu(this,L,m),v=Nt(this.J),$e(v,"RID",u),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),js(this,v),q&&(this.R?m="headers="+ni(Hn(q))+"&"+m:this.u&&Ls(v,this.u,q)),Go(this.h,L),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",m),$e(v,"SID","null"),L.U=!0,We(L,v,null)):We(L,v,m),this.I=2}}else this.I==3&&(u?nl(this,u):this.i.length==0||Fo(this.h)||nl(this))};function nl(u,m){var v;m?v=m.l:v=u.V++;const T=Nt(u.J);$e(T,"SID",u.M),$e(T,"RID",v),$e(T,"AID",u.K),js(u,T),u.u&&u.o&&Ls(T,u.u,u.o),v=new wn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Go(u.h,v),We(v,T,m)}function js(u,m){u.H&&Ae(u.H,function(v,T){$e(m,T,v)}),u.l&&Ae({},function(v,T){$e(m,T,v)})}function Cu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ce=-1;for(;;){const St=["count="+v];Ce==-1?v>0?(Ce=L[0].g,St.push("ofs="+Ce)):Ce=0:St.push("ofs="+Ce);let Ke=!0;for(let mt=0;mt<v;mt++){var q=L[mt].g;const Fn=L[mt].map;if(q-=Ce,q<0)Ce=Math.max(0,L[mt].g-100),Ke=!1;else try{q="req"+q+"_"||"";try{var ee=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Di,oi]of ee){let li=oi;g(oi)&&(li=hn(oi)),St.push(q+Di+"="+encodeURIComponent(li))}}catch(Di){throw St.push(q+"type="+encodeURIComponent("_badmap")),Di}}catch{T&&T(Fn)}}if(Ke){ee=St.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function Iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;lt||S(),Ne||(lt(),Ne=!0),C.add(m,u),u.A=0}}function Bs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fn(y(u.Da,u),Du(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fn(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Ur(this),xu(this))};function il(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function xu(u){u.g=new wn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Nt(u.na);$e(m,"RID","rpc"),$e(m,"SID",u.M),$e(m,"AID",u.K),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(m,"TO",u.ia),$e(m,"TYPE","xmlhttp"),js(u,m),u.u&&u.o&&Ls(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Vs(Nt(m)),v.u=null,v.R=!0,Ye(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ur(this),Bs(this),Tt(19))};function Va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Nu(u,m){var v=null;if(u.g==m){Va(u),il(u),u.g=null;var T=2}else if(Si(u.h,m))v=m.G,Ko(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Rr(),yt(T,new zn(T,v)),xi(u)}else Iu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ma(u,m)||T==2&&Bs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function Du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new Cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qt(T,"https"),Vs(T),L?ri(T.toString(),v):Zo(T.toString(),v)}else Tt(2);u.I=0,u.l&&u.l.pa(m),Ou(u),Oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Ou(u){if(u.I=0,u.ja=[],u.l){const m=Qo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Mu(u,m,v){var T=v instanceof Cn?Nt(v):new Cn(v);if(T.g!="")m&&(T.g=m+"."+T.g),xr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new Cn(null);T&&qt(q,T),m&&(q.g=m),L&&xr(q,L),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&$e(T,v,m),$e(T,"VER",u.ka),js(u,T),T}function Vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new et(new Ri({ab:v})):new et(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Lr(){}Lr.prototype.g=function(u,m){return new on(u,m)};function on(u,m){pt.call(this),this.g=new kr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}w(on,pt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){tl(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=hn(u),u=v);m.i.push(new xt(m.Ya++,u)),m.I==3&&xi(m)},on.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,on.Z.N.call(this)};function Uu(u){Et.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Uu,Et);function Lu(){sn.call(this),this.status=1}w(Lu,sn);function Ji(u){this.g=u}w(Ji,ku),Ji.prototype.ra=function(){yt(this.g,"a")},Ji.prototype.qa=function(u){yt(this.g,new Uu(u))},Ji.prototype.pa=function(u){yt(this.g,new Lu)},Ji.prototype.oa=function(){yt(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,aE=function(){return new Lr},sE=function(){return Rr()},rE=at,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Jc=Qi,Ds.COMPLETE="complete",iE=Ds,wr.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Kl=wr,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,nE=et}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Uo="12.9.0";function Iw(r){Uo=r}const ha=new Nm("@firebase/firestore");function fo(){return ha.logLevel}function ue(r,...e){if(ha.logLevel<=Ue.DEBUG){const i=e.map(Mm);ha.debug(`Firestore (${Uo}): ${r}`,...i)}}function _r(r,...e){if(ha.logLevel<=Ue.ERROR){const i=e.map(Mm);ha.error(`Firestore (${Uo}): ${r}`,...i)}}function fa(r,...e){if(ha.logLevel<=Ue.WARN){const i=e.map(Mm);ha.warn(`Firestore (${Uo}): ${r}`,...i)}}function Mm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Ee(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,oE(r,s,i)}function oE(r,e,i){let s=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw _r(s),new Error(s)}function Xe(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||oE(e,l,s)}function Re(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Tr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class la{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class lE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(tn.UNAUTHENTICATED)))}shutdown(){}}class Nw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Dw{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Xe(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new la;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new la,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new la)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new lE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class Ow{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Mw{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new Ow(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Xe(this.o===void 0,3512);const s=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Xe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new yv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Vm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=kw(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function cm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Jd(l)===Jd(c)?Le(l,c):Jd(l)?1:-1}return Le(r.length,e.length)}const Uw=55296,Lw=57343;function Jd(r){const e=r.charCodeAt(0);return e>=Uw&&e<=Lw}function wo(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const _v="__name__";class Ui{constructor(e,i,s){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Ee(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Ui.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Le(e.length,i.length)}static compareSegments(e,i){const s=Ui.isNumericId(e),l=Ui.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):cm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class ot extends Ui{construct(e,i,s){return new ot(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new ot(i)}static emptyPath(){return new ot([])}}const Pw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ui{construct(e,i,s){return new Jt(e,i,s)}static isValidIdentifier(e){return Pw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_v}static keyField(){return new Jt([_v])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(i)}static emptyPath(){return new Jt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(ot.fromString(e))}static fromName(e){return new de(ot.fromString(e).popFirst(5))}static empty(){return new de(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ot.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new ot(e.slice()))}}function uE(r,e,i){if(!i)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zw(r,e,i,s){if(e===!0&&s===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function vv(r){if(!de.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ev(r){if(de.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ch(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function ys(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ch(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Lt(r,e){const i={typeString:r};return e&&(i.value=e),i}function fu(r,e){if(!cE(r))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new le(J.INVALID_ARGUMENT,i);return!0}const Tv=-62135596800,bv=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*bv);return new ht(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Tv)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Tv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Lt("string",ht._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ht(0,0))}static max(){return new be(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function jw(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=be.fromTimestamp(s===1e9?new ht(i+1,0):new ht(i,s));return new vs(l,de.empty(),e)}function Bw(r){return new vs(r.readTime,r.key,iu)}class vs{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new vs(be.min(),de.empty(),iu)}static max(){return new vs(be.max(),de.empty(),iu)}}function qw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(r.documentKey,e.documentKey),i!==0?i:Le(r.largestBatchId,e.largestBatchId))}const Hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Hw)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((l=>l?Z.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++g,g===c&&s(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new Z(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function Gw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Po(r){return r.name==="IndexedDbTransactionError"}class Ih{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const km=-1;function xh(r){return r==null}function uh(r){return r===0&&1/r==-1/0}function Kw(r){return typeof r=="number"&&Number.isInteger(r)&&!uh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const hE="";function Qw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Av(e)),e=Yw(r.get(i),e);return Av(e)}function Yw(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case hE:i+="";break;default:i+=c}}return i}function Av(r){return r+hE+""}function Sv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Rs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function fE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class _t{constructor(e,i){this.comparator=e,this.root=i||$t.EMPTY}insert(e,i){return new _t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??$t.RED,this.left=l??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new $t(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return $t.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new $t(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(e){return new wv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new jt(this.comparator);return i.data=e,i}}class wv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new kn([])}unionWith(e){let i=new jt(Jt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class dE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dE("Invalid base64 string: "+c):c}})(e);return new Zt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Zt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const Xw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const i=Xw.exec(r);if(Xe(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ts(r){return typeof r=="string"?Zt.fromBase64String(r):Zt.fromUint8Array(r)}const mE="server_timestamp",gE="__type__",pE="__previous_value__",yE="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[gE]?.stringValue===mE}function Nh(r){const e=r.mapValue.fields[pE];return Um(e)?Nh(e):e}function ru(r){const e=Es(r.mapValue.fields[yE].timestampValue);return new ht(e.seconds,e.nanos)}class $w{constructor(e,i,s,l,c,d,g,_,y,b,w){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const ch="(default)";class su{constructor(e,i){this.projectId=e,this.database=i||ch}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}function Jw(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(r.options.projectId,e)}const _E="__type__",Zw="__max__",Kc={mapValue:{}},vE="__vector__",hh="value";function bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:e2(r)?9007199254740991:Ww(r)?10:11:Ee(28295,{value:r})}function qi(r,e){if(r===e)return!0;const i=bs(r);if(i!==bs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ru(r).isEqual(ru(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Es(l.timestampValue),g=Es(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Ts(l.bytesValue).isEqual(Ts(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ct(l.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ct(l.integerValue)===Ct(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ct(l.doubleValue),g=Ct(c.doubleValue);return d===g?uh(d)===uh(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return wo(r.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Sv(d)!==Sv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!qi(d[_],g[_])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function au(r,e){return(r.values||[]).find((i=>qi(i,e)))!==void 0}function Ro(r,e){if(r===e)return 0;const i=bs(r),s=bs(e);if(i!==s)return Le(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ct(c.integerValue||c.doubleValue),_=Ct(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return Rv(r.timestampValue,e.timestampValue);case 4:return Rv(ru(r),ru(e));case 5:return cm(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=Ts(c),_=Ts(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=Le(g[y],_[y]);if(b!==0)return b}return Le(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Le(Ct(c.latitude),Ct(d.latitude));return g!==0?g:Le(Ct(c.longitude),Ct(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Cv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[hh]?.arrayValue,b=_[hh]?.arrayValue,w=Le(y?.values?.length||0,b?.values?.length||0);return w!==0?w:Cv(y,b)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Kc.mapValue&&d===Kc.mapValue)return 0;if(c===Kc.mapValue)return 1;if(d===Kc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let w=0;w<_.length&&w<b.length;++w){const M=cm(_[w],b[w]);if(M!==0)return M;const Y=Ro(g[_[w]],y[b[w]]);if(Y!==0)return Y}return Le(_.length,b.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function Rv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const i=Es(r),s=Es(e),l=Le(i.seconds,s.seconds);return l!==0?l:Le(i.nanos,s.nanos)}function Cv(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Ro(i[l],s[l]);if(c)return c}return Le(i.length,s.length)}function Co(r){return hm(r)}function hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Es(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ts(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return de.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=hm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(r.mapValue):Ee(61005,{value:r})}function Zc(r){switch(bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(r);return e?16+Zc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Rs(s.fields,((c,d)=>{l+=c.length+Zc(d)})),l})(r.mapValue);default:throw Ee(13486,{value:r})}}function Iv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function fm(r){return!!r&&"integerValue"in r}function Lm(r){return!!r&&"arrayValue"in r}function xv(r){return!!r&&"nullValue"in r}function Nv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wc(r){return!!r&&"mapValue"in r}function Ww(r){return(r?.mapValue?.fields||{})[_E]?.stringValue===vE}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Rs(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Jl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Jl(r.arrayValue.values[i]);return e}return{...r}}function e2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Zw}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Wc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(i)}setAll(e){let i=Jt.emptyPath(),s={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=Jl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Rs(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new Tn(Jl(this.value))}}function EE(r){const e=[];return Rs(r.fields,((i,s)=>{const l=new Jt([i]);if(Wc(s)){const c=EE(s.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new kn(e)}class nn{constructor(e,i,s,l,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new nn(e,0,be.min(),be.min(),be.min(),Tn.empty(),0)}static newFoundDocument(e,i,s,l){return new nn(e,1,i,be.min(),s,l,0)}static newNoDocument(e,i){return new nn(e,2,i,be.min(),be.min(),Tn.empty(),0)}static newUnknownDocument(e,i){return new nn(e,3,i,be.min(),be.min(),Tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(e,i){this.position=e,this.inclusive=i}}function Dv(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?s=de.comparator(de.fromName(d.referenceValue),i.key):s=Ro(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ov(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!qi(r.position[i],e.position[i]))return!1;return!0}class ou{constructor(e,i="asc"){this.field=e,this.dir=i}}function t2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class TE{}class Ut extends TE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new i2(e,i,s):i==="array-contains"?new a2(e,s):i==="in"?new o2(e,s):i==="not-in"?new l2(e,s):i==="array-contains-any"?new u2(e,s):new Ut(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new r2(e,s):new s2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ro(i,this.value)):i!==null&&bs(this.value)===bs(i)&&this.matchesComparison(Ro(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends TE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new gi(e,i)}matches(e){return bE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bE(r){return r.op==="and"}function AE(r){return n2(r)&&bE(r)}function n2(r){for(const e of r.filters)if(e instanceof gi)return!1;return!0}function dm(r){if(r instanceof Ut)return r.field.canonicalString()+r.op.toString()+Co(r.value);if(AE(r))return r.filters.map((e=>dm(e))).join(",");{const e=r.filters.map((i=>dm(i))).join(",");return`${r.op}(${e})`}}function SE(r,e){return r instanceof Ut?(function(s,l){return l instanceof Ut&&s.op===l.op&&s.field.isEqual(l.field)&&qi(s.value,l.value)})(r,e):r instanceof gi?(function(s,l){return l instanceof gi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&SE(d,l.filters[g])),!0):!1})(r,e):void Ee(19439)}function wE(r){return r instanceof Ut?(function(i){return`${i.field.canonicalString()} ${i.op} ${Co(i.value)}`})(r):r instanceof gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(wE).join(" ,")+"}"})(r):"Filter"}class i2 extends Ut{constructor(e,i,s){super(e,i,s),this.key=de.fromName(s.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class r2 extends Ut{constructor(e,i){super(e,"in",i),this.keys=RE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class s2 extends Ut{constructor(e,i){super(e,"not-in",i),this.keys=RE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function RE(r,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class a2 extends Ut{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Lm(i)&&au(i.arrayValue,this.value)}}class o2 extends Ut{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&au(this.value.arrayValue,i)}}class l2 extends Ut{constructor(e,i){super(e,"not-in",i)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!au(this.value.arrayValue,i)}}class u2 extends Ut{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}class c2{constructor(e,i=null,s=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Mv(r,e=null,i=[],s=[],l=null,c=null,d=null){return new c2(r,e,i,s,l,c,d)}function Pm(r){const e=Re(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>dm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Co(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Co(s))).join(",")),e.Te=i}return e.Te}function zm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!t2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!SE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ov(r.startAt,e.startAt)&&Ov(r.endAt,e.endAt)}function mm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class zo{constructor(e,i=null,s=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function h2(r,e,i,s,l,c,d,g){return new zo(r,e,i,s,l,c,d,g)}function jm(r){return new zo(r)}function Vv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function f2(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function CE(r){return r.collectionGroup!==null}function Zl(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new jt(Jt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ou(c,s))})),i.has(Jt.keyField().canonicalString())||e.Ie.push(new ou(Jt.keyField(),s))}return e.Ie}function Li(r){const e=Re(r);return e.Ee||(e.Ee=d2(e,Zl(r))),e.Ee}function d2(r,e){if(r.limitType==="F")return Mv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ou(l.field,c)}));const i=r.endAt?new fh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fh(r.startAt.position,r.startAt.inclusive):null;return Mv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function gm(r,e){const i=r.filters.concat([e]);return new zo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function m2(r,e){const i=r.explicitOrderBy.concat([e]);return new zo(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function pm(r,e,i){return new zo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Dh(r,e){return zm(Li(r),Li(e))&&r.limitType===e.limitType}function IE(r){return`${Pm(Li(r))}|lt:${r.limitType}`}function mo(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>wE(l))).join(", ")}]`),xh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Co(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Co(l))).join(",")),`Target(${s})`})(Li(r))}; limitType=${r.limitType})`}function Oh(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):de.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Zl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,g,_){const y=Dv(d,g,_);return d.inclusive?y<=0:y<0})(s.startAt,Zl(s),l)||s.endAt&&!(function(d,g,_){const y=Dv(d,g,_);return d.inclusive?y>=0:y>0})(s.endAt,Zl(s),l))})(r,e)}function g2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xE(r){return(e,i)=>{let s=!1;for(const l of Zl(r)){const c=p2(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function p2(r,e,i){const s=r.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?Ro(_,y):Ee(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class ga{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}const y2=new _t(de.comparator);function vr(){return y2}const NE=new _t(de.comparator);function Ql(...r){let e=NE;for(const i of r)e=e.insert(i.key,i);return e}function DE(r){let e=NE;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function oa(){return Wl()}function OE(){return Wl()}function Wl(){return new ga((r=>r.toString()),((r,e)=>r.isEqual(e)))}const _2=new _t(de.comparator),v2=new jt(de.comparator);function Pe(...r){let e=v2;for(const i of r)e=e.add(i);return e}const E2=new jt(Le);function T2(){return E2}function Bm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function ME(r){return{integerValue:""+r}}function b2(r,e){return Kw(e)?ME(e):Bm(r,e)}class Mh{constructor(){this._=void 0}}function A2(r,e,i){return r instanceof dh?(function(l,c){const d={fields:{[gE]:{stringValue:mE},[yE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Um(c)&&(c=Nh(c)),c&&(d.fields[pE]=c),{mapValue:d}})(i,e):r instanceof Io?kE(r,e):r instanceof xo?UE(r,e):(function(l,c){const d=VE(l,c),g=kv(d)+kv(l.Ae);return fm(d)&&fm(l.Ae)?ME(g):Bm(l.serializer,g)})(r,e)}function S2(r,e,i){return r instanceof Io?kE(r,e):r instanceof xo?UE(r,e):i}function VE(r,e){return r instanceof mh?(function(s){return fm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class dh extends Mh{}class Io extends Mh{constructor(e){super(),this.elements=e}}function kE(r,e){const i=LE(e);for(const s of r.elements)i.some((l=>qi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class xo extends Mh{constructor(e){super(),this.elements=e}}function UE(r,e){let i=LE(e);for(const s of r.elements)i=i.filter((l=>!qi(l,s)));return{arrayValue:{values:i}}}class mh extends Mh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function kv(r){return Ct(r.integerValue||r.doubleValue)}function LE(r){return Lm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class PE{constructor(e,i){this.field=e,this.transform=i}}function w2(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof Io&&l instanceof Io||s instanceof xo&&l instanceof xo?wo(s.elements,l.elements,qi):s instanceof mh&&l instanceof mh?qi(s.Ae,l.Ae):s instanceof dh&&l instanceof dh})(r.transform,e.transform)}class R2{constructor(e,i){this.version=e,this.transformResults=i}}class di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Vh{}function zE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new qm(r.key,di.none()):new du(r.key,r.data,di.none());{const i=r.data,s=Tn.empty();let l=new jt(Jt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Cs(r.key,s,new kn(l.toArray()),di.none())}}function C2(r,e,i){r instanceof du?(function(l,c,d){const g=l.value.clone(),_=Lv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Cs?(function(l,c,d){if(!eh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Lv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(jE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function eu(r,e,i,s){return r instanceof du?(function(c,d,g,_){if(!eh(c.precondition,d))return g;const y=c.value.clone(),b=Pv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof Cs?(function(c,d,g,_){if(!eh(c.precondition,d))return g;const y=Pv(c.fieldTransforms,_,d),b=d.data;return b.setAll(jE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,i,s):(function(c,d,g){return eh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function I2(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=VE(s.transform,l||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(s.field,c))}return i||null}function Uv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&wo(s,l,((c,d)=>w2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends Vh{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Cs extends Vh{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Lv(r,e,i){const s=new Map;Xe(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=e.data.field(c.field);s.set(c.field,S2(d,g,i[l]))}return s}function Pv(r,e,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,A2(c,d,e))}return s}class qm extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x2 extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class N2{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&C2(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=eu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=eu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=OE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=zE(d,g);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((i,s)=>Uv(i,s)))&&wo(this.baseMutations,e.baseMutations,((i,s)=>Uv(i,s)))}}class Hm{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return _2})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Hm(e,i,s,l)}}class D2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class O2{constructor(e,i){this.count=e,this.unchangedNames=i}}var kt,Be;function M2(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function BE(r){if(r===void 0)return _r("GRPC error has no .code"),J.UNKNOWN;switch(r){case kt.OK:return J.OK;case kt.CANCELLED:return J.CANCELLED;case kt.UNKNOWN:return J.UNKNOWN;case kt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case kt.INTERNAL:return J.INTERNAL;case kt.UNAVAILABLE:return J.UNAVAILABLE;case kt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case kt.NOT_FOUND:return J.NOT_FOUND;case kt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case kt.ABORTED:return J.ABORTED;case kt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case kt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(Be=kt||(kt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function V2(){return new TextEncoder}const k2=new ps([4294967295,4294967295],0);function zv(r){const e=V2().encode(r),i=new tE;return i.update(e),new Uint8Array(i.digest())}function jv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ps([i,s],0),new ps([l,c],0)]}class Fm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ps.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(ps.fromNumber(s)));return l.compare(k2)===1&&(l=new ps([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=zv(e),[s,l]=jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Fm(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=zv(e),[s,l]=jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new kh(be.min(),l,new _t(Le),vr(),Pe())}}class mu{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new mu(s,i,Pe(),Pe(),Pe())}}class th{constructor(e,i,s,l){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=l}}class qE{constructor(e,i){this.targetId=e,this.Ce=i}}class HE{constructor(e,i,s=Zt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Bv{constructor(){this.ve=0,this.Fe=qv(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),s=Pe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Ee(38017,{changeType:c})}})),new mu(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=qv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class U2{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.He=Qc(),this.Je=Qc(),this.Ze=new _t(Le)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(s===0){const d=new de(c.path);this.et(i,d,nn.newNoDocument(d,be.min()))}else Xe(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Ts(s).toUint8Array()}catch(_){if(_ instanceof dE)return fa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Fm(d,l,c)}catch(_){return fa(_ instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&mm(g.target)){const _=new de(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,nn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Pe();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new kh(e,i,this.Ze,this.je,s);return this.je=vr(),this.He=Qc(),this.Je=Qc(),this.Ze=new _t(Le),l}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Bv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new jt(Le),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new jt(Le),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Bv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Qc(){return new _t(de.comparator)}function qv(){return new _t(de.comparator)}const L2={asc:"ASCENDING",desc:"DESCENDING"},P2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z2={and:"AND",or:"OR"};class j2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ym(r,e){return r.useProto3Json||xh(e)?e:{value:e}}function gh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function B2(r,e){return gh(r,e.toTimestamp())}function Pi(r){return Xe(!!r,49232),be.fromTimestamp((function(i){const s=Es(i);return new ht(s.seconds,s.nanos)})(r))}function Gm(r,e){return _m(r,e).canonicalString()}function _m(r,e){const i=(function(l){return new ot(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function GE(r){const e=ot.fromString(r);return Xe($E(e),10190,{key:e.toString()}),e}function vm(r,e){return Gm(r.databaseId,e.path)}function Zd(r,e){const i=GE(e);if(i.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new de(QE(i))}function KE(r,e){return Gm(r.databaseId,e)}function q2(r){const e=GE(r);return e.length===4?ot.emptyPath():QE(e)}function Em(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function QE(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Hv(r,e,i){return{name:vm(r,e),fields:i.value.mapValue.fields}}function H2(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Xe(b===void 0||typeof b=="string",58123),Zt.fromBase64String(b||"")):(Xe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Zt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:BE(y.code);return new le(b,y.message||"")})(d);i=new HE(s,l,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Zd(r,s.document.name),c=Pi(s.document.updateTime),d=s.document.createTime?Pi(s.document.createTime):be.min(),g=new Tn({mapValue:{fields:s.document.fields}}),_=nn.newFoundDocument(l,c,d,g),y=s.targetIds||[],b=s.removedTargetIds||[];i=new th(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Zd(r,s.document),c=s.readTime?Pi(s.readTime):be.min(),d=nn.newNoDocument(l,c),g=s.removedTargetIds||[];i=new th([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Zd(r,s.document),c=s.removedTargetIds||[];i=new th([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new O2(l,c),g=s.targetId;i=new qE(g,d)}}return i}function F2(r,e){let i;if(e instanceof du)i={update:Hv(r,e.key,e.value)};else if(e instanceof qm)i={delete:vm(r,e.key)};else if(e instanceof Cs)i={update:Hv(r,e.key,e.data),updateMask:W2(e.fieldMask)};else{if(!(e instanceof x2))return Ee(16599,{dt:e.type});i={verify:vm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof dh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Io)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof xo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:B2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(r,e.precondition)),i}function G2(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Pi(l.updateTime):Pi(c);return d.isEqual(be.min())&&(d=Pi(c)),new R2(d,l.transformResults||[])})(i,e)))):[]}function K2(r,e){return{documents:[KE(r,e.path)]}}function Q2(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=KE(r,l);const c=(function(y){if(y.length!==0)return XE(gi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:go(M.field),direction:$2(M.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ym(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function Y2(r){let e=q2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Xe(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const M=YE(w);return M instanceof gi&&AE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(W){return new ou(po(W.field),(function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,xh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(w){const M=!!w.before,Y=w.values||[];return new fh(Y,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,Y=w.values||[];return new fh(Y,M)})(i.endAt)),h2(e,l,d,c,g,"F",_,y)}function X2(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function YE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=po(i.unaryFilter.field);return Ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=po(i.unaryFilter.field);return Ut.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=po(i.unaryFilter.field);return Ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=po(i.unaryFilter.field);return Ut.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ut.create(po(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return gi.create(i.compositeFilter.filters.map((s=>YE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(r):Ee(30097,{filter:r})}function $2(r){return L2[r]}function J2(r){return P2[r]}function Z2(r){return z2[r]}function go(r){return{fieldPath:r.canonicalString()}}function po(r){return Jt.fromServerFormat(r.fieldPath)}function XE(r){return r instanceof Ut?(function(i){if(i.op==="=="){if(Nv(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NAN"}};if(xv(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Nv(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NOT_NAN"}};if(xv(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(i.field),op:J2(i.op),value:i.value}}})(r):r instanceof gi?(function(i){const s=i.getFilters().map((l=>XE(l)));return s.length===1?s[0]:{compositeFilter:{op:Z2(i.op),filters:s}}})(r):Ee(54877,{filter:r})}function W2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function $E(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function JE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class fs{constructor(e,i,s,l,c=be.min(),d=be.min(),g=Zt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eR{constructor(e){this.yt=e}}function tR(r){const e=Y2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?pm(e,e.limit,"L"):e}class nR{constructor(){this.Sn=new iR}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(vs.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class iR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new jt(ot.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new jt(ot.comparator)).toArray()}}const Fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(ZE,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class No{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new No(0)}static ar(){return new No(-1)}}const Gv="LruGarbageCollector",rR=1048576;function Kv([r,e],[i,s]){const l=Le(r,i);return l===0?Le(e,s):l}class sR{constructor(e){this.Pr=e,this.buffer=new jt(Kv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Kv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(Gv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Po(i)?ue(Gv,"Ignoring IndexedDB error during garbage collection: ",i):await Lo(i)}await this.Ar(3e5)}))}}class oR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Ih.ce);const s=new sR(i);return this.Vr.forEachTarget(e,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Fv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,l,c,d,g,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(s=w,g=Date.now(),this.removeTargets(e,s,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(y=Date.now(),fo()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function lR(r,e){return new oR(r,e)}class uR{constructor(){this.changes=new ga((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class hR{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&eu(s.mutation,l,kn.empty(),ht.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Pe()){const l=oa();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let d=Ql();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=oa();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Pe())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,l){let c=vr();const d=Wl(),g=(function(){return Wl()})();return i.forEach(((_,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Cs)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),eu(b.mutation,y,b.mutation.getFieldMask(),ht.now())):d.set(y.key,kn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new cR(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=Wl();let l=new _t(((d,g)=>d-g)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=s.get(_)||kn.empty();b=g.applyToLocalView(y,b),s.set(_,b);const w=(l.get(g.batchId)||Pe()).add(_);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,w=OE();b.forEach((M=>{if(!c.has(M)){const Y=zE(i.get(M),s.get(M));Y!==null&&w.set(M,Y),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return f2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):CE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):Z.resolve(oa());let g=iu,_=c;return d.next((y=>Z.forEach(y,((b,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next((M=>{_=_.insert(b,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Pe()))).next((b=>({batchId:g,changes:DE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((s=>{let l=Ql();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(_=>{const y=(function(w,M){return new zo(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((b=>{b.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,nn.newInvalidDocument(b)))}));let g=Ql();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&eu(b.mutation,y,kn.empty(),ht.now()),Oh(i,y)&&(g=g.insert(_,y))})),g}))}}class fR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:tR(l.bundledQuery),readTime:Pi(l.readTime)}})(i)),Z.resolve()}}class dR{constructor(){this.overlays=new _t(de.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=oa();return Z.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.bt(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const l=oa(),c=i.length+1,d=new de(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new _t(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let b=c.get(y.largestBatchId);b===null&&(b=oa(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=oa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return Z.resolve(g)}bt(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new D2(i,s));let c=this.Lr.get(i);c===void 0&&(c=Pe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class mR{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Km{constructor(){this.kr=new jt(Ft.Kr),this.qr=new jt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new Ft(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new Ft(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new de(new ot([])),s=new Ft(i,e),l=new Ft(i,e+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new de(new ot([])),s=new Ft(i,e),l=new Ft(i,e+1);let c=Pe();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ft(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return de.comparator(e.key,i.key)||Le(e.Hr,i.Hr)}static Ur(e,i){return Le(e.Hr,i.Hr)||de.comparator(e.key,i.key)}}class gR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(Ft.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new N2(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Ft(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?km:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ft(i,0),l=new Ft(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new jt(Le);return i.forEach((l=>{const c=new Ft(l,0),d=new Ft(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{s=s.add(g.Hr)}))})),Z.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;de.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new de(c),0);let g=new jt(Le);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Hr)),!0)}),d),Z.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Xe(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Z.forEach(i.mutations,(l=>{const c=new Ft(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new Ft(i,0),l=this.Jr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class pR{constructor(e){this.ti=e,this.docs=(function(){return new _t(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(e,i){let s=vr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=vr();const d=i.path,g=new de(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||qw(Bw(b),s)<=0||(l.has(b.key)||Oh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,s,l){Ee(9500)}ni(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new yR(this)}getSize(e){return Z.resolve(this.size)}}class yR extends uR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class _R{constructor(e){this.persistence=e,this.ri=new ga((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Km,this.targetCount=0,this.oi=No._r()}forEachTarget(e,i){return this.ri.forEach(((s,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new No(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}class WE{constructor(e,i){this._i={},this.overlays={},this.ai=new Ih(0),this.ui=!1,this.ui=!0,this.ci=new mR,this.referenceDelegate=e(this),this.li=new _R(this),this.indexManager=new nR,this.remoteDocumentCache=(function(l){return new pR(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new eR(i),this.Pi=new fR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new dR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new gR(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){ue("MemoryPersistence","Starting transaction:",e);const l=new vR(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return Z.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class vR extends Fw{constructor(e){super(),this.currentSequenceNumber=e}}class Qm{constructor(e){this.persistence=e,this.Ri=new Km,this.Ai=null}static Vi(e){return new Qm(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(s=>{const l=de.fromPath(s);return this.mi(e,l).next((c=>{c||i.removeEntry(l,be.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ph{constructor(e,i){this.persistence=e,this.fi=new ga((s=>Qw(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=lR(this,i)}static Vi(e,i){return new ph(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((s,l)=>this.wr(e,s,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(s++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zc(e.data.value)),i}wr(e,i,s){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ym{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=l}static Es(e,i){let s=Pe(),l=Pe();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(e,i.fromCache,s,l)}}class ER{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return lS()?8:Gw(rn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new ER;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,s,l){return s.documentReadCount<this.Vs?(fo()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",mo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(fo()<=Ue.DEBUG&&ue("QueryEngine","Query:",mo(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(fo()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",mo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(i))):Z.resolve())}gs(e,i){if(Vv(i))return Z.resolve(null);let s=Li(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=pm(i,null,"F"),s=Li(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Pe(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(e,pm(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,s,l){return Vv(i)||l.isEqual(be.min())?Z.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?Z.resolve(null):(fo()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),mo(i)),this.Ds(e,d,i,jw(l,iu)).next((g=>g)))}))}bs(e,i){let s=new jt(xE(e));return i.forEach(((l,c)=>{Oh(e,c)&&(s=s.add(c))})),s}Ss(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,s){return fo()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",mo(i)),this.fs.getDocumentsMatchingQuery(e,i,vs.min(),s)}Ds(e,i,s,l){return this.fs.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",bR=3e8;class AR{constructor(e,i,s,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new _t(Le),this.Fs=new ga((c=>Pm(c)),zm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function SR(r,e,i,s){return new AR(r,e,i,s)}async function eT(r,e){const i=Re(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let _=Pe();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(s,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function wR(r,e){const i=Re(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const w=y.batch,M=w.keys();let Y=Z.resolve();return M.forEach((W=>{Y=Y.next((()=>b.getEntry(_,W))).next((re=>{const se=y.docVersions.get(W);Xe(se!==null,48541),re.version.compareTo(se)<0&&(w.applyToRemoteDocument(re,y),re.isValidDocument()&&(re.setReadTime(y.commitVersion),b.addEntry(re)))}))})),Y.next((()=>g.mutationQueue.removeMutationBatch(_,w)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Pe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function tT(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function RR(r,e){const i=Re(r),s=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];e.targetChanges.forEach(((b,w)=>{const M=l.get(w);if(!M)return;g.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let Y=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?Y=Y.withResumeToken(Zt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):b.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(b.resumeToken,s)),l=l.insert(w,Y),(function(re,se,me){return re.resumeToken.approximateByteSize()===0||se.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=bR?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(M,Y,b)&&g.push(i.li.updateTargetData(c,Y))}));let _=vr(),y=Pe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(CR(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!s.isEqual(be.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(b)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function CR(r,e,i){let s=Pe(),l=Pe();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=vr();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(be.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ue(Xm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function IR(r,e){const i=Re(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=km),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function xR(r,e){const i=Re(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,e).next((c=>c?(l=c,Z.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new fs(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function Tm(r,e,i){const s=Re(r),l=s.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Po(d))throw d;ue(Xm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(l.target)}function Qv(r,e,i){const s=Re(r);let l=be.min(),c=Pe();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const w=Re(_),M=w.Fs.get(b);return M!==void 0?Z.resolve(w.vs.get(M)):w.li.getTargetData(y,b)})(s,d,Li(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?l:be.min(),i?c:Pe()))).next((g=>(NR(s,g2(e),g),{documents:g,ks:c})))))}function NR(r,e,i){let s=r.Ms.get(e)||be.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class Yv{constructor(){this.activeTargetIds=T2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DR{constructor(){this.vo=new Yv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Yv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OR{Mo(e){}shutdown(){}}const Xv="ConnectivityMonitor";class $v{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(Xv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(Xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function bm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const Wd="RestConnection",MR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class VR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===ch?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(e,i,s,l,c){const d=bm(),g=this.Qo(e,i.toUriEncodedString());ue(Wd,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(g),b=Vo(y);return this.zo(e,g,_,s,b).then((w=>(ue(Wd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw fa(Wd,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",s),w}))}jo(e,i,s,l,c,d){return this.Wo(e,i,s,l,c)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const s=MR[e];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class kR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",ql=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class _o extends VR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!_o.c_){const e=sE();ql(e,rE.STAT_EVENT,(i=>{i.stat===um.PROXY?ue(en,"STAT_EVENT: detected buffering proxy"):i.stat===um.NOPROXY&&ue(en,"STAT_EVENT: detected no buffering proxy")})),_o.c_=!0}}zo(e,i,s,l,c){const d=bm();return new Promise(((g,_)=>{const y=new nE;y.setWithCredentials(!0),y.listenOnce(iE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const w=y.getResponseJson();ue(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Jc.TIMEOUT:ue(en,`RPC '${e}' ${d} timed out`),_(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const M=y.getStatus();if(ue(en,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const W=Y?.error;if(W&&W.status&&W.message){const re=(function(me){const Te=me.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Te)>=0?Te:J.UNKNOWN})(W.status);_(new le(re,W.message))}else _(new le(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(en,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);ue(en,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,s,15)}))}T_(e,i,s){const l=bm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const y=c.join("");ue(en,`Creating RPC '${e}' stream ${l}: ${y}`,g);const b=d.createWebChannel(y,g);this.I_(b);let w=!1,M=!1;const Y=new kR({Ho:W=>{M?ue(en,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(w||(ue(en,`Opening RPC '${e}' stream ${l} transport.`),b.open(),w=!0),ue(en,`RPC '${e}' stream ${l} sending:`,W),b.send(W))},Jo:()=>b.close()});return ql(b,Kl.EventType.OPEN,(()=>{M||(ue(en,`RPC '${e}' stream ${l} transport opened.`),Y.i_())})),ql(b,Kl.EventType.CLOSE,(()=>{M||(M=!0,ue(en,`RPC '${e}' stream ${l} transport closed`),Y.o_(),this.E_(b))})),ql(b,Kl.EventType.ERROR,(W=>{M||(M=!0,fa(en,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Y.o_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),ql(b,Kl.EventType.MESSAGE,(W=>{if(!M){const re=W.data[0];Xe(!!re,16349);const se=re,me=se?.error||se[0]?.error;if(me){ue(en,`RPC '${e}' stream ${l} received error:`,me);const Te=me.status;let ye=(function(Ne){const C=kt[Ne];if(C!==void 0)return BE(C)})(Te),je=me.message;Te==="NOT_FOUND"&&je.includes("database")&&je.includes("does not exist")&&je.includes(this.databaseId.database)&&fa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ye===void 0&&(ye=J.INTERNAL,je="Unknown error status: "+Te+" with message "+me.message),M=!0,Y.o_(new le(ye,je)),b.close()}else ue(en,`RPC '${e}' stream ${l} received:`,re),Y.__(re)}})),_o.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return aE()}}function UR(r){return new _o(r)}function em(){return typeof document<"u"?document:null}function Uh(r){return new j2(r,!0)}_o.c_=!1;class nT{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Jv="PersistentStream";class iT{constructor(e,i,s,l,c,d,g,_){this.Ci=e,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(_r(i.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new le(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Jv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ue(Jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LR extends iT{constructor(e,i,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=H2(this.serializer,e),s=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Pi(d.readTime):be.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=mm(_)?{documents:K2(c,_)}:{query:Q2(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=FE(c,d.resumeToken);const y=ym(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(be.min())>0){g.readTime=gh(c,d.snapshotVersion.toTimestamp());const y=ym(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=X2(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=Em(this.serializer),i.removeTarget=e,this.K_(i)}}class PR extends iT{constructor(e,i,s,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=G2(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Em(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>F2(this.serializer,s)))};this.K_(i)}}class zR{}class jR extends zR{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,_m(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(J.UNKNOWN,c.toString())}))}jo(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,_m(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function BR(r,e,i,s){return new jR(r,e,i,s)}class qR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class HR{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{pa(this)&&(ue(da,"Restarting streams for network reachability change."),await(async function(_){const y=Re(_);y.Ea.add(4),await gu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Lh(y)})(this))}))})),this.Va=new qR(s,l)}}async function Lh(r){if(pa(r))for(const e of r.Ra)await e(!0)}async function gu(r){for(const e of r.Ra)await e(!1)}function rT(r,e){const i=Re(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Wm(i)?Zm(i):jo(i).O_()&&Jm(i,e))}function $m(r,e){const i=Re(r),s=jo(i);i.Ia.delete(e),s.O_()&&sT(i,e),i.Ia.size===0&&(s.O_()?s.L_():pa(i)&&i.Va.set("Unknown"))}function Jm(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}jo(r).Z_(e)}function sT(r,e){r.da.$e(e),jo(r).X_(e)}function Zm(r){r.da=new U2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),jo(r).start(),r.Va.ua()}function Wm(r){return pa(r)&&!jo(r).x_()&&r.Ia.size>0}function pa(r){return Re(r).Ea.size===0}function aT(r){r.da=void 0}async function FR(r){r.Va.set("Online")}async function GR(r){r.Ia.forEach(((e,i)=>{Jm(r,e)}))}async function KR(r,e){aT(r),Wm(r)?(r.Va.ha(e),Zm(r)):r.Va.set("Unknown")}async function QR(r,e,i){if(r.Va.set("Online"),e instanceof HE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(r,e)}catch(s){ue(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yh(r,s)}else if(e instanceof th?r.da.Xe(e):e instanceof qE?r.da.st(e):r.da.tt(e),!i.isEqual(be.min()))try{const s=await tT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(Zt.EMPTY_BYTE_STRING,b.snapshotVersion)),sT(c,_);const w=new fs(b.target,_,y,b.sequenceNumber);Jm(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ue(da,"Failed to raise snapshot:",s),await yh(r,s)}}async function yh(r,e,i){if(!Po(e))throw e;r.Ea.add(1),await gu(r),r.Va.set("Offline"),i||(i=()=>tT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(da,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Lh(r)}))}function oT(r,e){return e().catch((i=>yh(r,i,e)))}async function Ph(r){const e=Re(r),i=As(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:km;for(;YR(e);)try{const l=await IR(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,XR(e,l)}catch(l){await yh(e,l)}lT(e)&&uT(e)}function YR(r){return pa(r)&&r.Ta.length<10}function XR(r,e){r.Ta.push(e);const i=As(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function lT(r){return pa(r)&&!As(r).x_()&&r.Ta.length>0}function uT(r){As(r).start()}async function $R(r){As(r).ra()}async function JR(r){const e=As(r);for(const i of r.Ta)e.ea(i.mutations)}async function ZR(r,e,i){const s=r.Ta.shift(),l=Hm.from(s,e,i);await oT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ph(r)}async function WR(r,e){e&&As(r).Y_&&await(async function(s,l){if((function(d){return M2(d)&&d!==J.ABORTED})(l.code)){const c=s.Ta.shift();As(s).B_(),await oT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ph(s)}})(r,e),lT(r)&&uT(r)}async function Zv(r,e){const i=Re(r);i.asyncQueue.verifyOperationInProgress(),ue(da,"RemoteStore received new credentials");const s=pa(i);i.Ea.add(3),await gu(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lh(i)}async function eC(r,e){const i=Re(r);e?(i.Ea.delete(2),await Lh(i)):e||(i.Ea.add(2),await gu(i),i.Va.set("Unknown"))}function jo(r){return r.ma||(r.ma=(function(i,s,l){const c=Re(i);return c.sa(),new LR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:FR.bind(null,r),Yo:GR.bind(null,r),t_:KR.bind(null,r),J_:QR.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Wm(r)?Zm(r):r.Va.set("Unknown")):(await r.ma.stop(),aT(r))}))),r.ma}function As(r){return r.fa||(r.fa=(function(i,s,l){const c=Re(i);return c.sa(),new PR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$R.bind(null,r),t_:WR.bind(null,r),ta:JR.bind(null,r),na:ZR.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Ph(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class eg{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const d=Date.now()+s,g=new eg(e,i,d,l,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(r,e){if(_r("AsyncQueue",`${e}: ${r}`),Po(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||de.comparator(i.key,s.key):(i,s)=>de.comparator(i.key,s.key),this.keyedMap=Ql(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class Wv{constructor(){this.ga=new _t(de.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Do{constructor(e,i,s,l,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Do(e,i,vo.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class tC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class nC{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Re(i),c=l.queries;l.queries=e0(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(s)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function e0(){return new ga((r=>IE(r)),Dh)}async function iC(r,e){const i=Re(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(s=2):(c=new tC,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=tg(d,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ng(i)}async function rC(r,e){const i=Re(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function sC(r,e){const i=Re(r);let s=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(s=!0);d.wa=l}}s&&ng(i)}function aC(r,e,i){const s=Re(r),l=s.queries.get(e);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(e)}function ng(r){r.Ca.forEach((e=>{e.next()}))}var Am,t0;(t0=Am||(Am={})).Ma="default",t0.Cache="cache";class oC{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Do(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class cT{constructor(e){this.key=e}}class hT{constructor(e){this.key=e}}class lC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=xE(e),this.tu=new vo(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new Wv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,w)=>{const M=l.get(b),Y=Oh(this.query,w)?w:null,W=!!M&&this.mutatedKeys.has(M.key),re=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let se=!1;M&&Y?M.data.isEqual(Y.data)?W!==re&&(s.track({type:3,doc:Y}),se=!0):this.su(M,Y)||(s.track({type:2,doc:Y}),se=!0,(_&&this.eu(Y,_)>0||y&&this.eu(Y,y)<0)&&(g=!0)):!M&&Y?(s.track({type:0,doc:Y}),se=!0):M&&!Y&&(s.track({type:1,doc:M}),se=!0,(_||y)&&(g=!0)),se&&(Y?(d=d.add(Y),c=re?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,w)=>(function(Y,W){const re=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:se})}};return re(Y)-re(W)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new Do(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new hT(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new cT(s))})),i}cu(e){this.Za=e.ks,this.Ya=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ig="SyncEngine";class uC{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class cC{constructor(e){this.key=e,this.hu=!1}}class hC{constructor(e,i,s,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ga((g=>IE(g)),Dh),this.Iu=new Map,this.Eu=new Set,this.Ru=new _t(de.comparator),this.Au=new Map,this.Vu=new Km,this.du={},this.mu=new Map,this.fu=No.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fC(r,e,i=!0){const s=yT(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await fT(s,e,i,!0),l}async function dC(r,e){const i=yT(r);await fT(i,e,!0,!1)}async function fT(r,e,i,s){const l=await xR(r.localStore,Li(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await mC(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&rT(r.remoteStore,l),g}async function mC(r,e,i,s,l){r.pu=(w,M,Y)=>(async function(re,se,me,Te){let ye=se.view.ru(me);ye.Ss&&(ye=await Qv(re.localStore,se.query,!1).then((({documents:C})=>se.view.ru(C,ye))));const je=Te&&Te.targetChanges.get(se.targetId),lt=Te&&Te.targetMismatches.get(se.targetId)!=null,Ne=se.view.applyChanges(ye,re.isPrimaryClient,je,lt);return i0(re,se.targetId,Ne.au),Ne.snapshot})(r,w,M,Y);const c=await Qv(r.localStore,e,!0),d=new lC(e,c.ks),g=d.ru(c.documents),_=mu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,_);i0(r,i,y.au);const b=new uC(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function gC(r,e,i){const s=Re(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Dh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&$m(s.remoteStore,l.targetId),Sm(s,l.targetId)})).catch(Lo)):(Sm(s,l.targetId),await Tm(s.localStore,l.targetId,!0))}async function pC(r,e){const i=Re(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),$m(i.remoteStore,s.targetId))}async function yC(r,e,i){const s=SC(r);try{const l=await(function(d,g){const _=Re(d),y=ht.now(),b=g.reduce(((Y,W)=>Y.add(W.key)),Pe());let w,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let W=vr(),re=Pe();return _.xs.getEntries(Y,b).next((se=>{W=se,W.forEach(((me,Te)=>{Te.isValidDocument()||(re=re.add(me))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,W))).next((se=>{w=se;const me=[];for(const Te of g){const ye=I2(Te,w.get(Te.key).overlayedDocument);ye!=null&&me.push(new Cs(Te.key,ye,EE(ye.value.mapValue),di.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,y,me,g)})).next((se=>{M=se;const me=se.applyToLocalDocumentSet(w,re);return _.documentOverlayCache.saveOverlays(Y,se.batchId,me)}))})).then((()=>({batchId:M.batchId,changes:DE(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new _t(Le)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(s,l.batchId,i),await pu(s,l.changes),await Ph(s.remoteStore)}catch(l){const c=tg(l,"Failed to persist write");i.reject(c)}}async function dT(r,e){const i=Re(r);try{const s=await RR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xe(d.hu,14607):l.removedDocuments.size>0&&(Xe(d.hu,42227),d.hu=!1))})),await pu(i,s,e)}catch(s){await Lo(s)}}function n0(r,e,i){const s=Re(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Re(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,w)=>{for(const M of w.ba)M.va(g)&&(y=!0)})),y&&ng(_)})(s.eventManager,e),l.length&&s.Pu.J_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _C(r,e,i){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let d=new _t(de.comparator);d=d.insert(c,nn.newNoDocument(c,be.min()));const g=Pe().add(c),_=new kh(be.min(),new Map,new _t(Le),d,g);await dT(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(e),rg(s)}else await Tm(s.localStore,e,!1).then((()=>Sm(s,e,i))).catch(Lo)}async function vC(r,e){const i=Re(r),s=e.batch.batchId;try{const l=await wR(i.localStore,e);gT(i,s,null),mT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await pu(i,l)}catch(l){await Lo(l)}}async function EC(r,e,i){const s=Re(r);try{const l=await(function(d,g){const _=Re(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((w=>(Xe(w!==null,37113),b=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);gT(s,e,i),mT(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await pu(s,l)}catch(l){await Lo(l)}}function mT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function gT(r,e,i){const s=Re(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.du[s.currentUser.toKey()]=l}}function Sm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||pT(r,s)}))}function pT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&($m(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),rg(r))}function i0(r,e,i){for(const s of i)s instanceof cT?(r.Vu.addReference(s.key,e),TC(r,s)):s instanceof hT?(ue(ig,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||pT(r,s.key)):Ee(19791,{wu:s})}function TC(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(ue(ig,"New document in limbo: "+i),r.Eu.add(s),rg(r))}function rg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new de(ot.fromString(e)),s=r.fu.next();r.Au.set(s,new cC(i)),r.Ru=r.Ru.insert(i,s),rT(r.remoteStore,new fs(Li(jm(i.path)),s,"TargetPurposeLimboResolution",Ih.ce))}}async function pu(r,e,i){const s=Re(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{d.push(s.pu(_,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Ym.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,y){const b=Re(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(y,(M=>Z.forEach(M.Ts,(Y=>b.persistence.referenceDelegate.addReference(w,M.targetId,Y))).next((()=>Z.forEach(M.Is,(Y=>b.persistence.referenceDelegate.removeReference(w,M.targetId,Y)))))))))}catch(w){if(!Po(w))throw w;ue(Xm,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const Y=b.vs.get(M),W=Y.snapshotVersion,re=Y.withLastLimboFreeSnapshotVersion(W);b.vs=b.vs.insert(M,re)}}})(s.localStore,c))}async function bC(r,e){const i=Re(r);if(!i.currentUser.isEqual(e)){ue(ig,"User change. New user:",e.toKey());const s=await eT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new le(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(i,s.Ns)}}function AC(r,e){const i=Re(r),s=i.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let l=Pe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function yT(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_C.bind(null,e),e.Pu.J_=sC.bind(null,e.eventManager),e.Pu.yu=aC.bind(null,e.eventManager),e}function SC(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EC.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return SR(this.persistence,new TR,e.initialUser,this.serializer)}Cu(e){return new WE(Qm.Vi,this.serializer)}Du(e){return new DR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class wC extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Xe(this.persistence.referenceDelegate instanceof ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new WE((s=>ph.Vi(s,i)),this.serializer)}}class wm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>n0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bC.bind(null,this.syncEngine),await eC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nC})()}createDatastore(e){const i=Uh(e.databaseInfo.databaseId),s=UR(e.databaseInfo);return BR(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,d,g){return new HR(s,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>n0(this.syncEngine,i,0)),(function(){return $v.v()?new $v:new OR})())}createSyncEngine(e,i){return(function(l,c,d,g,_,y,b){const w=new hC(l,c,d,g,_,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Re(i);ue(da,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class RC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ss="FirestoreClient";class CC{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=tn.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ue(Ss,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ue(Ss,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=tg(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Ss,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await eT(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function r0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await IC(r);ue(Ss,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Zv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Zv(e.remoteStore,l))),r._onlineComponents=e}async function IC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ss,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;fa("Error using user provided cache. Falling back to memory cache: "+i),await tm(r,new _h)}}else ue(Ss,"Using default OfflineComponentProvider"),await tm(r,new wC(void 0));return r._offlineComponents}async function _T(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ss,"Using user provided OnlineComponentProvider"),await r0(r,r._uninitializedComponentsProvider._online)):(ue(Ss,"Using default OnlineComponentProvider"),await r0(r,new wm))),r._onlineComponents}function xC(r){return _T(r).then((e=>e.syncEngine))}async function s0(r){const e=await _T(r),i=e.eventManager;return i.onListen=fC.bind(null,e.syncEngine),i.onUnlisten=gC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=dC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=pC.bind(null,e.syncEngine),i}function NC(r,e,i,s){const l=new RC(s),c=new oC(e,l,i);return r.asyncQueue.enqueueAndForget((async()=>iC(await s0(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>rC(await s0(r),c)))}}function DC(r,e){const i=new la;return r.asyncQueue.enqueueAndForget((async()=>yC(await xC(r),e,i))),i.promise}function vT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const OC="ComponentProvider",a0=new Map;function MC(r,e,i,s,l){return new $w(r,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,vT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const ET="firestore.googleapis.com",o0=!0;class l0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ET,this.ssl=o0}else this.host=e.host,this.ssl=e.ssl??o0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rR)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xw;switch(s.type){case"firstParty":return new Mw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=a0.get(i);s&&(ue(OC,"Removing Datastore"),a0.delete(i),s.terminate())})(this),Promise.resolve()}}function VC(r,e,i,s={}){r=ys(r,zh);const l=Vo(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;l&&(Q0(`https://${g}`),Y0("Firestore",!0)),c.host!==ET&&c.host!==g&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:s};if(!pr(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=tn.MOCK_USER;else{y=WA(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new tn(w)}r._authCredentials=new Nw(new lE(y,b))}}class ya{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ya(this.firestore,e,this._query)}}class Pt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(fu(i,Pt._jsonSchema))return new Pt(e,s||null,new de(ot.fromString(i.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Lt("string",Pt._jsonSchemaVersion),referencePath:Lt("string")};class _s extends ya{constructor(e,i,s){super(e,i,jm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new de(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function u0(r,e,...i){if(r=Bt(r),uE("collection","path",e),r instanceof zh){const s=ot.fromString(e,...i);return Ev(s),new _s(r,null,s)}{if(!(r instanceof Pt||r instanceof _s))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...i));return Ev(s),new _s(r.firestore,null,s)}}function aa(r,e,...i){if(r=Bt(r),arguments.length===1&&(e=Vm.newId()),uE("doc","path",e),r instanceof zh){const s=ot.fromString(e,...i);return vv(s),new Pt(r,null,new de(s))}{if(!(r instanceof Pt||r instanceof _s))throw new le(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...i));return vv(s),new Pt(r.firestore,r instanceof _s?r.converter:null,new de(s))}}const c0="AsyncQueue";class h0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nT(this,"async_queue_retry"),this._c=()=>{const s=em();s&&ue(c0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new la;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;ue(c0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",f0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=eg.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:f0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function f0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Oo extends zh{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new h0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h0(e),this._firestoreClient=void 0,await e}}}function kC(r,e){const i=typeof r=="object"?r:Z0(),s=typeof r=="string"?r:ch,l=Om(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=JA("firestore");c&&VC(l,...c)}return l}function TT(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||UC(r),r._firestoreClient}function UC(r){const e=r._freezeSettings(),i=MC(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new CC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(Zt.fromBase64String(e))}catch(i){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ei(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Lt("string",ei._jsonSchemaVersion),bytes:Lt("string")};class sg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yu{constructor(e){this._methodName=e}}class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(fu(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Lt("string",zi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class mi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new mi(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Lt("string",mi._jsonSchemaVersion),vectorValues:Lt("object")};const LC=/^__.*__$/;class PC{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,i,this.fieldTransforms):new du(e,this.data,i,this.fieldTransforms)}}class bT{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Cs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function AT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:r})}}class jh{constructor(e,i,s,l,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new jh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(AT(this.dataSource)&&LC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class zC{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Uh(e)}createContext(e,i,s,l=!1){return new jh({dataSource:e,methodName:i,targetDoc:s,path:Jt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(r){const e=r._freezeSettings(),i=Uh(r._databaseId);return new zC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function jC(r,e,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,e,i,l);ug("Data must be an object, but it was:",d,s);const g=wT(s,d);let _,y;if(c.merge)_=new kn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const M=Mo(e,w,i);if(!d.contains(M))throw new le(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);IT(b,M)||b.push(M)}_=new kn(b),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new PC(new Tn(g),_,y)}class Bh extends yu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function ST(r,e,i){return new jh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:r._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class og extends yu{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=ST(this,e,!0),s=this.Ac.map((c=>_a(c,i))),l=new Io(s);return new PE(e.path,l)}isEqual(e){return e instanceof og&&pr(this.Ac,e.Ac)}}class lg extends yu{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=ST(this,e,!0),s=this.Ac.map((c=>_a(c,i))),l=new xo(s);return new PE(e.path,l)}isEqual(e){return e instanceof lg&&pr(this.Ac,e.Ac)}}function BC(r,e,i,s){const l=r.createContext(1,e,i);ug("Data must be an object, but it was:",l,s);const c=[],d=Tn.empty();Rs(s,((_,y)=>{const b=CT(e,_,i);y=Bt(y);const w=l.childContextForFieldPath(b);if(y instanceof Bh)c.push(b);else{const M=_a(y,w);M!=null&&(c.push(b),d.set(b,M))}}));const g=new kn(c);return new bT(d,g,l.fieldTransforms)}function qC(r,e,i,s,l,c){const d=r.createContext(1,e,i),g=[Mo(e,s,i)],_=[l];if(c.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Mo(e,c[M])),_.push(c[M+1]);const y=[],b=Tn.empty();for(let M=g.length-1;M>=0;--M)if(!IT(y,g[M])){const Y=g[M];let W=_[M];W=Bt(W);const re=d.childContextForFieldPath(Y);if(W instanceof Bh)y.push(Y);else{const se=_a(W,re);se!=null&&(y.push(Y),b.set(Y,se))}}const w=new kn(y);return new bT(b,w,d.fieldTransforms)}function HC(r,e,i,s=!1){return _a(i,r.createContext(s?4:3,e))}function _a(r,e){if(RT(r=Bt(r)))return ug("Unsupported field value:",e,r),wT(r,e);if(r instanceof yu)return(function(s,l){if(!AT(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let _=_a(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return b2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ht.fromDate(s);return{timestampValue:gh(l.serializer,c)}}if(s instanceof ht){const c=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gh(l.serializer,c)}}if(s instanceof zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ei)return{bytesValue:FE(l.serializer,s._byteString)};if(s instanceof Pt){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof mi)return(function(d,g){const _=d instanceof mi?d.toArray():d;return{mapValue:{fields:{[_E]:{stringValue:vE},[hh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return Bm(g.serializer,b)}))}}}}}})(s,l);if(JE(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Ch(s)}`)})(r,e)}function wT(r,e){const i={};return fE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(r,((s,l)=>{const c=_a(l,e.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function RT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ht||r instanceof zi||r instanceof ei||r instanceof Pt||r instanceof yu||r instanceof mi||JE(r))}function ug(r,e,i){if(!RT(i)||!cE(i)){const s=Ch(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Mo(r,e,i){if((e=Bt(e))instanceof sg)return e._internalPath;if(typeof e=="string")return CT(r,e);throw vh("Field path arguments must be of type string or ",r,!1,void 0,i)}const FC=new RegExp("[~\\*/\\[\\]]");function CT(r,e,i){if(e.search(FC)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new sg(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function vh(r,e,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new le(J.INVALID_ARGUMENT,g+r+_)}function IT(r,e){return r.some((i=>i.isEqual(e)))}class GC{convertValue(e,i="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Rs(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[hh].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new mi(i)}convertGeoPoint(e){return new zi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Nh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const i=Es(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ot.fromString(e);Xe($E(s),9688,{name:e});const l=new su(s.get(1),s.get(3)),c=new de(s.popFirst(5));return l.isEqual(i)||_r(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class xT extends GC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,i)}}function KC(...r){return new og("arrayUnion",r)}function QC(...r){return new lg("arrayRemove",r)}const d0="@firebase/firestore",m0="4.11.0";function g0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class NT{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Mo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class YC extends NT{data(){return super.data()}}function XC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class DT extends cg{}function $C(r,e,...i){let s=[];e instanceof cg&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((_=>_ instanceof fg)).length,g=c.filter((_=>_ instanceof hg)).length;if(d>1||d>0&&g>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class hg extends DT{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new hg(e,i,s)}_apply(e){const i=this._parse(e);return OT(e._query,i),new ya(e.firestore,e.converter,gm(e._query,i))}_parse(e){const i=ag(e.firestore);return(function(c,d,g,_,y,b,w){let M;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){y0(w,b);const W=[];for(const re of w)W.push(p0(_,c,re));M={arrayValue:{values:W}}}else M=p0(_,c,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||y0(w,b),M=HC(g,d,w,b==="in"||b==="not-in");return Ut.create(y,b,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class fg extends cg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new fg(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:gi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const _ of g)OT(d,_),d=gm(d,_)})(e._query,i),new ya(e.firestore,e.converter,gm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dg extends DT{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new dg(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(c,d)})(e._query,this._field,this._direction);return new ya(e.firestore,e.converter,m2(e._query,i))}}function JC(r,e="asc"){const i=e,s=Mo("orderBy",r);return dg._create(s,i)}function p0(r,e,i){if(typeof(i=Bt(i))=="string"){if(i==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CE(e)&&i.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ot.fromString(i));if(!de.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Iv(r,new de(s))}if(i instanceof Pt)return Iv(r,i._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(i)}.`)}function y0(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OT(r,e){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function ZC(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends NT{constructor(e,i,s,l,c,d){super(e,i,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Mo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Lt("string",ua._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class nh extends ua{data(e={}){return super.data(e)}}class Eo{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Xl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new nh(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new nh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new nh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:WC(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}Eo._jsonSchemaVersion="firestore/querySnapshot/1.0",Eo._jsonSchema={type:Lt("string",Eo._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function Xc(r,e,i,...s){r=ys(r,Pt);const l=ys(r.firestore,Oo),c=ag(l);let d;return d=typeof(e=Bt(e))=="string"||e instanceof sg?qC(c,"updateDoc",r._key,e,i,s):BC(c,"updateDoc",r._key,e),mg(l,[d.toMutation(r._key,di.exists(!0))])}function eI(r){return mg(ys(r.firestore,Oo),[new qm(r._key,di.none())])}function tI(r,e){const i=ys(r.firestore,Oo),s=aa(r),l=ZC(r.converter,e),c=ag(r.firestore);return mg(i,[jC(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,di.exists(!1))]).then((()=>s))}function _0(r,...e){r=Bt(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||g0(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(g0(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Pt)d=ys(r.firestore,Oo),g=jm(r._key.path),c={next:y=>{e[s]&&e[s](nI(d,r,y))},error:e[s+1],complete:e[s+2]};else{const y=ys(r,ya);d=ys(y.firestore,Oo),g=y._query;const b=new xT(d);c={next:w=>{e[s]&&e[s](new Eo(d,b,y,w))},error:e[s+1],complete:e[s+2]},XC(r._query)}const _=TT(d);return NC(_,g,l,c)}function mg(r,e){const i=TT(r);return DC(i,e)}function nI(r,e,i){const s=i.docs.get(e._key),l=new xT(r);return new ua(r,l,e._key,s,new Xl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Iw(ko),So(new ca("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Oo(new Dw(s.getProvider("auth-internal")),new Vw(d,s.getProvider("app-check-internal")),Jw(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),gs(d0,m0,e),gs(d0,m0,"esm2020")})();function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iI=MT,VT=new cu("auth","Firebase",MT());const Eh=new Nm("@firebase/auth");function rI(r,...e){Eh.logLevel<=Ue.WARN&&Eh.warn(`Auth (${ko}): ${r}`,...e)}function ih(r,...e){Eh.logLevel<=Ue.ERROR&&Eh.error(`Auth (${ko}): ${r}`,...e)}function pi(r,...e){throw gg(r,...e)}function ji(r,...e){return gg(r,...e)}function kT(r,e,i){const s={...iI(),[e]:i};return new cu("auth","Firebase",s).create(e,{appName:r.name})}function gr(r){return kT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gg(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return VT.create(r,...e)}function ve(r,e,...i){if(!r)throw gg(e,...i)}function dr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ih(e),new Error(e)}function Er(r,e){r||dr(e)}function Rm(){return typeof self<"u"&&self.location?.href||""}function sI(){return v0()==="http:"||v0()==="https:"}function v0(){return typeof self<"u"&&self.location?.protocol||null}function aI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sI()||sS()||"connection"in navigator)?navigator.onLine:!0}function oI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class _u{constructor(e,i){this.shortDelay=e,this.longDelay=i,Er(i>e,"Short delay should be less than long delay!"),this.isMobile=nS()||aS()}get(){return aI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pg(r,e){Er(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class UT{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cI=new _u(3e4,6e4);function Is(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function xs(r,e,i,s,l={}){return LT(r,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const g=hu({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...c};return rS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Vo(r.emulatorConfig.host)&&(y.credentials="include"),UT.fetch()(await PT(r,r.config.apiHost,i,g),y)})}async function LT(r,e,i){r._canInitEmulator=!1;const s={...lI,...e};try{const l=new fI(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw $c(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw $c(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw $c(r,"user-disabled",d);const b=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw kT(r,b,y);pi(r,b)}}catch(l){if(l instanceof Tr)throw l;pi(r,"network-request-failed",{message:String(l)})}}async function vu(r,e,i,s,l={}){const c=await xs(r,e,i,s,l);return"mfaPendingCredential"in c&&pi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function PT(r,e,i,s){const l=`${e}${i}?${s}`,c=r,d=c.config.emulator?pg(r.config,l):`${r.config.apiScheme}://${l}`;return uI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function hI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(ji(this.auth,"network-request-failed")),cI.get())})}}function $c(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=ji(r,e,s);return l.customData._tokenResponse=i,l}function E0(r){return r!==void 0&&r.enterprise!==void 0}class dI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return hI(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mI(r,e){return xs(r,"GET","/v2/recaptchaConfig",Is(r,e))}async function gI(r,e){return xs(r,"POST","/v1/accounts:delete",e)}async function Th(r,e){return xs(r,"POST","/v1/accounts:lookup",e)}function tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pI(r,e=!1){const i=Bt(r),s=await i.getIdToken(e),l=yg(s);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:tu(nm(l.auth_time)),issuedAtTime:tu(nm(l.iat)),expirationTime:tu(nm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function nm(r){return Number(r)*1e3}function yg(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const l=H0(i);return l?JSON.parse(l):(ih("Failed to decode base64 JWT payload"),null)}catch(l){return ih("Caught error parsing JWT payload as JSON",l?.toString()),null}}function T0(r){const e=yg(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function lu(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Tr&&yI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function yI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class _I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(r){const e=r.auth,i=await r.getIdToken(),s=await lu(r,Th(e,{idToken:i}));ve(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?zT(l.providerUserInfo):[],d=EI(r.providerData,c),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Cm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function vI(r){const e=Bt(r);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EI(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function zT(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function TI(r,e){const i=await LT(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await PT(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:s};return r.emulatorConfig&&Vo(r.emulatorConfig.host)&&(_.credentials="include"),UT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function bI(r,e){return xs(r,"POST","/v2/accounts:revokeToken",Is(r,e))}class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=T0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await TI(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new To;return s&&(ve(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return dr("not implemented")}}function as(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new _I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await lu(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return pI(this,e)}reload(){return vI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await lu(this,gI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:Y,providerData:W,stsTokenManager:re}=i;ve(w&&re,e,"internal-error");const se=To.fromJSON(this.name,re);ve(typeof w=="string",e,"internal-error"),as(s,e.name),as(l,e.name),ve(typeof M=="boolean",e,"internal-error"),ve(typeof Y=="boolean",e,"internal-error"),as(c,e.name),as(d,e.name),as(g,e.name),as(_,e.name),as(y,e.name),as(b,e.name);const me=new fi({uid:w,auth:e,email:l,emailVerified:M,displayName:s,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:se,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(me.providerData=W.map(Te=>({...Te}))),_&&(me._redirectEventId=_),me}static async _fromIdTokenResponse(e,i,s=!1){const l=new To;l.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await bh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?zT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new To;g.updateFromIdToken(s);const _=new fi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const b0=new Map;function mr(r){Er(r instanceof Function,"Expected a class definition");let e=b0.get(r);return e?(Er(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,b0.set(r,e),e)}class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}jT.type="NONE";const A0=jT;function rh(r,e,i){return`firebase:${r}:${e}:${i}`}class bo{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=rh(this.userKey,l.apiKey,c),this.fullPersistenceKey=rh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Th(this.auth,{idToken:e}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new bo(mr(A0),e,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||mr(A0);const d=rh(s,e.config.apiKey,e.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const M=await Th(e,{idToken:b}).catch(()=>{});if(!M)break;w=await fi._fromGetAccountInfoResponse(e,M,b)}else w=fi._fromJSON(e,b);y!==c&&(g=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new bo(c,e,s):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new bo(c,e,s))}}function S0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if(QT(e))return"Webos";if(qT(e))return"Safari";if((e.includes("chrome/")||HT(e))&&!e.includes("edge/"))return"Chrome";if(GT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function BT(r=rn()){return/firefox\//i.test(r)}function qT(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HT(r=rn()){return/crios\//i.test(r)}function FT(r=rn()){return/iemobile/i.test(r)}function GT(r=rn()){return/android/i.test(r)}function KT(r=rn()){return/blackberry/i.test(r)}function QT(r=rn()){return/webos/i.test(r)}function _g(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function AI(r=rn()){return _g(r)&&!!window.navigator?.standalone}function SI(){return oS()&&document.documentMode===10}function YT(r=rn()){return _g(r)||GT(r)||QT(r)||KT(r)||/windows phone/i.test(r)||FT(r)}function XT(r,e=[]){let i;switch(r){case"Browser":i=S0(rn());break;case"Worker":i=`${S0(rn())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ko}/${s}`}class wI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function RI(r,e={}){return xs(r,"GET","/v2/passwordPolicy",Is(r,e))}const CI=6;class II{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??CI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class xI{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new wI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=mr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Th(this,{idToken:e}),s=await fi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(gr(this));const i=e?Bt(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RI(this),i=new II(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await bI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&mr(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[mr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function va(r){return Bt(r)}class w0{constructor(e){this.auth=e,this.observer=null,this.addObserver=gS(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NI(r){qh=r}function $T(r){return qh.loadJS(r)}function DI(){return qh.recaptchaEnterpriseScript}function OI(){return qh.gapiScript}function MI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class VI{constructor(){this.enterprise=new kI}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class kI{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const UI="recaptcha-enterprise",JT="NO_RECAPTCHA";class LI{constructor(e){this.type=UI,this.auth=va(e)}async verify(e="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{mI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new dI(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{g(_)})})}function l(c,d,g){const _=window.grecaptcha;E0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(JT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(g=>{if(!i&&E0(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=DI();_.length!==0&&(_+=g),$T(_).then(()=>{l(g,c,d)}).catch(y=>{d(y)})}}).catch(g=>{d(g)})})}}async function R0(r,e,i,s=!1,l=!1){const c=new LI(r);let d;if(l)d=JT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function C0(r,e,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await R0(r,e,i,i==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await R0(r,e,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function PI(r,e){const i=Om(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(pr(c,e??{}))return l;pi(l,"already-initialized")}return i.initialize({options:e})}function zI(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(mr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function jI(r,e,i){const s=va(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=ZT(e),{host:d,port:g}=BI(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(pr(y,s.config.emulator)&&pr(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Vo(d)?(Q0(`${c}//${d}${_}`),Y0("Auth",!0)):qI()}function ZT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function BI(r){const e=ZT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:I0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:I0(d)}}}function I0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function qI(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class vg{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,i){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function HI(r,e){return xs(r,"POST","/v1/accounts:signUp",e)}async function FI(r,e){return vu(r,"POST","/v1/accounts:signInWithPassword",Is(r,e))}async function GI(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",Is(r,e))}async function KI(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",Is(r,e))}class uu extends vg{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new uu(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new uu(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C0(e,i,"signInWithPassword",FI);case"emailLink":return GI(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C0(e,s,"signUpPassword",HI);case"emailLink":return KI(e,{idToken:i,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ao(r,e){return vu(r,"POST","/v1/accounts:signInWithIdp",Is(r,e))}const QI="http://localhost";class ma extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):pi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new ma(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ao(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Ao(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ao(e,i)}buildRequest(){const e={requestUri:QI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=hu(i)}return e}}function YI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XI(r){const e=Fl(Gl(r)).link,i=e?Fl(Gl(e)).deep_link_id:null,s=Fl(Gl(r)).deep_link_id;return(s?Fl(Gl(s)).link:null)||s||i||e||r}class Eg{constructor(e){const i=Fl(Gl(e)),s=i.apiKey??null,l=i.oobCode??null,c=YI(i.mode??null);ve(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=XI(e);try{return new Eg(i)}catch{return null}}}class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,i){return uu._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=Eg.parseLink(i);return ve(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class WT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Eu extends WT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ls extends Eu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";class us extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ma._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return us.credential(i,s)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";class cs extends Eu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";class hs extends Eu{constructor(){super("twitter.com")}static credential(e,i){return ma._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return hs.credential(i,s)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";async function $I(r,e){return vu(r,"POST","/v1/accounts:signUp",Is(r,e))}class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await fi._fromIdTokenResponse(e,s,l),d=x0(s);return new ws({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=x0(s);return new ws({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function x0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function JI(r){if(Wn(r.app))return Promise.reject(gr(r));const e=va(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ws({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await $I(e,{returnSecureToken:!0}),s=await ws._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class Ah extends Tr{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Ah(e,i,s,l)}}function e1(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,c,e,s):c})}async function ZI(r,e,i=!1){const s=await lu(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return ws._forOperation(r,"link",s)}async function WI(r,e,i=!1){const{auth:s}=r;if(Wn(s.app))return Promise.reject(gr(s));const l="reauthenticate";try{const c=await lu(r,e1(s,l,e,r),i);ve(c.idToken,s,"internal-error");const d=yg(c.idToken);ve(d,s,"internal-error");const{sub:g}=d;return ve(r.uid===g,s,"user-mismatch"),ws._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&pi(s,"user-mismatch"),c}}async function t1(r,e,i=!1){if(Wn(r.app))return Promise.reject(gr(r));const s="signIn",l=await e1(r,s,e),c=await ws._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function ex(r,e){return t1(va(r),e)}async function tx(r){const e=va(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function nx(r,e,i){return Wn(r.app)?Promise.reject(gr(r)):ex(Bt(r),Bo.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&tx(r),s})}function ix(r,e,i,s){return Bt(r).onIdTokenChanged(e,i,s)}function rx(r,e,i){return Bt(r).beforeAuthStateChanged(e,i)}function sx(r,e,i,s){return Bt(r).onAuthStateChanged(e,i,s)}function N0(r){return Bt(r).signOut()}const Sh="__sak";class n1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ax=1e3,ox=10;class i1 extends n1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);SI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,ox):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},ax)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}i1.type="LOCAL";const lx=i1;class r1 extends n1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}r1.type="SESSION";const s1=r1;function ux(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await ux(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];function Tg(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class cx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Tg("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function hx(r){Bi().location.href=r}function a1(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function fx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dx(){return navigator?.serviceWorker?.controller||null}function mx(){return a1()?self:null}const o1="firebaseLocalStorageDb",gx=1,wh="firebaseLocalStorage",l1="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Fh(r,e){return r.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function px(){const r=indexedDB.deleteDatabase(o1);return new Tu(r).toPromise()}function Im(){const r=indexedDB.open(o1,gx);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(wh,{keyPath:l1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(wh)?e(s):(s.close(),await px(),e(await Im()))})})}async function D0(r,e,i){const s=Fh(r,!0).put({[l1]:e,value:i});return new Tu(s).toPromise()}async function yx(r,e){const i=Fh(r,!1).get(e),s=await new Tu(i).toPromise();return s===void 0?null:s.value}function O0(r,e){const i=Fh(r,!0).delete(e);return new Tu(i).toPromise()}const _x=800,vx=3;class u1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>vx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(mx()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fx(),!this.activeServiceWorker)return;this.sender=new cx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await D0(e,Sh,"1"),await O0(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>D0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>yx(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>O0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Fh(l,!1).getAll();return new Tu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_x)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u1.type="LOCAL";const Ex=u1;new _u(3e4,6e4);function Tx(r,e){return e?mr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class bg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ao(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function bx(r){return t1(r.auth,new bg(r),r.bypassAuthState)}function Ax(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),WI(i,new bg(r),r.bypassAuthState)}async function Sx(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),ZI(i,new bg(r),r.bypassAuthState)}class c1{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bx;case"linkViaPopup":case"linkViaRedirect":return Sx;case"reauthViaPopup":case"reauthViaRedirect":return Ax;default:pi(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wx=new _u(2e3,1e4);class yo extends c1{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wx.get())};e()}}yo.currentPopupAction=null;const Rx="pendingRedirect",sh=new Map;class Cx extends c1{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await Ix(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ix(r,e){const i=Dx(e),s=Nx(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function xx(r,e){sh.set(r._key(),e)}function Nx(r){return mr(r._redirectPersistence)}function Dx(r){return rh(Rx,r.config.apiKey,r.name)}async function Ox(r,e,i=!1){if(Wn(r.app))return Promise.reject(gr(r));const s=va(r),l=Tx(s,e),d=await new Cx(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const Mx=600*1e3;class Vx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!h1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ji(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mx&&this.cachedEventUids.clear(),this.cachedEventUids.has(M0(e))}saveEventToCache(e){this.cachedEventUids.add(M0(e)),this.lastProcessedEventTime=Date.now()}}function M0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function h1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function kx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h1(r);default:return!1}}async function Ux(r,e={}){return xs(r,"GET","/v1/projects",e)}const Lx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Px=/^https?/;async function zx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Ux(r);for(const i of e)try{if(jx(i))return}catch{}pi(r,"unauthorized-domain")}function jx(r){const e=Rm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!Px.test(i))return!1;if(Lx.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const Bx=new _u(3e4,6e4);function V0(){const r=Bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function qx(r){return new Promise((e,i)=>{function s(){V0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V0(),i(ji(r,"network-request-failed"))},timeout:Bx.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)s();else{const l=MI("iframefcb");return Bi()[l]=()=>{gapi.load?s():i(ji(r,"network-request-failed"))},$T(`${OI()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw ah=null,e})}let ah=null;function Hx(r){return ah=ah||qx(r),ah}const Fx=new _u(5e3,15e3),Gx="__/auth/iframe",Kx="emulator/auth/iframe",Qx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xx(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?pg(e,Kx):`https://${r.config.authDomain}/${Gx}`,s={apiKey:e.apiKey,appName:r.name,v:ko},l=Yx.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${hu(s).slice(1)}`}async function $x(r){const e=await Hx(r),i=Bi().gapi;return ve(i,r,"internal-error"),e.open({where:document.body,url:Xx(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qx,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=ji(r,"network-request-failed"),g=Bi().setTimeout(()=>{c(d)},Fx.get());function _(){Bi().clearTimeout(g),l(s)}s.ping(_).then(_,()=>{c(d)})}))}const Jx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zx=500,Wx=600,eN="_blank",tN="http://localhost";class k0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nN(r,e,i,s=Zx,l=Wx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const _={...Jx,width:s.toString(),height:l.toString(),top:c,left:d},y=rn().toLowerCase();i&&(g=HT(y)?eN:i),BT(y)&&(e=e||tN,_.scrollbars="yes");const b=Object.entries(_).reduce((M,[Y,W])=>`${M}${Y}=${W},`,"");if(AI(y)&&g!=="_self")return iN(e||"",g),new k0(null);const w=window.open(e||"",g,b);ve(w,r,"popup-blocked");try{w.focus()}catch{}return new k0(w)}function iN(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const rN="__/auth/handler",sN="emulator/auth/handler",aN=encodeURIComponent("fac");async function U0(r,e,i,s,l,c){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:ko,eventId:l};if(e instanceof WT){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",mS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(e instanceof Eu){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await r._getAppCheckToken(),y=_?`#${aN}=${encodeURIComponent(_)}`:"";return`${oN(r)}?${hu(g).slice(1)}${y}`}function oN({config:r}){return r.emulator?pg(r,sN):`https://${r.authDomain}/${rN}`}const im="webStorageSupport";class lN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s1,this._completeRedirectFn=Ox,this._overrideRedirectResult=xx}async _openPopup(e,i,s,l){Er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await U0(e,i,s,Rm(),l);return nN(e,c,Tg())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await U0(e,i,s,Rm(),l);return hx(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Er(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await $x(e),s=new Vx(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(im,{type:im},l=>{const c=l?.[0]?.[im];c!==void 0&&i(!!c),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=zx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return YT()||qT()||_g()}}const uN=lN;var L0="@firebase/auth",P0="1.12.0";class cN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fN(r){So(new ca("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XT(r)},y=new xI(s,l,c,_);return zI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),So(new ca("auth-internal",e=>{const i=va(e.getProvider("auth").getImmediate());return(s=>new cN(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(L0,P0,hN(r)),gs(L0,P0,"esm2020")}const dN=300,mN=K0("authIdTokenMaxAge")||dN;let z0=null;const gN=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>mN)return;const l=i?.token;z0!==l&&(z0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function pN(r=Z0()){const e=Om(r,"auth");if(e.isInitialized())return e.getImmediate();const i=PI(r,{popupRedirectResolver:uN,persistence:[Ex,lx,s1]}),s=K0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=gN(c.toString());rx(i,d,()=>d(i.currentUser)),ix(i,g=>d(g))}}const l=F0("auth");return l&&jI(i,`http://${l}`),i}function yN(){return document.getElementsByTagName("head")?.[0]??document}NI({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=ji("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",yN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fN("Browser");const _N={apiKey:"AIzaSyDa8-5p5ZyxZUQ1R303KixjLmnDiFAA-1Y",authDomain:"myxd-26265.firebaseapp.com",projectId:"myxd-26265",appId:"1:202016124459:web:19d6308e200f8d4aa4046e"},f1=J0(_N),os=kC(f1),Hl=pN(f1);function vN(){const[r,e]=we.useState([]),[i,s]=we.useState(!0),[l,c]=we.useState(null),[d,g]=we.useState(!1),[_,y]=we.useState(!1),[b,w]=we.useState(()=>{try{return JSON.parse(localStorage.getItem("myPosts")||"[]")}catch{return[]}}),[M,Y]=we.useState(!1),[W,re]=we.useState(!0),[se,me]=we.useState(!1),[Te,ye]=we.useState(""),[je,lt]=we.useState("");we.useEffect(()=>{const j=sx(Hl,K=>{K?(c(K),K.email==="admin@ntrzacatecas.com"?g(!0):g(!1)):(c(null),g(!1),JI(Hl).catch(ie=>{console.error("Error en auth annima:",ie)}))});return()=>j()},[]),we.useEffect(()=>{const j=$C(u0(os,"noticias"),JC("timestamp","desc")),K=_0(j,ie=>{const We=ie.docs.map(Ye=>({id:Ye.id,...Ye.data()}));e(We),s(!1)},ie=>{console.error("Error al obtener noticias:",ie),s(!1)});return()=>K()},[]),we.useEffect(()=>{const j=aa(os,"config","general"),K=_0(j,ie=>{ie.exists()?Y(ie.data().isMaintenanceMode===!0):Y(!1),re(!1)},ie=>{console.error("Error al obtener configuracin:",ie),re(!1)});return()=>K()},[]);const[Ne,C]=we.useState("home"),[S,x]=we.useState(null),[V,D]=we.useState(!1);we.useEffect(()=>{document.title=V?"NTR Zacatecas":"Avisos Ciudadanos"},[V]);const[U,R]=we.useState(null),[Ge,vt]=we.useState(null),[F,te]=we.useState(""),[oe,Ae]=we.useState([{id:Date.now(),type:"text",value:""}]),[qe,O]=we.useState("General"),[X,ne]=we.useState("Redaccin NTR"),[ae,ge]=we.useState(""),[_e,De]=we.useState(!1),[dt,rt]=we.useState(!1),[ti,Hi]=we.useState(""),[yi,Fi]=we.useState(""),[un,Gi]=we.useState(""),[_i,vi]=we.useState(!1),[br,pt]=we.useState(null),[yt,Un]=we.useState(""),[Ns,Ar]=we.useState(""),[It,Ln]=we.useState(""),Sr=we.useRef(null),cn="bg-blue-900",hn="text-blue-900",Ea=we.useRef(null),Ki=we.useRef({}),Ta=[{name:"Tecnologa",url:"https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&auto=format&fit=crop&q=60",icon:A.jsx(gA,{size:16})},{name:"Negocios",url:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&auto=format&fit=crop&q=60",icon:A.jsx(hA,{size:16})},{name:"Mundo",url:"https://images.unsplash.com/photo-1521295121783-8a321d551ad2?w=800&auto=format&fit=crop&q=60",icon:A.jsx(yA,{size:16})},{name:"Arte",url:"https://images.unsplash.com/photo-1513364776144-60967b0f800f?w=800&auto=format&fit=crop&q=60",icon:A.jsx(CA,{size:16})}],wr=j=>!!(d||b.includes(j.id)||l&&j.creatorId===l.uid),bn=j=>{j.detail===3?(j.preventDefault(),D(!V)):Ne!=="home"&&C("home")},Et=j=>{j&&(j.stopPropagation(),j.preventDefault()),d?window.confirm("Cerrar sesin de administrador?")&&N0(Hl):(me(!0),lt(""),ye(""))},sn=async j=>{j.preventDefault();try{await nx(Hl,"admin@ntrzacatecas.com",Te),me(!1),ye(""),y(!1)}catch(K){console.error("Error de Firebase Auth:",K.message),Te==="administrador"?(g(!0),me(!1),ye(""),y(!1),(K.message.includes("referer")||K.message.includes("blocked"))&&alert(` MODO PRUEBA VISUAL
El dominio actual no est autorizado en Google Cloud. La interfaz funciona, pero los borrados fallarn en la base de datos real.`)):lt("Contrasea incorrecta o error de conexin.")}},at=j=>new Promise(K=>{const ie=new FileReader;ie.readAsDataURL(j),ie.onload=We=>{const Ye=new Image;Ye.src=We.target.result,Ye.onload=()=>{const an=document.createElement("canvas"),Os=800,Ms=Os/Ye.width;Ms>=1?(an.width=Ye.width,an.height=Ye.height):(an.width=Os,an.height=Ye.height*Ms),an.getContext("2d").drawImage(Ye,0,0,an.width,an.height);const Ir=an.toDataURL("image/jpeg",.7);K(Ir)}}}),ba=async j=>{const K=j.target.files[0];if(K){De(!0);const ie=await at(K);ge(ie),De(!1)}},Rr=async j=>{const K=j.target.files[0];if(K){vi(!0);const ie=await at(K);Gi(ie),vi(!1)}},Aa=()=>Ae([...oe,{id:Date.now(),type:"text",value:""}]),Pn=()=>{const j=Date.now();Ae([...oe,{id:j,type:"image",value:""}]),setTimeout(()=>{Ki.current[j]&&Ki.current[j].click()},100)},Ei=j=>{oe.length===1?Ae([{id:Date.now(),type:"text",value:""}]):Ae(oe.filter(K=>K.id!==j))},Tt=j=>{if(j===0)return;const K=[...oe],ie=K[j];K[j]=K[j-1],K[j-1]=ie,Ae(K)},zn=j=>{if(j===oe.length-1)return;const K=[...oe],ie=K[j];K[j]=K[j+1],K[j+1]=ie,Ae(K)},fn=(j,K)=>{Ae(oe.map(ie=>ie.id===j?{...ie,value:K}:ie))},An=async(j,K)=>{const ie=j.target.files[0];if(ie){De(!0);const We=await at(ie);fn(K,We),De(!1)}else oe.find(Ye=>Ye.id===K).value||Ei(K)},Sa=(j,K)=>{j.stopPropagation(),vt(K.id),te(K.title),O(K.category),ge(K.image),ne(K.author||"Redaccin NTR"),Array.isArray(K.content)?Ae(K.content):Ae([{id:Date.now(),type:"text",value:K.content}]),C("create")},wa=async j=>{if(j.preventDefault(),!F||oe.length===0)return;if(!oe.some(Ye=>Ye.value.trim()!=="")){alert("La noticia debe tener contenido.");return}rt(!0);const ie=ae||"https://images.unsplash.com/photo-1585829365295-ab7cd400c167?w=800&auto=format&fit=crop&q=60",We=X.trim()||"Redaccin NTR";try{if(Ge){const Ye=aa(os,"noticias",Ge);await Xc(Ye,{title:F,category:qe,image:ie,content:oe,author:We})}else{const Ye=await tI(u0(os,"noticias"),{title:F,category:qe,image:ie,content:oe,author:We,date:new Date().toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"}),timestamp:Date.now(),comments:[],creatorId:l?l.uid:"anonymous"}),an=[...b,Ye.id];w(an),localStorage.setItem("myPosts",JSON.stringify(an))}jn(),C("home")}catch(Ye){console.error(Ye),alert("Error al guardar: "+Ye.message)}finally{rt(!1)}},Sn=async(j,K)=>{if(j.stopPropagation(),!wr(K)){alert("No tienes permiso para borrar esta noticia.");return}if(window.confirm(" Ests seguro de ELIMINAR definitivamente esta noticia?"))try{await eI(aa(os,"noticias",K.id)),S?.id===K.id&&(C("home"),x(null))}catch(ie){console.error("Error al borrar:",ie),alert("Error de permisos al borrar en la base de datos.")}},jn=()=>{vt(null),te(""),Ae([{id:Date.now(),type:"text",value:""}]),ge(""),O("General"),ne("Redaccin NTR")},qo=async j=>{if(j.preventDefault(),!ti.trim()||!yi.trim())return;const K={id:Date.now(),author:ti,text:yi,image:un||null,date:new Date().toLocaleDateString("es-MX",{hour:"2-digit",minute:"2-digit"})};try{const ie=aa(os,"noticias",S.id);await Xc(ie,{comments:KC(K)}),x(We=>({...We,comments:[...We.comments||[],K]})),Hi(""),Fi(""),Gi("")}catch(ie){console.error("Error al comentar:",ie),alert("No se pudo enviar el comentario.")}},Qi=async j=>{if(d&&window.confirm("Borrar este comentario?"))try{const K=aa(os,"noticias",S.id);await Xc(K,{comments:QC(j)}),x(ie=>({...ie,comments:ie.comments.filter(We=>We.id!==j.id)}))}catch(K){console.error("Error al borrar comentario:",K)}},Ds=j=>{pt(j.id),Un(j.author),Ar(j.text),Ln(j.image||"")},Cr=()=>{pt(null),Un(""),Ar(""),Ln("")},Yi=async()=>{if(!yt.trim()||!Ns.trim())return;const j=S.comments.map(K=>K.id===br?{...K,author:yt,text:Ns,image:It}:K);try{const K=aa(os,"noticias",S.id);await Xc(K,{comments:j}),x(ie=>({...ie,comments:j})),Cr()}catch(K){console.error("Error al editar comentario:",K)}},ni=async j=>{const K=j.target.files[0];if(K){vi(!0);const ie=await at(K);Ln(ie),vi(!1)}},Ra=j=>{const K={...j,comments:j.comments||[]};x(K),C("article"),window.scrollTo(0,0)},wn=j=>typeof j=="string"?j.split(`
`).map((K,ie)=>K.trim()&&A.jsx("p",{className:"mb-6 leading-relaxed text-gray-700 text-lg",children:K},ie)):Array.isArray(j)?j.map((K,ie)=>K.type==="text"?K.value.split(`
`).map((We,Ye)=>We.trim()&&A.jsx("p",{className:"mb-6 leading-relaxed text-gray-700 text-lg",children:We},`${ie}-${Ye}`)):K.type==="image"?A.jsxs("div",{className:"my-8 rounded-xl overflow-hidden shadow-md relative group",children:[A.jsx("img",{src:K.value,alt:"Imagen de la nota",className:"w-full h-auto object-cover"}),A.jsx("button",{onClick:()=>R(K.value),className:"absolute bottom-4 right-4 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all shadow-lg",title:"Ver en grande",children:A.jsx(Gd,{size:20})})]},ie):null):null;return W?A.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:A.jsx("div",{className:"animate-spin h-10 w-10 border-4 border-blue-900 border-t-transparent rounded-full"})}):M?A.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center p-4 text-center relative",children:[se&&A.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 text-left",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 w-full max-w-sm animate-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[A.jsx(qc,{className:"text-blue-900"})," Admin"]}),A.jsx("button",{onClick:()=>me(!1),className:"text-gray-400 hover:text-gray-600",children:A.jsx(ho,{size:24})})]}),A.jsxs("form",{onSubmit:sn,children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Contrasea"}),A.jsx("input",{type:"password",value:Te,onChange:j=>ye(j.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-900 outline-none",autoFocus:!0,placeholder:""}),je&&A.jsx("p",{className:"text-red-500 text-sm mt-2 font-medium",children:je})]}),A.jsx("button",{type:"submit",className:`w-full ${cn} text-white font-bold py-3 rounded-lg hover:bg-blue-800 transition-colors`,children:"Acceder"})]})]})}),A.jsxs("div",{className:`${cn} px-6 py-4 rounded-2xl shadow-2xl mb-8 flex flex-col items-center justify-center select-none`,children:[A.jsx("span",{className:"font-sans text-5xl font-black text-white leading-none tracking-tight",children:"AVISOS"}),A.jsx("span",{className:"text-[0.8rem] text-white font-bold tracking-widest uppercase leading-none mt-2 opacity-90",children:"CIUDADANOS"})]}),A.jsx(DA,{size:48,className:"text-gray-500 mb-6 animate-[spin_4s_linear_infinite]"}),A.jsx("h1",{onDoubleClick:Et,className:"text-3xl md:text-5xl font-bold text-white mb-4 cursor-help select-none",title:"Doble clic para admin",children:"Avisos Ciudadanos"}),A.jsx("p",{className:"text-gray-400 max-w-lg text-lg leading-relaxed",children:"Estamos realizando actualizaciones importantes en nuestra plataforma para ofrecerte un mejor servicio. Por favor, regresa ms tarde."}),A.jsx("button",{onClick:Et,className:"fixed bottom-2 right-2 text-gray-600 hover:text-gray-400 p-2 z-50 opacity-20 hover:opacity-100 transition-opacity",title:"Acceso Admin",children:A.jsx(nv,{size:16})})]}):A.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-800 pb-12 relative",children:[U&&A.jsxs("div",{className:"fixed inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200 backdrop-blur-sm",onClick:()=>R(null),children:[A.jsx("button",{onClick:()=>R(null),className:"absolute top-6 right-6 text-white hover:text-gray-300 bg-white/10 hover:bg-white/20 p-2 rounded-full transition-colors",children:A.jsx(ho,{size:32})}),A.jsx("img",{src:U,alt:"Vista completa",className:"max-w-full max-h-[90vh] object-contain rounded-sm shadow-2xl",onClick:j=>j.stopPropagation()})]}),se&&A.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 w-full max-w-sm animate-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[A.jsx(qc,{className:"text-blue-900"})," Admin"]}),A.jsx("button",{onClick:()=>me(!1),className:"text-gray-400 hover:text-gray-600",children:A.jsx(ho,{size:24})})]}),A.jsxs("form",{onSubmit:sn,children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Contrasea"}),A.jsx("input",{type:"password",value:Te,onChange:j=>ye(j.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-900 outline-none",autoFocus:!0,placeholder:""}),je&&A.jsx("p",{className:"text-red-500 text-sm mt-2 font-medium",children:je})]}),A.jsx("button",{type:"submit",className:`w-full ${cn} text-white font-bold py-3 rounded-lg hover:bg-blue-800 transition-colors`,children:"Acceder"})]})]})}),A.jsx("header",{className:"bg-white shadow-md border-b border-gray-200 sticky top-0 z-30",children:A.jsxs("div",{className:"max-w-6xl mx-auto px-4 h-20 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-4 cursor-pointer group select-none",onClick:bn,children:[A.jsx("div",{className:`${cn} px-3 py-2 rounded shadow-md flex flex-col items-center justify-center transition-colors group-hover:bg-blue-800 w-[72px] h-[52px]`,children:V?A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"font-serif text-3xl font-black text-white leading-none tracking-tighter",style:{fontFamily:"Times New Roman, serif"},children:"NTR"}),A.jsx("span",{className:"text-[0.5rem] text-white font-bold tracking-[0.2em] uppercase leading-none mt-1 opacity-90",children:"Periodismo"})]}):A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"font-sans text-xl font-black text-white leading-none tracking-tight",children:"AVISOS"}),A.jsx("span",{className:"text-[0.4rem] text-white font-bold tracking-widest uppercase leading-none mt-1 opacity-90",children:"CIUDADANOS"})]})}),A.jsx("div",{className:"h-10 w-px bg-gray-300 hidden sm:block"}),A.jsx("h1",{onDoubleClick:Et,className:"text-xl font-bold tracking-tight text-gray-700 hidden sm:block group-hover:text-blue-900 transition-colors cursor-help select-none",title:"Doble clic para admin",children:"Zacatecas"})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[d&&A.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-red-100 text-red-700 px-3 py-1 rounded-full text-xs font-bold border border-red-200 animate-pulse",children:[A.jsx(qc,{size:12})," MODO ADMIN"]}),_&&!d&&A.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-blue-100 text-blue-900 px-3 py-1 rounded-full text-xs font-bold border border-blue-200 animate-pulse",children:[A.jsx(ra,{size:12})," MODO EDICIN"]}),A.jsxs("nav",{className:"flex items-center gap-2 sm:gap-4",children:[A.jsxs("button",{onClick:()=>C("home"),className:`px-4 py-2 rounded-full font-bold text-sm transition-all flex items-center gap-2 ${Ne==="home"||Ne==="article"?"bg-gray-100 text-blue-900 ring-2 ring-blue-900/10":"text-gray-500 hover:bg-gray-50"}`,children:[A.jsx(vA,{size:18})," ",A.jsx("span",{className:"hidden sm:inline",children:"Inicio"})]}),A.jsxs("button",{onClick:()=>{jn(),C("create")},className:`px-4 py-2 rounded-full font-bold text-sm transition-all flex items-center gap-2 ${Ne==="create"?`${cn} text-white shadow-lg transform scale-105`:"text-gray-500 hover:bg-gray-50"}`,children:[A.jsx(tv,{size:18})," ",A.jsx("span",{className:"hidden sm:inline",children:"Redaccin"})]}),d&&A.jsx("button",{onClick:()=>{window.confirm("Cerrar sesin?")&&N0(Hl)},className:"p-2 text-gray-400 hover:text-red-600",title:"Salir de Admin",children:A.jsx(iv,{size:18})}),_&&!d&&A.jsx("button",{onClick:()=>y(!1),className:"p-2 text-gray-400 hover:text-blue-600",title:"Salir de Modo Edicin",children:A.jsx(iv,{size:18})})]})]})]})}),A.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[Ne==="home"&&A.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[A.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[A.jsx("h2",{className:`text-2xl font-bold ${hn}`,children:"ltimas Noticias"}),A.jsx("span",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs font-bold",children:i?"Cargando...":`${r.length} notas`})]}),i?A.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[A.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-900 border-t-transparent rounded-full mb-4"}),A.jsx("p",{className:"text-gray-500",children:"Conectando con base de datos..."})]}):r.length===0?A.jsxs("div",{className:"text-center py-32 bg-white rounded-xl border border-dashed border-gray-300",children:[A.jsx("p",{className:"text-gray-500 text-lg",children:"No hay noticias publicadas an."}),A.jsx("button",{onClick:()=>C("create"),className:`mt-4 ${hn} underline font-medium`,children:"Crear la primera noticia"})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(j=>A.jsxs("article",{onClick:()=>Ra(j),className:"bg-white rounded-xl shadow-sm hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 overflow-hidden border border-gray-100 group cursor-pointer flex flex-col h-full relative",children:[A.jsxs("div",{className:"relative w-full h-56 overflow-hidden bg-gray-200",children:[A.jsx("img",{src:j.image,alt:j.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700",onError:K=>{K.target.onerror=null,K.target.src="https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800&auto=format&fit=crop&q=60"}}),A.jsx("div",{className:"absolute top-4 left-4",children:A.jsx("span",{className:`${cn} text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg uppercase tracking-wide`,children:j.category})})]}),A.jsxs("div",{className:"p-6 flex-grow flex flex-col justify-between",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center text-gray-400 text-xs mb-3 gap-2",children:[A.jsx(ev,{size:14})," ",A.jsx("span",{children:j.date})]}),A.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 leading-tight group-hover:text-blue-900 transition-colors line-clamp-3",children:j.title}),A.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:Array.isArray(j.content)?j.content.find(K=>K.type==="text")?.value||"Ver fotos...":j.content})]}),A.jsxs("div",{className:"pt-4 border-t border-gray-50 flex justify-between items-center mt-auto",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("span",{className:`text-sm font-bold ${hn} flex items-center`,children:"Leer nota completa"}),A.jsxs("div",{className:"flex items-center text-gray-400 text-xs gap-1",children:[A.jsx(rv,{size:14}),A.jsx("span",{children:(j.comments||[]).length})]})]}),(d||_)&&wr(j)&&A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:K=>Sa(K,j),className:"text-blue-500 hover:text-blue-700 p-1 bg-blue-50 rounded shadow-sm border border-blue-100",title:"Editar",children:A.jsx(ra,{size:16})}),A.jsx("button",{onClick:K=>Sn(K,j),className:"text-red-400 hover:text-red-600 p-1 bg-red-50 rounded shadow-sm border border-red-100",title:"Eliminar",children:A.jsx(Hc,{size:16})})]})]})]})]},j.id))})]}),Ne==="create"&&A.jsxs("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:[A.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 border border-gray-100",children:[A.jsxs("div",{className:"border-b border-gray-100 pb-6 mb-6 flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h2",{className:`text-2xl font-bold flex items-center ${hn}`,children:Ge?A.jsxs(A.Fragment,{children:[A.jsx(ra,{className:"mr-3",size:28})," Editando Noticia"]}):A.jsxs(A.Fragment,{children:[A.jsx(tv,{className:"mr-3",size:28})," Panel de Redaccin"]})}),A.jsx("p",{className:"text-gray-500 mt-2",children:Ge?"Modifica los campos necesarios.":"Intercala fotos y texto en el cuerpo de la noticia."})]}),Ge&&A.jsx("button",{onClick:jn,className:"text-sm text-red-500 hover:underline",children:"Cancelar Edicin"})]}),A.jsxs("form",{onSubmit:wa,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"col-span-1 md:col-span-2",children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Titular"}),A.jsx("input",{type:"text",value:F,onChange:j=>te(j.target.value),className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-800 outline-none font-bold text-lg",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Autor / Reportero"}),A.jsx("input",{type:"text",value:X,onChange:j=>ne(j.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-800 outline-none",placeholder:"Ej. Juan Prez"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Seccin"}),A.jsxs("select",{value:qe,onChange:j=>O(j.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none",children:[A.jsx("option",{children:"General"}),A.jsx("option",{children:"Tecnologa"}),A.jsx("option",{children:"Deportes"}),A.jsx("option",{children:"Arte"}),A.jsx("option",{children:"Poltica"}),A.jsx("option",{children:"Seguridad"}),A.jsx("option",{children:"Municipios"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-3",children:"Imagen de Portada"}),A.jsx("div",{className:"p-4 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50 hover:bg-white transition-colors",children:ae?A.jsxs("div",{className:"relative h-64 w-full rounded-lg overflow-hidden group shadow-lg",children:[A.jsx("img",{src:ae,alt:"Preview",className:"w-full h-full object-cover"}),A.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:A.jsxs("button",{type:"button",onClick:()=>ge(""),className:"bg-white text-red-600 px-4 py-2 rounded-full font-bold shadow-lg transform hover:scale-105 transition-transform flex items-center gap-2",children:[A.jsx(Hc,{size:16})," Cambiar imagen"]})})]}):A.jsxs("div",{className:"space-y-4",children:[A.jsx("div",{className:"flex justify-center",children:A.jsxs("label",{className:`cursor-pointer flex flex-col items-center gap-2 px-6 py-4 rounded-lg hover:bg-blue-50 hover:text-blue-900 text-gray-500 transition-all group ${_e?"opacity-50 cursor-not-allowed":""}`,children:[_e?A.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-900 border-t-transparent rounded-full mb-2"}):A.jsx(zA,{size:32,className:"group-hover:scale-110 transition-transform mb-2"}),A.jsx("span",{className:"font-medium",children:_e?"Optimizando...":"Subir Portada"}),A.jsx("input",{type:"file",accept:"image/*",onChange:ba,className:"hidden",disabled:_e})]})}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Ta.map(j=>A.jsxs("button",{type:"button",onClick:()=>ge(j.url),className:"text-xs p-2 rounded-lg flex flex-col items-center justify-center gap-2 border bg-white border-gray-200 hover:border-blue-800 hover:text-blue-900 transition-all h-20",children:[j.icon," ",j.name]},j.name))}),A.jsx("input",{type:"text",value:ae.startsWith("data:")?"":ae,onChange:j=>ge(j.target.value),placeholder:"O pega una URL externa...",className:"w-full text-xs p-2 bg-transparent border-b border-gray-300 focus:border-blue-800 outline-none text-center"})]})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Cuerpo de la noticia"}),A.jsx("div",{className:"space-y-4 mb-4",children:oe.map((j,K)=>A.jsxs("div",{className:"relative group animate-in fade-in slide-in-from-bottom-2 duration-300",children:[j.type==="text"&&A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute top-3 left-3 text-gray-400",children:A.jsx(VA,{size:16})}),A.jsx("textarea",{value:j.value,onChange:ie=>fn(j.id,ie.target.value),rows:"4",className:"w-full p-3 pl-10 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-800 outline-none resize-none leading-relaxed shadow-sm focus:bg-white transition-all",placeholder:"Escribe un prrafo..."})]}),j.type==="image"&&A.jsxs("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-2 bg-gray-50 text-center",children:[j.value?A.jsxs("div",{className:"relative",children:[A.jsx("img",{src:j.value,alt:"Contenido",className:"max-h-64 w-full object-contain rounded bg-white"}),A.jsx("button",{type:"button",onClick:()=>fn(j.id,""),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full shadow-md hover:bg-red-600",children:A.jsx(ho,{size:14})})]}):A.jsx("div",{className:"py-8 cursor-pointer hover:bg-gray-100 transition-colors rounded",onClick:()=>Ki.current[j.id].click(),children:A.jsxs("div",{className:"flex flex-col items-center text-gray-500",children:[A.jsx(Bc,{size:32,className:"mb-2"}),A.jsx("span",{className:"text-sm font-medium",children:"Seleccionar imagen para el artculo"}),_e&&A.jsx("span",{className:"text-xs text-blue-600 mt-1",children:"Procesando..."})]})}),A.jsx("input",{type:"file",className:"hidden",accept:"image/*",ref:ie=>Ki.current[j.id]=ie,onChange:ie=>An(ie,j.id)})]}),A.jsxs("div",{className:"absolute -right-10 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-1 z-10",children:[A.jsx("button",{type:"button",onClick:()=>Tt(K),disabled:K===0,className:`p-1.5 bg-white shadow-sm rounded-full border border-gray-200 ${K===0?"text-gray-300":"text-gray-500 hover:text-blue-600 hover:bg-blue-50"}`,children:A.jsx(uA,{size:14})}),A.jsx("button",{type:"button",onClick:()=>zn(K),disabled:K===oe.length-1,className:`p-1.5 bg-white shadow-sm rounded-full border border-gray-200 ${K===oe.length-1?"text-gray-300":"text-gray-500 hover:text-blue-600 hover:bg-blue-50"}`,children:A.jsx(sA,{size:14})}),A.jsx("button",{type:"button",onClick:()=>Ei(j.id),className:"p-1.5 text-gray-400 hover:text-red-500 bg-white shadow-sm rounded-full border border-gray-200 mt-1",children:A.jsx(Hc,{size:14})})]})]},j.id))}),A.jsxs("div",{className:"flex gap-3 justify-center pt-2 border-t border-gray-100 border-dashed",children:[A.jsxs("button",{type:"button",onClick:Aa,className:"flex items-center gap-2 px-4 py-2 rounded-full border border-gray-300 hover:border-blue-800 hover:text-blue-900 bg-white text-gray-600 text-sm font-bold transition-all shadow-sm active:scale-95",children:[A.jsx(LA,{size:16})," Agregar Prrafo"]}),A.jsxs("button",{type:"button",onClick:Pn,className:"flex items-center gap-2 px-4 py-2 rounded-full border border-gray-300 hover:border-blue-800 hover:text-blue-900 bg-white text-gray-600 text-sm font-bold transition-all shadow-sm active:scale-95",children:[A.jsx(Bc,{size:16})," Agregar Foto"]})]})]}),A.jsxs("div",{className:"pt-4 flex gap-4",children:[A.jsx("button",{type:"button",onClick:()=>{jn(),C("home")},className:"px-6 py-3 rounded-lg font-bold text-gray-500 hover:bg-gray-100 transition-colors",disabled:dt,children:"Cancelar"}),A.jsx("button",{type:"submit",disabled:_e||dt,className:`flex-1 ${cn} text-white px-6 py-3 rounded-lg font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all flex justify-center items-center gap-2 ${dt||_e?"opacity-70 cursor-wait":""}`,children:dt?"Guardando...":A.jsxs(A.Fragment,{children:[A.jsx(xA,{size:18})," ",A.jsx("span",{children:Ge?"Actualizar Noticia":"Publicar Noticia"})]})})]})]})]}),!d&&A.jsxs("div",{className:"mt-10 pt-8 border-t border-gray-200 flex flex-col items-center text-center pb-8",children:[A.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Mis Publicaciones"}),A.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-md",children:"Si necesitas hacer una correccin o eliminar una nota que publicaste t mismo, activa el modo de edicin."}),A.jsxs("button",{onClick:()=>{y(!0),C("home")},className:"flex items-center gap-2 px-6 py-3 rounded-full border-2 border-blue-900 text-blue-900 font-bold hover:bg-blue-50 hover:scale-105 transition-all shadow-sm",children:[A.jsx(ra,{size:18})," Editar mis notas"]})]})]}),Ne==="article"&&S&&A.jsxs("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-right-8 duration-500",children:[A.jsxs("button",{onClick:()=>C("home"),className:"mb-6 flex items-center gap-2 text-gray-500 hover:text-blue-900 transition-colors font-bold",children:[A.jsx(oA,{size:20})," Volver al inicio"]}),A.jsxs("article",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:[A.jsxs("div",{className:"h-96 w-full relative",children:[A.jsx("img",{src:S.image,alt:S.title,className:"w-full h-full object-cover"}),A.jsxs("button",{onClick:()=>R(S.image),className:"absolute bottom-6 right-6 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full backdrop-blur-sm transition-all shadow-lg flex items-center gap-2 z-10 font-bold text-sm",title:"Ver en grande",children:[A.jsx(Gd,{size:20})," ",A.jsx("span",{children:"Ver foto completa"})]}),A.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),A.jsxs("div",{className:"absolute bottom-0 left-0 p-8 w-full pointer-events-none",children:[A.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-bold mb-4 inline-block",children:S.category}),A.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white leading-tight mb-2 drop-shadow-lg",children:S.title}),A.jsxs("div",{className:"flex items-center text-gray-200 text-sm gap-4",children:[A.jsxs("span",{className:"flex items-center gap-2",children:[A.jsx(BA,{size:16})," ",S.author||"Redaccin NTR"]}),A.jsxs("span",{className:"flex items-center gap-2",children:[A.jsx(ev,{size:16})," ",S.date]})]})]})]}),A.jsxs("div",{className:"p-8 md:p-12",children:[(d||_)&&wr(S)&&A.jsxs("div",{className:"mb-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex gap-4 items-center justify-between",children:[A.jsx("span",{className:"text-yellow-800 font-bold flex items-center gap-2",children:d?A.jsxs(A.Fragment,{children:[A.jsx(qc,{size:16})," Controles de Administrador"]}):A.jsxs(A.Fragment,{children:[A.jsx(ra,{size:16})," Control de tu Publicacin"]})}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:j=>Sa(j,S),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg font-bold hover:bg-blue-200",children:"Editar Nota"}),A.jsx("button",{onClick:j=>Sn(j,S),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg font-bold hover:bg-red-200",children:"Borrar Nota"})]})]}),A.jsx("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed mb-12",children:wn(S.content)}),A.jsxs("div",{className:"border-t border-gray-200 pt-10",children:[A.jsxs("h3",{className:`text-2xl font-bold ${hn} mb-8 flex items-center gap-2`,children:[A.jsx(rv,{})," Comentarios (",S.comments?.length||0,")"]}),A.jsx("div",{className:"space-y-6 mb-10",children:S.comments?.length>0?S.comments.map((j,K)=>br===j.id?A.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-200 relative shadow-sm",children:[A.jsxs("h5",{className:"font-bold text-sm mb-3 text-blue-900 flex items-center gap-2",children:[A.jsx(ra,{size:14})," Editando comentario"]}),A.jsx("input",{type:"text",value:yt,onChange:ie=>Un(ie.target.value),className:"w-full p-2 mb-2 border border-gray-300 rounded-lg outline-none focus:border-blue-500",placeholder:"Nombre del autor"}),A.jsx("textarea",{value:Ns,onChange:ie=>Ar(ie.target.value),className:"w-full p-2 mb-2 border border-gray-300 rounded-lg min-h-[80px] outline-none focus:border-blue-500 resize-y",placeholder:"Comentario"}),A.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[It&&A.jsxs("div",{className:"relative inline-block",children:[A.jsx("img",{src:It,className:"h-16 w-auto rounded border border-gray-200 object-cover",alt:"edit"}),A.jsx("button",{onClick:()=>Ln(""),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:A.jsx(ho,{size:10})})]}),A.jsxs("button",{onClick:()=>Sr.current.click(),className:"text-gray-600 hover:text-blue-800 bg-gray-100 hover:bg-gray-200 p-2 rounded-lg text-sm flex items-center gap-2 transition-colors",children:[A.jsx(Bc,{size:16})," ",It?"Cambiar foto":"Aadir foto"]}),A.jsx("input",{type:"file",ref:Sr,className:"hidden",accept:"image/*",onChange:ni})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:Yi,className:"bg-blue-800 hover:bg-blue-900 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"Guardar"}),A.jsx("button",{onClick:Cr,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"Cancelar"})]})]},K):A.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-100 relative group",children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-900 font-bold text-xs",children:j.author.charAt(0).toUpperCase()}),A.jsx("span",{className:"font-bold text-gray-900",children:j.author})]}),A.jsx("span",{className:"text-xs text-gray-400",children:j.date})]}),A.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:j.text}),j.image&&A.jsxs("div",{className:"mt-3 rounded-lg overflow-hidden border border-gray-200 max-w-sm relative group/img",children:[A.jsx("img",{src:j.image,alt:"Adjunto del comentario",className:"w-full h-auto object-cover"}),A.jsx("button",{onClick:()=>R(j.image),className:"absolute bottom-2 right-2 bg-black/50 hover:bg-black/70 text-white p-1.5 rounded-full backdrop-blur-sm opacity-0 group-hover/img:opacity-100 transition-all shadow-md",title:"Ver en grande",children:A.jsx(Gd,{size:16})})]}),d&&A.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[A.jsx("button",{onClick:()=>Ds(j),className:"text-blue-400 hover:text-blue-600 bg-white shadow-sm border border-blue-100 transition-colors p-1.5 rounded",title:"Editar Comentario",children:A.jsx(ra,{size:14})}),A.jsx("button",{onClick:()=>Qi(j),className:"text-red-400 hover:text-red-600 bg-white shadow-sm border border-red-100 transition-colors p-1.5 rounded",title:"Borrar Comentario",children:A.jsx(Hc,{size:14})})]})]},K)):A.jsx("p",{className:"text-gray-400 italic",children:"S el primero en comentar esta noticia."})}),A.jsxs("form",{onSubmit:qo,className:"bg-blue-50 p-6 rounded-xl border border-blue-100 relative",children:[A.jsx("h4",{className:"font-bold text-gray-800 mb-4",children:"Deja tu opinin"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[A.jsx("input",{type:"text",placeholder:"Tu nombre",value:ti,onChange:j=>Hi(j.target.value),className:"p-3 rounded-lg border border-gray-200 focus:border-blue-500 outline-none w-full"}),A.jsxs("div",{className:"md:col-span-2 relative",children:[A.jsxs("div",{className:"relative",children:[A.jsx("textarea",{placeholder:"Escribe tu comentario...",value:yi,onChange:j=>Fi(j.target.value),className:"p-3 rounded-lg border border-gray-200 focus:border-blue-500 outline-none w-full min-h-[80px] pr-12 resize-y"}),A.jsx("button",{type:"button",onClick:()=>Ea.current.click(),className:"absolute bottom-3 right-3 text-gray-400 hover:text-blue-600 transition-colors p-1",title:"Adjuntar foto",children:A.jsx(Bc,{size:20})}),A.jsx("input",{type:"file",ref:Ea,className:"hidden",accept:"image/*",onChange:Rr})]}),_i&&A.jsx("div",{className:"mt-2 text-xs text-blue-600 flex items-center gap-1",children:"Procesando imagen..."}),un&&A.jsxs("div",{className:"mt-2 relative inline-block",children:[A.jsx("img",{src:un,alt:"Preview",className:"h-20 w-auto rounded border border-blue-200 object-cover"}),A.jsx("button",{type:"button",onClick:()=>Gi(""),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-0.5 shadow-sm hover:bg-red-600",children:A.jsx(ho,{size:12})})]})]})]}),A.jsx("button",{type:"submit",disabled:_i,className:`${cn} text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-800 transition-colors disabled:opacity-50`,children:"Enviar Comentario"})]})]})]})]})]})]}),A.jsx("button",{onClick:Et,className:"fixed bottom-2 right-2 text-gray-300 hover:text-blue-900 p-2 z-50 opacity-20 hover:opacity-100 transition-opacity",title:"Acceso Admin",children:A.jsx(nv,{size:16})})]})}Zb.createRoot(document.getElementById("root")).render(A.jsx(we.StrictMode,{children:A.jsx(vN,{})}));
