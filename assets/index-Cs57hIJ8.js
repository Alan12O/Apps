(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Kb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pd={exports:{}},ql={};var F_;function Qb(){if(F_)return ql;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return ql.Fragment=t,ql.jsx=i,ql.jsxs=i,ql}var G_;function Yb(){return G_||(G_=1,Pd.exports=Qb()),Pd.exports}var A=Yb(),zd={exports:{}},wt={};var K_;function Xb(){if(K_)return wt;K_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.iterator;function Y(x){return x===null||typeof x!="object"?null:(x=V&&x[V]||x["@@iterator"],typeof x=="function"?x:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,rt={};function mt(x,K,et){this.props=x,this.context=K,this.refs=rt,this.updater=et||W}mt.prototype.isReactComponent={},mt.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},mt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function St(){}St.prototype=mt.prototype;function vt(x,K,et){this.props=x,this.context=K,this.refs=rt,this.updater=et||W}var qt=vt.prototype=new St;qt.constructor=vt,it(qt,mt.prototype),qt.isPureReactComponent=!0;var ae=Array.isArray;function Dt(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(x,K,et){var st=et.ref;return{$$typeof:r,type:x,key:K,ref:st!==void 0?st:null,props:et}}function M(x,K){return R(x.type,K,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function U(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return K[et]})}var I=/\/+/g;function ie(x,K){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):K.toString(36)}function ue(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Dt,Dt):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function F(x,K,et,st,gt){var bt=typeof x;(bt==="undefined"||bt==="boolean")&&(x=null);var xt=!1;if(x===null)xt=!0;else switch(bt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(x.$$typeof){case r:case t:xt=!0;break;case b:return xt=x._init,F(xt(x._payload),K,et,st,gt)}}if(xt)return gt=gt(x),xt=st===""?"."+ie(x,0):st,ae(gt)?(et="",xt!=null&&(et=xt.replace(I,"$&/")+"/"),F(gt,K,et,"",function(Bn){return Bn})):gt!=null&&(D(gt)&&(gt=M(gt,et+(gt.key==null||x&&x.key===gt.key?"":(""+gt.key).replace(I,"$&/")+"/")+xt)),K.push(gt)),1;xt=0;var Se=st===""?".":st+":";if(ae(x))for(var Xt=0;Xt<x.length;Xt++)st=x[Xt],bt=Se+ie(st,Xt),xt+=F(st,K,et,bt,gt);else if(Xt=Y(x),typeof Xt=="function")for(x=Xt.call(x),Xt=0;!(st=x.next()).done;)st=st.value,bt=Se+ie(st,Xt++),xt+=F(st,K,et,bt,gt);else if(bt==="object"){if(typeof x.then=="function")return F(ue(x),K,et,st,gt);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xt}function nt(x,K,et){if(x==null)return x;var st=[],gt=0;return F(x,st,"","",function(bt){return K.call(et,bt,gt++)}),st}function ct(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var Ot=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Tt={map:nt,forEach:function(x,K,et){nt(x,function(){K.apply(this,arguments)},et)},count:function(x){var K=0;return nt(x,function(){K++}),K},toArray:function(x){return nt(x,function(K){return K})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return wt.Activity=w,wt.Children=Tt,wt.Component=mt,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=vt,wt.StrictMode=s,wt.Suspense=_,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,wt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return N.H.useMemoCache(x)}},wt.cache=function(x){return function(){return x.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(x,K,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=it({},x.props),gt=x.key;if(K!=null)for(bt in K.key!==void 0&&(gt=""+K.key),K)!S.call(K,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&K.ref===void 0||(st[bt]=K[bt]);var bt=arguments.length-2;if(bt===1)st.children=et;else if(1<bt){for(var xt=Array(bt),Se=0;Se<bt;Se++)xt[Se]=arguments[Se+2];st.children=xt}return R(x.type,gt,st)},wt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},wt.createElement=function(x,K,et){var st,gt={},bt=null;if(K!=null)for(st in K.key!==void 0&&(bt=""+K.key),K)S.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=K[st]);var xt=arguments.length-2;if(xt===1)gt.children=et;else if(1<xt){for(var Se=Array(xt),Xt=0;Xt<xt;Xt++)Se[Xt]=arguments[Xt+2];gt.children=Se}if(x&&x.defaultProps)for(st in xt=x.defaultProps,xt)gt[st]===void 0&&(gt[st]=xt[st]);return R(x,bt,gt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(x){return{$$typeof:p,render:x}},wt.isValidElement=D,wt.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:ct}},wt.memo=function(x,K){return{$$typeof:y,type:x,compare:K===void 0?null:K}},wt.startTransition=function(x){var K=N.T,et={};N.T=et;try{var st=x(),gt=N.S;gt!==null&&gt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Dt,Ot)}catch(bt){Ot(bt)}finally{K!==null&&et.types!==null&&(K.types=et.types),N.T=K}},wt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},wt.use=function(x){return N.H.use(x)},wt.useActionState=function(x,K,et){return N.H.useActionState(x,K,et)},wt.useCallback=function(x,K){return N.H.useCallback(x,K)},wt.useContext=function(x){return N.H.useContext(x)},wt.useDebugValue=function(){},wt.useDeferredValue=function(x,K){return N.H.useDeferredValue(x,K)},wt.useEffect=function(x,K){return N.H.useEffect(x,K)},wt.useEffectEvent=function(x){return N.H.useEffectEvent(x)},wt.useId=function(){return N.H.useId()},wt.useImperativeHandle=function(x,K,et){return N.H.useImperativeHandle(x,K,et)},wt.useInsertionEffect=function(x,K){return N.H.useInsertionEffect(x,K)},wt.useLayoutEffect=function(x,K){return N.H.useLayoutEffect(x,K)},wt.useMemo=function(x,K){return N.H.useMemo(x,K)},wt.useOptimistic=function(x,K){return N.H.useOptimistic(x,K)},wt.useReducer=function(x,K,et){return N.H.useReducer(x,K,et)},wt.useRef=function(x){return N.H.useRef(x)},wt.useState=function(x){return N.H.useState(x)},wt.useSyncExternalStore=function(x,K,et){return N.H.useSyncExternalStore(x,K,et)},wt.useTransition=function(){return N.H.useTransition()},wt.version="19.2.4",wt}var Q_;function xm(){return Q_||(Q_=1,zd.exports=Xb()),zd.exports}var Et=xm();const Y_=Kb(Et);var jd={exports:{}},Hl={},Bd={exports:{}},qd={};var X_;function $b(){return X_||(X_=1,(function(r){function t(F,nt){var ct=F.length;F.push(nt);t:for(;0<ct;){var Ot=ct-1>>>1,Tt=F[Ot];if(0<l(Tt,nt))F[Ot]=nt,F[ct]=Tt,ct=Ot;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var nt=F[0],ct=F.pop();if(ct!==nt){F[0]=ct;t:for(var Ot=0,Tt=F.length,x=Tt>>>1;Ot<x;){var K=2*(Ot+1)-1,et=F[K],st=K+1,gt=F[st];if(0>l(et,ct))st<Tt&&0>l(gt,et)?(F[Ot]=gt,F[st]=ct,Ot=st):(F[Ot]=et,F[K]=ct,Ot=K);else if(st<Tt&&0>l(gt,ct))F[Ot]=gt,F[st]=ct,Ot=st;else break t}}return nt}function l(F,nt){var ct=F.sortIndex-nt.sortIndex;return ct!==0?ct:F.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,w=null,V=3,Y=!1,W=!1,it=!1,rt=!1,mt=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;function qt(F){for(var nt=i(y);nt!==null;){if(nt.callback===null)s(y);else if(nt.startTime<=F)s(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function ae(F){if(it=!1,qt(F),!W)if(i(_)!==null)W=!0,Dt||(Dt=!0,U());else{var nt=i(y);nt!==null&&ue(ae,nt.startTime-F)}}var Dt=!1,N=-1,S=5,R=-1;function M(){return rt?!0:!(r.unstable_now()-R<S)}function D(){if(rt=!1,Dt){var F=r.unstable_now();R=F;var nt=!0;try{t:{W=!1,it&&(it=!1,St(N),N=-1),Y=!0;var ct=V;try{e:{for(qt(F),w=i(_);w!==null&&!(w.expirationTime>F&&M());){var Ot=w.callback;if(typeof Ot=="function"){w.callback=null,V=w.priorityLevel;var Tt=Ot(w.expirationTime<=F);if(F=r.unstable_now(),typeof Tt=="function"){w.callback=Tt,qt(F),nt=!0;break e}w===i(_)&&s(_),qt(F)}else s(_);w=i(_)}if(w!==null)nt=!0;else{var x=i(y);x!==null&&ue(ae,x.startTime-F),nt=!1}}break t}finally{w=null,V=ct,Y=!1}nt=void 0}}finally{nt?U():Dt=!1}}}var U;if(typeof vt=="function")U=function(){vt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ie=I.port2;I.port1.onmessage=D,U=function(){ie.postMessage(null)}}else U=function(){mt(D,0)};function ue(F,nt){N=mt(function(){F(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(F){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var ct=V;V=nt;try{return F()}finally{V=ct}},r.unstable_requestPaint=function(){rt=!0},r.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=V;V=F;try{return nt()}finally{V=ct}},r.unstable_scheduleCallback=function(F,nt,ct){var Ot=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ot+ct:Ot):ct=Ot,F){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=ct+Tt,F={id:b++,callback:nt,priorityLevel:F,startTime:ct,expirationTime:Tt,sortIndex:-1},ct>Ot?(F.sortIndex=ct,t(y,F),i(_)===null&&F===i(y)&&(it?(St(N),N=-1):it=!0,ue(ae,ct-Ot))):(F.sortIndex=Tt,t(_,F),W||Y||(W=!0,Dt||(Dt=!0,U()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var nt=V;return function(){var ct=V;V=nt;try{return F.apply(this,arguments)}finally{V=ct}}}})(qd)),qd}var $_;function Jb(){return $_||($_=1,Bd.exports=$b()),Bd.exports}var Hd={exports:{}},sn={};var J_;function Zb(){if(J_)return sn;J_=1;var r=xm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,b)},sn.flushSync=function(_){var y=d.T,b=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=b,s.d.f()}},sn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},sn.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},sn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:V,fetchPriority:Y}):b==="script"&&s.d.X(_,{crossOrigin:w,integrity:V,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},sn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin);s.d.L(_,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},sn.requestFormReset=function(_){s.d.r(_)},sn.unstable_batchedUpdates=function(_,y){return _(y)},sn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var Z_;function Wb(){if(Z_)return Hd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=Zb(),Hd.exports}var W_;function tA(){if(W_)return Hl;W_=1;var r=Jb(),t=xm(),i=Wb();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),St=Symbol.for("react.consumer"),vt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case mt:return"Profiler";case rt:return"StrictMode";case ae:return"Suspense";case Dt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case vt:return e.displayName||"Context";case St:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var ue=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Ot=[],Tt=-1;function x(e){return{current:e}}function K(e){0>Tt||(e.current=Ot[Tt],Ot[Tt]=null,Tt--)}function et(e,n){Tt++,Ot[Tt]=e.current,e.current=n}var st=x(null),gt=x(null),bt=x(null),xt=x(null);function Se(e,n){switch(et(bt,n),et(gt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?d_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=d_(n),e=m_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),et(st,e)}function Xt(){K(st),K(gt),K(bt)}function Bn(e){e.memoizedState!==null&&et(xt,e);var n=st.current,a=m_(n,e.type);n!==a&&(et(gt,e),et(st,a))}function Ki(e){gt.current===e&&(K(st),K(gt)),xt.current===e&&(K(xt),Pl._currentValue=ct)}var Ti,Qi;function fn(e){if(Ti===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ti=n&&n[1]||"",Qi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ti+e+Qi}var Dr=!1;function ri(e,n){if(!e||Dr)return"";Dr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Dr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?fn(a):""}function Yi(e,n){switch(e.tag){case 26:case 27:case 5:return fn(e.type);case 16:return fn("Lazy");case 13:return e.child!==n&&n!==null?fn("Suspense Fallback"):fn("Suspense");case 19:return fn("SuspenseList");case 0:case 15:return ri(e.type,!1);case 11:return ri(e.type.render,!1);case 1:return ri(e.type,!0);case 31:return fn("Activity");default:return""}}function Or(e){try{var n="",a=null;do n+=Yi(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ce=Object.prototype.hasOwnProperty,_e=r.unstable_scheduleCallback,qn=r.unstable_cancelCallback,Ta=r.unstable_shouldYield,Vs=r.unstable_requestPaint,Fe=r.unstable_now,bi=r.unstable_getCurrentPriorityLevel,Ai=r.unstable_ImmediatePriority,Xi=r.unstable_UserBlockingPriority,si=r.unstable_NormalPriority,ba=r.unstable_LowPriority,$i=r.unstable_IdlePriority,Sn=r.log,Mr=r.unstable_setDisableYieldValue,wn=null,je=null;function dn(e){if(typeof Sn=="function"&&Mr(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(wn,e)}catch{}}var ge=Math.clz32?Math.clz32:Sa,Aa=Math.log,ai=Math.LN2;function Sa(e){return e>>>=0,e===0?32:31-(Aa(e)/ai|0)|0}var Hn=256,Ji=262144,ve=4194304;function Rn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fn(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Rn(o):(g&=E,g!==0?h=Rn(g):a||(a=E&~e,a!==0&&(h=Rn(a))))):(E=o&~f,E!==0?h=Rn(E):g!==0?h=Rn(g):a||(a=o&~e,a!==0&&(h=Rn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function rn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function wa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zi(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function Gn(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Wi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fo(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var G=31-ge(a),X=1<<G;E[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&tr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function tr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function er(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ge(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function ks(e,n){var a=n&-n;return a=(a&42)!==0?1:nr(a),(a&(e.suspendedLanes|n))!==0?0:a}function nr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ra(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:L_(e.type))}function In(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Cn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Cn,Ne="__reactProps$"+Cn,j="__reactContainer$"+Cn,Z="__reactEvents$"+Cn,ht="__reactListeners$"+Cn,oe="__reactHandles$"+Cn,kt="__reactResources$"+Cn,Te="__reactMarker$"+Cn;function Nn(e){delete e[Ee],delete e[Ne],delete e[Z],delete e[ht],delete e[oe]}function Ge(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[j]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=T_(e);e!==null;){if(a=e[Ee])return a;e=T_(e)}return n}e=a,a=e.parentNode}return null}function mn(e){if(e=e[Ee]||e[j]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Si(e){var n=e[kt];return n||(n=e[kt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(e){e[Te]=!0}var Go=new Set,Ko={};function wi(e,n){Ri(e,n),Ri(e+"Capture",n)}function Ri(e,n){for(Ko[e]=n,e=0;e<n.length;e++)Go.add(n[e])}var Qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Xo={};function bu(e){return ce.call(Xo,e)?!0:ce.call(Yo,e)?!1:Qo.test(e)?Xo[e]=!0:(Yo[e]=!0,!1)}function Ia(e,n,a){if(bu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Dn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function De(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $o(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=Vr(e)?"checked":"value";e._valueTracker=$o(e,n,""+e[n])}}function Us(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Vr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ls=/[\n"\\]/g;function pn(e){return e.replace(Ls,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ca(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ke(n)):e.value!==""+Ke(n)&&(e.value=""+Ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Jo(e,g,Ke(n)):a!=null?Jo(e,g,Ke(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ke(E):e.removeAttribute("name")}function Au(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),$t(e)}function Jo(e,n,a){n==="number"&&Ii(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function kr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Su(e,n,a){if(n!=null&&(n=""+Ke(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ke(a):""}function Ur(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ue(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ke(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),$t(e)}function gn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||wu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Wo(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Zo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Zo(e,f,n[f])}function Na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(e){return Lr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function li(){}var tl=null;function Kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pr=null,Ci=null;function Ps(e){var n=mn(e);if(n&&(e=n.stateNode)){var a=e[Ne]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ca(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ne]||null;if(!h)throw Error(s(90));Ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Us(o)}break t;case"textarea":Su(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&kr(e,!!a.multiple,n,!1)}}}var Da=!1;function zr(e,n,a){if(Da)return e(n,a);Da=!0;try{var o=e(n);return o}finally{if(Da=!1,(Pr!==null||Ci!==null)&&(vc(),Pr&&(n=Pr,e=Ci,Ci=Pr=null,Ps(n),e)))for(n=0;n<e.length;n++)Ps(e[n])}}function ui(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ne]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(Qn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{zs=!1}var Ni=null,el=null,js=null;function nl(){if(js)return js;var e,n=el,a=n.length,o,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return js=h.slice(e,1<o?1-o:void 0)}function Bs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ir(){return!0}function ci(){return!1}function Xe(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ir:ci,this.isPropagationStopped=ci,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),n}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Xe(rr),jr=w({},rr,{view:0,detail:0}),il=Xe(jr),Br,Oa,Di,Ma=w({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(Br=e.screenX-Di.screenX,Oa=e.screenY-Di.screenY):Oa=Br=0,Di=e),Br)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),rl=Xe(Ma),qs=w({},Ma,{dataTransfer:0}),Iu=Xe(qs),Cu=w({},jr,{relatedTarget:0}),Hs=Xe(Cu),sl=w({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Xe(sl),Va=w({},rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xu=Xe(Va),Du=w({},rr,{data:0}),Oi=Xe(Du),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Vu[e])?!!n[e]:!1}function qr(){return ku}var cn=w({},jr,{key:function(e){if(e.key){var n=Ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uu=Xe(cn),Lu=w({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sr=Xe(Lu),u=w({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),m=Xe(u),v=w({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xe(v),L=w({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Xe(L),tt=w({},rr,{newState:0,oldState:0}),It=Xe(tt),we=[9,13,27,32],Kt=Qn&&"CompositionEvent"in window,me=null;Qn&&"documentMode"in document&&(me=document.documentMode);var Yn=Qn&&"TextEvent"in window&&!me,Mi=Qn&&(!Kt||me&&8<me&&11>=me),hi=" ",fi=!1;function Fs(e,n){switch(e){case"keyup":return we.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ua=!1;function g1(e,n){switch(e){case"compositionend":return ka(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return e=n.data,e===hi&&fi?null:e;default:return null}}function y1(e,n){if(Ua)return e==="compositionend"||!Kt&&Fs(e,n)?(e=nl(),js=el=Ni=null,Ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var _1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!_1[e.type]:n==="textarea"}function wp(e,n,a,o){Pr?Ci?Ci.push(o):Ci=[o]:Pr=o,n=Rc(n,"onChange"),0<n.length&&(a=new xi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var al=null,ol=null;function v1(e){o_(e,0)}function Pu(e){var n=xn(e);if(Us(n))return e}function Rp(e,n){if(e==="change")return n}var Ip=!1;if(Qn){var Fh;if(Qn){var Gh="oninput"in document;if(!Gh){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),Gh=typeof Cp.oninput=="function"}Fh=Gh}else Fh=!1;Ip=Fh&&(!document.documentMode||9<document.documentMode)}function Np(){al&&(al.detachEvent("onpropertychange",xp),ol=al=null)}function xp(e){if(e.propertyName==="value"&&Pu(ol)){var n=[];wp(n,ol,e,Kn(e)),zr(v1,n)}}function E1(e,n,a){e==="focusin"?(Np(),al=n,ol=a,al.attachEvent("onpropertychange",xp)):e==="focusout"&&Np()}function T1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pu(ol)}function b1(e,n){if(e==="click")return Pu(n)}function A1(e,n){if(e==="input"||e==="change")return Pu(n)}function S1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var On=typeof Object.is=="function"?Object.is:S1;function ll(e,n){if(On(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ce.call(n,h)||!On(e[h],n[h]))return!1}return!0}function Dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Op(e,n){var a=Dp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Dp(a)}}function Mp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ii(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ii(e.document)}return n}function Kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var w1=Qn&&"documentMode"in document&&11>=document.documentMode,La=null,Qh=null,ul=null,Yh=!1;function kp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||La==null||La!==Ii(o)||(o=La,"selectionStart"in o&&Kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ul&&ll(ul,o)||(ul=o,o=Rc(Qh,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=La)))}function Gs(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Pa={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},Xh={},Up={};Qn&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Ks(e){if(Xh[e])return Xh[e];if(!Pa[e])return e;var n=Pa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Up)return Xh[e]=n[a];return e}var Lp=Ks("animationend"),Pp=Ks("animationiteration"),zp=Ks("animationstart"),R1=Ks("transitionrun"),I1=Ks("transitionstart"),C1=Ks("transitioncancel"),jp=Ks("transitionend"),Bp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function di(e,n){Bp.set(e,n),wi(n,[e])}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xn=[],za=0,Jh=0;function ju(){for(var e=za,n=Jh=za=0;n<e;){var a=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&qp(a,h,f)}}function Bu(e,n,a,o){Xn[za++]=e,Xn[za++]=n,Xn[za++]=a,Xn[za++]=o,Jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Zh(e,n,a,o){return Bu(e,n,a,o),qu(e)}function Qs(e,n){return Bu(e,null,null,n),qu(e)}function qp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ge(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function qu(e){if(50<Dl)throw Dl=0,ld=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ja={};function N1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,n,a,o){return new N1(e,n,a,o)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ar(e,n){var a=e.alternate;return a===null?(a=Mn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Hp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Hu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Wh(e)&&(g=1);else if(typeof e=="string")g=Vb(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Mn(31,a,n,h),e.elementType=R,e.lanes=f,e;case it:return Ys(a.children,h,f,n);case rt:g=8,h|=24;break;case mt:return e=Mn(12,a,n,h|2),e.elementType=mt,e.lanes=f,e;case ae:return e=Mn(13,a,n,h),e.elementType=ae,e.lanes=f,e;case Dt:return e=Mn(19,a,n,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vt:g=10;break t;case St:g=9;break t;case qt:g=11;break t;case N:g=14;break t;case S:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Mn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ys(e,n,a,o){return e=Mn(7,e,o,n),e.lanes=a,e}function tf(e,n,a){return e=Mn(6,e,null,n),e.lanes=a,e}function Fp(e){var n=Mn(18,null,null,0);return n.stateNode=e,n}function ef(e,n,a){return n=Mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Gp=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var a=Gp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Or(n)},Gp.set(e,n),n)}return{value:e,source:n,stack:Or(n)}}var Ba=[],qa=0,Fu=null,cl=0,Jn=[],Zn=0,Hr=null,Vi=1,ki="";function or(e,n){Ba[qa++]=cl,Ba[qa++]=Fu,Fu=e,cl=n}function Kp(e,n,a){Jn[Zn++]=Vi,Jn[Zn++]=ki,Jn[Zn++]=Hr,Hr=e;var o=Vi;e=ki;var h=32-ge(o)-1;o&=~(1<<h),a+=1;var f=32-ge(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Vi=1<<32-ge(n)+h|a<<h|o,ki=f+e}else Vi=1<<f|a<<h|o,ki=e}function nf(e){e.return!==null&&(or(e,1),Kp(e,1,0))}function rf(e){for(;e===Fu;)Fu=Ba[--qa],Ba[qa]=null,cl=Ba[--qa],Ba[qa]=null;for(;e===Hr;)Hr=Jn[--Zn],Jn[Zn]=null,ki=Jn[--Zn],Jn[Zn]=null,Vi=Jn[--Zn],Jn[Zn]=null}function Qp(e,n){Jn[Zn++]=Vi,Jn[Zn++]=ki,Jn[Zn++]=Hr,Vi=n.id,ki=n.overflow,Hr=e}var $e=null,he=null,Bt=!1,Fr=null,Wn=!1,sf=Error(s(519));function Gr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl($n(n,e)),sf}function Yp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ne]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Vt(Ml[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ur(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||h_(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||Gr(e,!0)}function Xp(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:$e=$e.return}}function Ha(e){if(e!==$e)return!1;if(!Bt)return Xp(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ad(e.type,e.memoizedProps)),a=!a),a&&he&&Gr(e),Xp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));he=E_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));he=E_(e)}else n===27?(n=he,ss(e.type)?(e=Cd,Cd=null,he=e):he=n):he=$e?ei(e.stateNode.nextSibling):null;return!0}function Xs(){he=$e=null,Bt=!1}function af(){var e=Fr;return e!==null&&(En===null?En=e:En.push.apply(En,e),Fr=null),e}function hl(e){Fr===null?Fr=[e]:Fr.push(e)}var of=x(null),$s=null,lr=null;function Kr(e,n,a){et(of,n._currentValue),n._currentValue=a}function ur(e){e._currentValue=of.current,K(of)}function lf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function uf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),lf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Fa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;On(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Pl):e=[Pl])}h=h.return}e!==null&&uf(n,e,a,o),n.flags|=262144}function Gu(e){for(e=e.firstContext;e!==null;){if(!On(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Js(e){$s=e,lr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return $p($s,e)}function Ku(e,n){return $s===null&&Js(e),$p(e,n)}function $p(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},lr===null){if(e===null)throw Error(s(308));lr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else lr=lr.next=n;return a}var x1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},D1=r.unstable_scheduleCallback,O1=r.unstable_NormalPriority,Oe={$$typeof:vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new x1,data:new Map,refCount:0}}function fl(e){e.refCount--,e.refCount===0&&D1(O1,function(){e.controller.abort()})}var dl=null,hf=0,Ga=0,Ka=null;function M1(e,n){if(dl===null){var a=dl=[];hf=0,Ga=md(),Ka={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,n.then(Jp,Jp),n}function Jp(){if(--hf===0&&dl!==null){Ka!==null&&(Ka.status="fulfilled");var e=dl;dl=null,Ga=0,Ka=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function V1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Zp=F.S;F.S=function(e,n){ky=Fe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&M1(e,n),Zp!==null&&Zp(e,n)};var Zs=x(null);function ff(){var e=Zs.current;return e!==null?e:re.pooledCache}function Qu(e,n){n===null?et(Zs,Zs.current):et(Zs,n.pool)}function Wp(){var e=ff();return e===null?null:{parent:Oe._currentValue,pool:e}}var Qa=Error(s(460)),df=Error(s(474)),Yu=Error(s(542)),Xu={then:function(){}};function tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(li,li),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ig(e),e;default:if(typeof n.status=="string")n.then(li,li);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ig(e),e}throw ta=n,Qa}}function Ws(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Qa):a}}var ta=null;function ng(){if(ta===null)throw Error(s(459));var e=ta;return ta=null,e}function ig(e){if(e===Qa||e===Yu)throw Error(s(483))}var Ya=null,ml=0;function $u(e){var n=ml;return ml+=1,Ya===null&&(Ya=[]),eg(Ya,e,n)}function pl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ju(e,n){throw n.$$typeof===V?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rg(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ar(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,Q){return O===null||O.tag!==6?(O=tf(P,k.mode,Q),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,Q){var ft=P.type;return ft===it?G(k,O,P.props.children,Q,P.key):O!==null&&(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Ws(ft)===O.type)?(O=h(O,P.props),pl(O,P),O.return=k,O):(O=Hu(P.type,P.key,P.props,null,k.mode,Q),pl(O,P),O.return=k,O)}function z(k,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=ef(P,k.mode,Q),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function G(k,O,P,Q,ft){return O===null||O.tag!==7?(O=Ys(P,k.mode,Q,ft),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=tf(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Y:return P=Hu(O.type,O.key,O.props,null,k.mode,P),pl(P,O),P.return=k,P;case W:return O=ef(O,k.mode,P),O.return=k,O;case S:return O=Ws(O),X(k,O,P)}if(ue(O)||U(O))return O=Ys(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,$u(O),P);if(O.$$typeof===vt)return X(k,Ku(k,O),P);Ju(k,O)}return null}function B(k,O,P,Q){var ft=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:return P.key===ft?C(k,O,P,Q):null;case W:return P.key===ft?z(k,O,P,Q):null;case S:return P=Ws(P),B(k,O,P,Q)}if(ue(P)||U(P))return ft!==null?null:G(k,O,P,Q,null);if(typeof P.then=="function")return B(k,O,$u(P),Q);if(P.$$typeof===vt)return B(k,O,Ku(k,P),Q);Ju(k,P)}return null}function H(k,O,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(O,k,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return k=k.get(Q.key===null?P:Q.key)||null,C(O,k,Q,ft);case W:return k=k.get(Q.key===null?P:Q.key)||null,z(O,k,Q,ft);case S:return Q=Ws(Q),H(k,O,P,Q,ft)}if(ue(Q)||U(Q))return k=k.get(P)||null,G(O,k,Q,ft,null);if(typeof Q.then=="function")return H(k,O,P,$u(Q),ft);if(Q.$$typeof===vt)return H(k,O,P,Ku(O,Q),ft);Ju(O,Q)}return null}function lt(k,O,P,Q){for(var ft=null,Ft=null,ut=O,Nt=O=0,Lt=null;ut!==null&&Nt<P.length;Nt++){ut.index>Nt?(Lt=ut,ut=null):Lt=ut.sibling;var Gt=B(k,ut,P[Nt],Q);if(Gt===null){ut===null&&(ut=Lt);break}e&&ut&&Gt.alternate===null&&n(k,ut),O=f(Gt,O,Nt),Ft===null?ft=Gt:Ft.sibling=Gt,Ft=Gt,ut=Lt}if(Nt===P.length)return a(k,ut),Bt&&or(k,Nt),ft;if(ut===null){for(;Nt<P.length;Nt++)ut=X(k,P[Nt],Q),ut!==null&&(O=f(ut,O,Nt),Ft===null?ft=ut:Ft.sibling=ut,Ft=ut);return Bt&&or(k,Nt),ft}for(ut=o(ut);Nt<P.length;Nt++)Lt=H(ut,k,Nt,P[Nt],Q),Lt!==null&&(e&&Lt.alternate!==null&&ut.delete(Lt.key===null?Nt:Lt.key),O=f(Lt,O,Nt),Ft===null?ft=Lt:Ft.sibling=Lt,Ft=Lt);return e&&ut.forEach(function(cs){return n(k,cs)}),Bt&&or(k,Nt),ft}function pt(k,O,P,Q){if(P==null)throw Error(s(151));for(var ft=null,Ft=null,ut=O,Nt=O=0,Lt=null,Gt=P.next();ut!==null&&!Gt.done;Nt++,Gt=P.next()){ut.index>Nt?(Lt=ut,ut=null):Lt=ut.sibling;var cs=B(k,ut,Gt.value,Q);if(cs===null){ut===null&&(ut=Lt);break}e&&ut&&cs.alternate===null&&n(k,ut),O=f(cs,O,Nt),Ft===null?ft=cs:Ft.sibling=cs,Ft=cs,ut=Lt}if(Gt.done)return a(k,ut),Bt&&or(k,Nt),ft;if(ut===null){for(;!Gt.done;Nt++,Gt=P.next())Gt=X(k,Gt.value,Q),Gt!==null&&(O=f(Gt,O,Nt),Ft===null?ft=Gt:Ft.sibling=Gt,Ft=Gt);return Bt&&or(k,Nt),ft}for(ut=o(ut);!Gt.done;Nt++,Gt=P.next())Gt=H(ut,k,Nt,Gt.value,Q),Gt!==null&&(e&&Gt.alternate!==null&&ut.delete(Gt.key===null?Nt:Gt.key),O=f(Gt,O,Nt),Ft===null?ft=Gt:Ft.sibling=Gt,Ft=Gt);return e&&ut.forEach(function(Gb){return n(k,Gb)}),Bt&&or(k,Nt),ft}function ne(k,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:t:{for(var ft=P.key;O!==null;){if(O.key===ft){if(ft=P.type,ft===it){if(O.tag===7){a(k,O.sibling),Q=h(O,P.props.children),Q.return=k,k=Q;break t}}else if(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Ws(ft)===O.type){a(k,O.sibling),Q=h(O,P.props),pl(Q,P),Q.return=k,k=Q;break t}a(k,O);break}else n(k,O);O=O.sibling}P.type===it?(Q=Ys(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Hu(P.type,P.key,P.props,null,k.mode,Q),pl(Q,P),Q.return=k,k=Q)}return g(k);case W:t:{for(ft=P.key;O!==null;){if(O.key===ft)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),Q=h(O,P.children||[]),Q.return=k,k=Q;break t}else{a(k,O);break}else n(k,O);O=O.sibling}Q=ef(P,k.mode,Q),Q.return=k,k=Q}return g(k);case S:return P=Ws(P),ne(k,O,P,Q)}if(ue(P))return lt(k,O,P,Q);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(s(150));return P=ft.call(P),pt(k,O,P,Q)}if(typeof P.then=="function")return ne(k,O,$u(P),Q);if(P.$$typeof===vt)return ne(k,O,Ku(k,P),Q);Ju(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),Q=h(O,P),Q.return=k,k=Q):(a(k,O),Q=tf(P,k.mode,Q),Q.return=k,k=Q),g(k)):a(k,O)}return function(k,O,P,Q){try{ml=0;var ft=ne(k,O,P,Q);return Ya=null,ft}catch(ut){if(ut===Qa||ut===Yu)throw ut;var Ft=Mn(29,ut,null,k.mode);return Ft.lanes=Q,Ft.return=k,Ft}}}var ea=rg(!0),sg=rg(!1),Qr=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=qu(e),qp(e,null,a),n}return Bu(e,o,n,a),qu(e)}function gl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,er(e,a)}}function gf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var yf=!1;function yl(){if(yf){var e=Ka;if(e!==null)throw e}}function _l(e,n,a,o){yf=!1;var h=e.updateQueue;Qr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,G=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ut&B)===B:(o&B)===B){B!==0&&B===Ga&&(yf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;B=n;var ne=a;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){X=lt.call(ne,X,B);break t}X=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,B=typeof lt=="function"?lt.call(ne,X,B):lt,B==null)break t;X=w({},X,B);break t;case 2:Qr=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,C=X):G=G.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ts|=g,e.lanes=g,e.memoizedState=X}}function ag(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function og(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ag(a[e],n)}var Xa=x(null),Zu=x(0);function lg(e,n){e=_r,et(Zu,e),et(Xa,n),_r=e|n.baseLanes}function _f(){et(Zu,_r),et(Xa,Xa.current)}function vf(){_r=Zu.current,K(Xa),K(Zu)}var Vn=x(null),ti=null;function $r(e){var n=e.alternate;et(Re,Re.current&1),et(Vn,e),ti===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(ti=e)}function Ef(e){et(Re,Re.current),et(Vn,e),ti===null&&(ti=e)}function ug(e){e.tag===22?(et(Re,Re.current),et(Vn,e),ti===null&&(ti=e)):Jr()}function Jr(){et(Re,Re.current),et(Vn,Vn.current)}function kn(e){K(Vn),ti===e&&(ti=null),K(Re)}var Re=x(0);function Wu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Id(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cr=0,Ct=null,te=null,Me=null,tc=!1,$a=!1,na=!1,ec=0,vl=0,Ja=null,k1=0;function be(){throw Error(s(321))}function Tf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!On(e[a],n[a]))return!1;return!0}function bf(e,n,a,o,h,f){return cr=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Kg:Lf,na=!1,f=a(o,h),na=!1,$a&&(f=hg(n,a,o,h)),cg(e),f}function cg(e){F.H=bl;var n=te!==null&&te.next!==null;if(cr=0,Me=te=Ct=null,tc=!1,vl=0,Ja=null,n)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&Gu(e)&&(Ve=!0))}function hg(e,n,a,o){Ct=e;var h=0;do{if($a&&(Ja=null),vl=0,$a=!1,25<=h)throw Error(s(301));if(h+=1,Me=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Qg,f=n(a,o)}while($a);return f}function U1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?El(n):n,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Ct.flags|=1024),n}function Af(){var e=ec!==0;return ec=0,e}function Sf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function wf(e){if(tc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}tc=!1}cr=0,Me=te=Ct=null,$a=!1,vl=ec=0,Ja=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ct.memoizedState=Me=e:Me=Me.next=e,Me}function Ie(){if(te===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var n=Me===null?Ct.memoizedState:Me.next;if(n!==null)Me=n,te=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Me===null?Ct.memoizedState=Me=e:Me=Me.next=e}return Me}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(e){var n=vl;return vl+=1,Ja===null&&(Ja=[]),e=eg(Ja,e,n),n=Ct,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Kg:Lf),e}function ic(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return El(e);if(e.$$typeof===vt)return Je(e)}throw Error(s(438,String(e)))}function Rf(e){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=nc(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function hr(e,n){return typeof n=="function"?n(e):n}function rc(e){var n=Ie();return If(n,te,e)}function If(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ut&X)===X:(cr&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ga&&(G=!0);else if((cr&B)===B){z=z.next,B===Ga&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=X,g=f):C=C.next=X,Ct.lanes|=B,ts|=B;X=z.action,na&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,Ct.lanes|=X,ts|=X;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!On(f,e.memoizedState)&&(Ve=!0,G&&(a=Ka,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Cf(e){var n=Ie(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);On(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function fg(e,n,a){var o=Ct,h=Ie(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!On((te||h).memoizedState,a);if(g&&(h.memoizedState=a,Ve=!0),h=h.queue,Df(pg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Me!==null&&Me.memoizedState.tag&1){if(o.flags|=2048,Za(9,{destroy:void 0},mg.bind(null,o,h,a,n),null),re===null)throw Error(s(349));f||(cr&127)!==0||dg(o,n,a)}return a}function dg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=nc(),Ct.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function mg(e,n,a,o){n.value=a,n.getSnapshot=o,gg(n)&&yg(e)}function pg(e,n,a){return a(function(){gg(n)&&yg(e)})}function gg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!On(e,a)}catch{return!0}}function yg(e){var n=Qs(e,2);n!==null&&Tn(n,e,2)}function Nf(e){var n=hn();if(typeof e=="function"){var a=e;if(e=a(),na){dn(!0);try{a()}finally{dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:e},n}function _g(e,n,a,o){return e.baseState=a,If(e,te,typeof o=="function"?o:hr)}function L1(e,n,a,o,h){if(oc(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,vg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function vg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=a(h,o),C=F.S;C!==null&&C(g,E),Eg(e,n,E)}catch(z){xf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,o),Eg(e,n,f)}catch(z){xf(e,n,z)}}function Eg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Tg(e,n,o)},function(o){return xf(e,n,o)}):Tg(e,n,a)}function Tg(e,n,a){n.status="fulfilled",n.value=a,bg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,vg(e,a)))}function xf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,bg(n),n=n.next;while(n!==o)}e.action=null}function bg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ag(e,n){return n}function Sg(e,n){if(Bt){var a=re.formState;if(a!==null){t:{var o=Ct;if(Bt){if(he){e:{for(var h=he,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=ei(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=ei(h.nextSibling),o=h.data==="F!";break t}}Gr(o)}o=!1}o&&(n=a[0])}}return a=hn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:n},a.queue=o,a=Hg.bind(null,Ct,o),o.dispatch=a,o=Nf(!1),f=Uf.bind(null,Ct,!1,o.queue),o=hn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=L1.bind(null,Ct,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function wg(e){var n=Ie();return Rg(n,te,e)}function Rg(e,n,a){if(n=If(e,n,Ag)[0],e=rc(hr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=El(n)}catch(g){throw g===Qa?Yu:g}else o=n;n=Ie();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,Za(9,{destroy:void 0},P1.bind(null,h,a),null)),[o,f,e]}function P1(e,n){e.action=n}function Ig(e){var n=Ie(),a=te;if(a!==null)return Rg(n,a,e);Ie(),n=n.memoizedState,a=Ie();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Za(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=nc(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Cg(){return Ie().memoizedState}function sc(e,n,a,o){var h=hn();Ct.flags|=e,h.memoizedState=Za(1|n,{destroy:void 0},a,o===void 0?null:o)}function ac(e,n,a,o){var h=Ie();o=o===void 0?null:o;var f=h.memoizedState.inst;te!==null&&o!==null&&Tf(o,te.memoizedState.deps)?h.memoizedState=Za(n,f,a,o):(Ct.flags|=e,h.memoizedState=Za(1|n,f,a,o))}function Ng(e,n){sc(8390656,8,e,n)}function Df(e,n){ac(2048,8,e,n)}function z1(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=nc(),Ct.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function xg(e){var n=Ie().memoizedState;return z1({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Dg(e,n){return ac(4,2,e,n)}function Og(e,n){return ac(4,4,e,n)}function Mg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Vg(e,n,a){a=a!=null?a.concat([e]):null,ac(4,4,Mg.bind(null,n,e),a)}function Of(){}function kg(e,n){var a=Ie();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Ug(e,n){var a=Ie();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=e(),na){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[o,n],o}function Mf(e,n,a){return a===void 0||(cr&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ly(),Ct.lanes|=e,ts|=e,a)}function Lg(e,n,a,o){return On(a,n)?a:Xa.current!==null?(e=Mf(e,a,o),On(e,n)||(Ve=!0),e):(cr&42)===0||(cr&1073741824)!==0&&(Ut&261930)===0?(Ve=!0,e.memoizedState=a):(e=Ly(),Ct.lanes|=e,ts|=e,n)}function Pg(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Uf(e,!1,n,a);try{var C=h(),z=F.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=V1(C,o);Tl(e,n,G,Pn(e))}else Tl(e,n,o,Pn(e))}catch(X){Tl(e,n,{then:function(){},status:"rejected",reason:X},Pn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function j1(){}function Vf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=zg(e).queue;Pg(e,h,n,ct,a===null?j1:function(){return jg(e),a(o)})}function zg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function jg(e){var n=zg(e);n.next===null&&(n=e.alternate.memoizedState),Tl(e,n.next.queue,{},Pn())}function kf(){return Je(Pl)}function Bg(){return Ie().memoizedState}function qg(){return Ie().memoizedState}function B1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Pn();e=Yr(a);var o=Xr(n,e,a);o!==null&&(Tn(o,n,a),gl(o,n,a)),n={cache:cf()},e.payload=n;return}n=n.return}}function q1(e,n,a){var o=Pn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(e)?Fg(n,a):(a=Zh(e,n,a,o),a!==null&&(Tn(a,e,o),Gg(a,n,o)))}function Hg(e,n,a){var o=Pn();Tl(e,n,a,o)}function Tl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(e))Fg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,On(E,g))return Bu(e,n,h,0),re===null&&ju(),!1}catch{}if(a=Zh(e,n,h,o),a!==null)return Tn(a,e,o),Gg(a,n,o),!0}return!1}function Uf(e,n,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(n)throw Error(s(479))}else n=Zh(e,a,o,2),n!==null&&Tn(n,e,2)}function oc(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Fg(e,n){$a=tc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Gg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,er(e,a)}}var bl={readContext:Je,use:ic,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};bl.useEffectEvent=be;var Kg={readContext:Je,use:ic,useCallback:function(e,n){return hn().memoizedState=[e,n===void 0?null:n],e},useContext:Je,useEffect:Ng,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,sc(4194308,4,Mg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return sc(4194308,4,e,n)},useInsertionEffect:function(e,n){sc(4,2,e,n)},useMemo:function(e,n){var a=hn();n=n===void 0?null:n;var o=e();if(na){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=hn();if(a!==void 0){var h=a(n);if(na){dn(!0);try{a(n)}finally{dn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=q1.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=hn();return e={current:e},n.memoizedState=e},useState:function(e){e=Nf(e);var n=e.queue,a=Hg.bind(null,Ct,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(e,n){var a=hn();return Mf(a,e,n)},useTransition:function(){var e=Nf(!1);return e=Pg.bind(null,Ct,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Ct,h=hn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),re===null)throw Error(s(349));(Ut&127)!==0||dg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ng(pg.bind(null,o,f,e),[e]),o.flags|=2048,Za(9,{destroy:void 0},mg.bind(null,o,f,a,n),null),a},useId:function(){var e=hn(),n=re.identifierPrefix;if(Bt){var a=ki,o=Vi;a=(o&~(1<<32-ge(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ec++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=k1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:kf,useFormState:Sg,useActionState:Sg,useOptimistic:function(e){var n=hn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Uf.bind(null,Ct,!0,a),a.dispatch=n,[e,n]},useMemoCache:Rf,useCacheRefresh:function(){return hn().memoizedState=B1.bind(null,Ct)},useEffectEvent:function(e){var n=hn(),a={impl:e};return n.memoizedState=a,function(){if((Qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:Je,use:ic,useCallback:kg,useContext:Je,useEffect:Df,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:Ug,useReducer:rc,useRef:Cg,useState:function(){return rc(hr)},useDebugValue:Of,useDeferredValue:function(e,n){var a=Ie();return Lg(a,te.memoizedState,e,n)},useTransition:function(){var e=rc(hr)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:El(e),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:kf,useFormState:wg,useActionState:wg,useOptimistic:function(e,n){var a=Ie();return _g(a,te,e,n)},useMemoCache:Rf,useCacheRefresh:qg};Lf.useEffectEvent=xg;var Qg={readContext:Je,use:ic,useCallback:kg,useContext:Je,useEffect:Df,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:Ug,useReducer:Cf,useRef:Cg,useState:function(){return Cf(hr)},useDebugValue:Of,useDeferredValue:function(e,n){var a=Ie();return te===null?Mf(a,e,n):Lg(a,te.memoizedState,e,n)},useTransition:function(){var e=Cf(hr)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:El(e),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:kf,useFormState:Ig,useActionState:Ig,useOptimistic:function(e,n){var a=Ie();return te!==null?_g(a,te,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:qg};Qg.useEffectEvent=xg;function Pf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Pn(),h=Yr(o);h.payload=n,a!=null&&(h.callback=a),n=Xr(e,h,o),n!==null&&(Tn(n,e,o),gl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Pn(),h=Yr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Xr(e,h,o),n!==null&&(Tn(n,e,o),gl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Pn(),o=Yr(a);o.tag=2,n!=null&&(o.callback=n),n=Xr(e,o,a),n!==null&&(Tn(n,e,a),gl(n,e,a))}};function Yg(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ll(a,o)||!ll(h,f):!0}function Xg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&zf.enqueueReplaceState(n,n.state,null)}function ia(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=w({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function $g(e){zu(e)}function Jg(e){console.error(e)}function Zg(e){zu(e)}function lc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,n,a){return a=Yr(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(e,n)},a}function ty(e){return e=Yr(e),e.tag=3,e}function ey(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Wg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Wg(n,a,o),typeof h!="function"&&(es===null?es=new Set([this]):es.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function H1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Fa(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return ti===null?Ec():a.alternate===null&&Ae===0&&(Ae=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),hd(e,o,h)),!1;case 22:return a.flags|=65536,o===Xu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),hd(e,o,h)),!1}throw Error(s(435,a.tag))}return hd(e,o,h),Ec(),!1}if(Bt)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==sf&&(e=Error(s(422),{cause:o}),hl($n(e,a)))):(o!==sf&&(n=Error(s(423),{cause:o}),hl($n(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=$n(o,a),h=jf(e.stateNode,o,h),gf(e,h),Ae!==4&&(Ae=2)),!1;var f=Error(s(520),{cause:o});if(f=$n(f,a),xl===null?xl=[f]:xl.push(f),Ae!==4&&(Ae=2),n===null)return!0;o=$n(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=jf(a.stateNode,o,e),gf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(es===null||!es.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ty(h),ey(h,e,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var Bf=Error(s(461)),Ve=!1;function Ze(e,n,a,o){n.child=e===null?sg(n,null,a,o):ea(n,e.child,a,o)}function ny(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Js(n),o=bf(e,n,a,g,f,h),E=Af(),e!==null&&!Ve?(Sf(e,n,h),fr(e,n,h)):(Bt&&E&&nf(n),n.flags|=1,Ze(e,n,o,h),n.child)}function iy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ry(e,n,f,o,h)):(e=Hu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Xf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(g,o)&&e.ref===n.ref)return fr(e,n,h)}return n.flags|=1,e=ar(f,o),e.ref=n.ref,e.return=n,n.child=e}function ry(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(ll(f,o)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=o=f,Xf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,fr(e,n,h)}return qf(e,n,a,o,h)}function sy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ay(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qu(n,f!==null?f.cachePool:null),f!==null?lg(n,f):_f(),ug(n);else return o=n.lanes=536870912,ay(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Qu(n,f.cachePool),lg(n,f),Jr(),n.memoizedState=null):(e!==null&&Qu(n,null),_f(),Jr());return Ze(e,n,h,a),n.child}function Al(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(e,n,a,o,h){var f=ff();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Qu(n,null),_f(),ug(n),e!==null&&Fa(e,n,o,!0),n.childLanes=h,null}function uc(e,n){return n=hc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function oy(e,n,a){return ea(n,e.child,null,a),e=uc(n,n.pendingProps),e.flags|=2,kn(n),n.memoizedState=null,e}function F1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=uc(n,o),n.lanes=536870912,Al(null,e);if(Ef(n),(e=he)?(e=v_(e,Wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hr!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Fp(e),a.return=n,n.child=a,$e=n,he=null)):e=null,e===null)throw Gr(n);return n.lanes=536870912,null}return uc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=oy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ve||Fa(e,n,a,!1),h=(a&e.childLanes)!==0,Ve||h){if(o=re,o!==null&&(g=ks(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Qs(e,g),Tn(o,e,g),Bf;Ec(),n=oy(e,n,a)}else e=f.treeContext,he=ei(g.nextSibling),$e=n,Bt=!0,Fr=null,Wn=!1,e!==null&&Qp(n,e),n=uc(n,o),n.flags|=4096;return n}return e=ar(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function cc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function qf(e,n,a,o,h){return Js(n),a=bf(e,n,a,o,void 0,h),o=Af(),e!==null&&!Ve?(Sf(e,n,h),fr(e,n,h)):(Bt&&o&&nf(n),n.flags|=1,Ze(e,n,a,h),n.child)}function ly(e,n,a,o,h,f){return Js(n),n.updateQueue=null,a=hg(n,o,a,h),cg(e),o=Af(),e!==null&&!Ve?(Sf(e,n,f),fr(e,n,f)):(Bt&&o&&nf(n),n.flags|=1,Ze(e,n,a,f),n.child)}function uy(e,n,a,o,h){if(Js(n),n.stateNode===null){var f=ja,g=a.contextType;typeof g=="object"&&g!==null&&(f=Je(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Je(g):ja,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Pf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&zf.enqueueReplaceState(f,f.state,null),_l(n,o,f,h),yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=ia(a,E);f.props=C;var z=f.context,G=a.contextType;g=ja,typeof G=="object"&&G!==null&&(g=Je(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Xg(n,f,o,g),Qr=!1;var B=n.memoizedState;f.state=B,_l(n,o,f,h),yl(),z=n.memoizedState,E||B!==z||Qr?(typeof X=="function"&&(Pf(n,a,X,o),z=n.memoizedState),(C=Qr||Yg(n,a,C,o,B,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,pf(e,n),g=n.memoizedProps,G=ia(a,g),f.props=G,X=n.pendingProps,B=f.context,z=a.contextType,C=ja,typeof z=="object"&&z!==null&&(C=Je(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==C)&&Xg(n,f,o,C),Qr=!1,B=n.memoizedState,f.state=B,_l(n,o,f,h),yl();var H=n.memoizedState;g!==X||B!==H||Qr||e!==null&&e.dependencies!==null&&Gu(e.dependencies)?(typeof E=="function"&&(Pf(n,a,E,o),H=n.memoizedState),(G=Qr||Yg(n,a,G,o,B,H,C)||e!==null&&e.dependencies!==null&&Gu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,cc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ea(n,e.child,null,h),n.child=ea(n,null,a,h)):Ze(e,n,a,h),n.memoizedState=f.state,e=n.child):e=fr(e,n,h),e}function cy(e,n,a,o){return Xs(),n.flags|=256,Ze(e,n,a,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(e){return{baseLanes:e,cachePool:Wp()}}function Gf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Ln),e}function hy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?$r(n):Jr(),(e=he)?(e=v_(e,Wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hr!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Fp(e),a.return=n,n.child=a,$e=n,he=null)):e=null,e===null)throw Gr(n);return Id(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Jr(),h=n.mode,E=hc({mode:"hidden",children:E},h),o=Ys(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,g,a),n.memoizedState=Hf,Al(null,o)):($r(n),Kf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?($r(n),n.flags&=-257,n=Qf(e,n,a)):n.memoizedState!==null?(Jr(),n.child=e.child,n.flags|=128,n=null):(Jr(),E=o.fallback,h=n.mode,o=hc({mode:"visible",children:o.children},h),E=Ys(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ea(n,e.child,null,a),o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,g,a),n.memoizedState=Hf,n=Al(null,o));else if($r(n),Id(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,hl({value:o,source:null,stack:null}),n=Qf(e,n,a)}else if(Ve||Fa(e,n,a,!1),g=(a&e.childLanes)!==0,Ve||g){if(g=re,g!==null&&(o=ks(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Qs(e,o),Tn(g,e,o),Bf;Rd(E)||Ec(),n=Qf(e,n,a)}else Rd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,he=ei(E.nextSibling),$e=n,Bt=!0,Fr=null,Wn=!1,e!==null&&Qp(n,e),n=Kf(n,o.children),n.flags|=4096);return n}return h?(Jr(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=ar(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=ar(z,E):(E=Ys(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Al(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(C=Oe._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Wp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Gf(e,g,a),n.memoizedState=Hf,Al(e.child,o)):($r(n),a=e.child,e=a.sibling,a=ar(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Kf(e,n){return n=hc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function hc(e,n){return e=Mn(22,e,null,n),e.lanes=0,e}function Qf(e,n,a){return ea(n,e.child,null,a),e=Kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function fy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),lf(e.return,n,a)}function Yf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function dy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Re.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(Re,g),Ze(e,n,o,a),o=Bt?cl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fy(e,a,n);else if(e.tag===19)fy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Wu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Wu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Yf(n,!0,a,null,f,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function fr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ts|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Fa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=ar(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ar(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Gu(e)))}function G1(e,n,a){switch(n.tag){case 3:Se(n,n.stateNode.containerInfo),Kr(n,Oe,e.memoizedState.cache),Xs();break;case 27:case 5:Bn(n);break;case 4:Se(n,n.stateNode.containerInfo);break;case 10:Kr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?($r(n),n.flags|=128,null):(a&n.child.childLanes)!==0?hy(e,n,a):($r(n),e=fr(e,n,a),e!==null?e.sibling:null);$r(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Fa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return dy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Re,Re.current),o)break;return null;case 22:return n.lanes=0,sy(e,n,a,n.pendingProps);case 24:Kr(n,Oe,e.memoizedState.cache)}return fr(e,n,a)}function my(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Xf(e,a)&&(n.flags&128)===0)return Ve=!1,G1(e,n,a);Ve=(e.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&Kp(n,cl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ws(n.elementType),n.type=e,typeof e=="function")Wh(e)?(o=ia(e,o),n.tag=1,n=uy(null,n,e,o,a)):(n.tag=0,n=qf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=ny(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=iy(null,n,e,o,a);break t}}throw n=ie(e)||e,Error(s(306,n,""))}}return n;case 0:return qf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ia(o,n.pendingProps),uy(e,n,o,h,a);case 3:t:{if(Se(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,pf(e,n),_l(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Kr(n,Oe,o),o!==f.cache&&uf(n,[Oe],a,!0),yl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cy(e,n,o,a);break t}else if(o!==h){h=$n(Error(s(424)),n),hl(h),n=cy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,he=ei(e.firstChild),$e=n,Bt=!0,Fr=null,Wn=!0,a=sg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xs(),o===h){n=fr(e,n,a);break t}Ze(e,n,o,a)}n=n.child}return n;case 26:return cc(e,n),e===null?(a=w_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,o=Ic(bt.current).createElement(a),o[Ee]=n,o[Ne]=e,We(o,a,e),xe(o),n.stateNode=o):n.memoizedState=w_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Bn(n),e===null&&Bt&&(o=n.stateNode=b_(n.type,n.pendingProps,bt.current),$e=n,Wn=!0,h=he,ss(n.type)?(Cd=h,he=ei(o.firstChild)):he=h),Ze(e,n,n.pendingProps.children,a),cc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=he)&&(o=Tb(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,$e=n,he=ei(o.firstChild),Wn=!1,h=!0):h=!1),h||Gr(n)),Bn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Ad(h,f)?o=null:g!==null&&Ad(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(e,n,U1,null,null,a),Pl._currentValue=h),cc(e,n),Ze(e,n,o,a),n.child;case 6:return e===null&&Bt&&((e=a=he)&&(a=bb(a,n.pendingProps,Wn),a!==null?(n.stateNode=a,$e=n,he=null,e=!0):e=!1),e||Gr(n)),null;case 13:return hy(e,n,a);case 4:return Se(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ea(n,null,o,a):Ze(e,n,o,a),n.child;case 11:return ny(e,n,n.type,n.pendingProps,a);case 7:return Ze(e,n,n.pendingProps,a),n.child;case 8:return Ze(e,n,n.pendingProps.children,a),n.child;case 12:return Ze(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Kr(n,n.type,o.value),Ze(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Js(n),h=Je(h),o=o(h),n.flags|=1,Ze(e,n,o,a),n.child;case 14:return iy(e,n,n.type,n.pendingProps,a);case 15:return ry(e,n,n.type,n.pendingProps,a);case 19:return dy(e,n,a);case 31:return F1(e,n,a);case 22:return sy(e,n,a,n.pendingProps);case 24:return Js(n),o=Je(Oe),e===null?(h=ff(),h===null&&(h=re,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},mf(n),Kr(n,Oe,h)):((e.lanes&a)!==0&&(pf(e,n),_l(n,null,null,a),yl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Kr(n,Oe,o)):(o=f.cache,Kr(n,Oe,o),o!==h.cache&&uf(n,[Oe],a,!0))),Ze(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function dr(e){e.flags|=4}function $f(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(By())e.flags|=8192;else throw ta=Xu,df}else e.flags&=-16777217}function py(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!x_(n))if(By())e.flags|=8192;else throw ta=Xu,df}function fc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zi():536870912,e.lanes|=n,no|=n)}function Sl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function K1(e,n,a){var o=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ur(Oe),Xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ha(n)?dr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(dr(n),f!==null?(fe(n),py(n,f)):(fe(n),$f(n,h,null,o,a))):f?f!==e.memoizedState?(dr(n),fe(n),py(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&dr(n),fe(n),$f(n,h,e,o,a)),null;case 27:if(Ki(n),a=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&dr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return fe(n),null}e=st.current,Ha(n)?Yp(n):(e=b_(h,o,a),n.stateNode=e,dr(n))}return fe(n),null;case 5:if(Ki(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&dr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return fe(n),null}if(f=st.current,Ha(n))Yp(n);else{var g=Ic(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[Ne]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(We(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&dr(n)}}return fe(n),$f(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&dr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=bt.current,Ha(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=$e,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||h_(e.nodeValue,a)),e||Gr(n,!0)}else e=Ic(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return fe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ha(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=n}else Xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else a=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return fe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else Xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),fc(n,n.updateQueue),fe(n),null);case 4:return Xt(),e===null&&_d(n.stateNode.containerInfo),fe(n),null;case 10:return ur(n.type),fe(n),null;case 19:if(K(Re),o=n.memoizedState,o===null)return fe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Sl(o,!1);else{if(Ae!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Wu(e),f!==null){for(n.flags|=128,Sl(o,!1),e=f.updateQueue,n.updateQueue=e,fc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Hp(a,e),a=a.sibling;return et(Re,Re.current&1|2),Bt&&or(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Fe()>yc&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Wu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,fc(n,e),Sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return fe(n),null}else 2*Fe()-o.renderingStartTime>yc&&a!==536870912&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Fe(),e.sibling=null,a=Re.current,et(Re,h?a&1|2:a&1),Bt&&or(n,o.treeForkCount),e):(fe(n),null);case 22:case 23:return kn(n),vf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),a=n.updateQueue,a!==null&&fc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K(Zs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ur(Oe),fe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Q1(e,n){switch(rf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ur(Oe),Xt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ki(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(s(340));Xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(kn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Re),null;case 4:return Xt(),null;case 10:return ur(n.type),null;case 22:case 23:return kn(n),vf(),e!==null&&K(Zs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ur(Oe),null;case 25:return null;default:return null}}function gy(e,n){switch(rf(n),n.tag){case 3:ur(Oe),Xt();break;case 26:case 27:case 5:Ki(n);break;case 4:Xt();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:K(Re);break;case 10:ur(n.type);break;case 22:case 23:kn(n),vf(),e!==null&&K(Zs);break;case 24:ur(Oe)}}function wl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Zt(n,n.return,E)}}function Zr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,z=E;try{z()}catch(G){Zt(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){Zt(n,n.return,G)}}function yy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{og(n,a)}catch(o){Zt(e,e.return,o)}}}function _y(e,n,a){a.props=ia(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Zt(e,n,o)}}function Rl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Zt(e,n,h)}}function Ui(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,n,h)}else a.current=null}function vy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function Jf(e,n,a){try{var o=e.stateNode;pb(o,e.type,a,n),o[Ne]=n}catch(h){Zt(e,e.return,h)}}function Ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ss(e.type)||e.tag===4}function Zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ss(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=li));else if(o!==4&&(o===27&&ss(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Wf(e,n,a),e=e.sibling;e!==null;)Wf(e,n,a),e=e.sibling}function dc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&ss(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dc(e,n,a),e=e.sibling;e!==null;)dc(e,n,a),e=e.sibling}function Ty(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);We(n,o,a),n[Ee]=e,n[Ne]=a}catch(f){Zt(e,e.return,f)}}var mr=!1,ke=!1,td=!1,by=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Y1(e,n){if(e=e.containerInfo,Td=Vc,e=Vp(e),Kh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,z=0,G=0,X=e,B=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===a&&++z===h&&(E=g),B===f&&++G===o&&(C=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:e,selectionRange:a},Vc=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=ia(a.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Zt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function Ay(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:gr(e,a),o&4&&wl(5,a);break;case 1:if(gr(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Zt(a,a.return,g)}else{var h=ia(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Zt(a,a.return,g)}}o&64&&yy(a),o&512&&Rl(a,a.return);break;case 3:if(gr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{og(e,n)}catch(g){Zt(a,a.return,g)}}break;case 27:n===null&&o&4&&Ty(a);case 26:case 5:gr(e,a),n===null&&o&4&&vy(a),o&512&&Rl(a,a.return);break;case 12:gr(e,a);break;case 31:gr(e,a),o&4&&Ry(e,a);break;case 13:gr(e,a),o&4&&Iy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ib.bind(null,a),Ab(e,a))));break;case 22:if(o=a.memoizedState!==null||mr,!o){n=n!==null&&n.memoizedState!==null||ke,h=mr;var f=ke;mr=o,(ke=n)&&!f?yr(e,a,(a.subtreeFlags&8772)!==0):gr(e,a),mr=h,ke=f}break;case 30:break;default:gr(e,a)}}function Sy(e){var n=e.alternate;n!==null&&(e.alternate=null,Sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Nn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,yn=!1;function pr(e,n,a){for(a=a.child;a!==null;)wy(e,n,a),a=a.sibling}function wy(e,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(wn,a)}catch{}switch(a.tag){case 26:ke||Ui(a,n),pr(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ke||Ui(a,n);var o=pe,h=yn;ss(a.type)&&(pe=a.stateNode,yn=!1),pr(e,n,a),kl(a.stateNode),pe=o,yn=h;break;case 5:ke||Ui(a,n);case 6:if(o=pe,h=yn,pe=null,pr(e,n,a),pe=o,yn=h,pe!==null)if(yn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(a.stateNode)}catch(f){Zt(a,n,f)}else try{pe.removeChild(a.stateNode)}catch(f){Zt(a,n,f)}break;case 18:pe!==null&&(yn?(e=pe,y_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),co(e)):y_(pe,a.stateNode));break;case 4:o=pe,h=yn,pe=a.stateNode.containerInfo,yn=!0,pr(e,n,a),pe=o,yn=h;break;case 0:case 11:case 14:case 15:Zr(2,a,n),ke||Zr(4,a,n),pr(e,n,a);break;case 1:ke||(Ui(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&_y(a,n,o)),pr(e,n,a);break;case 21:pr(e,n,a);break;case 22:ke=(o=ke)||a.memoizedState!==null,pr(e,n,a),ke=o;break;default:pr(e,n,a)}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{co(e)}catch(a){Zt(n,n.return,a)}}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{co(e)}catch(a){Zt(n,n.return,a)}}function X1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new by),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new by),n;default:throw Error(s(435,e.tag))}}function mc(e,n){var a=X1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=rb.bind(null,e,o);o.then(h,h)}})}function _n(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ss(E.type)){pe=E.stateNode,yn=!1;break t}break;case 5:pe=E.stateNode,yn=!1;break t;case 3:case 4:pe=E.stateNode.containerInfo,yn=!0;break t}E=E.return}if(pe===null)throw Error(s(160));wy(f,g,h),pe=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,e),n=n.sibling}var mi=null;function Cy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(n,e),vn(e),o&4&&(Zr(3,e,e.return),wl(3,e),Zr(5,e,e.return));break;case 1:_n(n,e),vn(e),o&512&&(ke||a===null||Ui(a,a.return)),o&64&&mr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=mi;if(_n(n,e),vn(e),o&512&&(ke||a===null||Ui(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Te]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),We(f,o,a),f[Ee]=e,xe(f),o=f;break t;case"link":var g=C_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),We(f,o,a),h.head.appendChild(f);break;case"meta":if(g=C_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),We(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ee]=e,xe(f),o=f}e.stateNode=o}else N_(h,e.type,e.stateNode);else e.stateNode=I_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?N_(h,e.type,e.stateNode):I_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Jf(e,e.memoizedProps,a.memoizedProps)}break;case 27:_n(n,e),vn(e),o&512&&(ke||a===null||Ui(a,a.return)),a!==null&&o&4&&Jf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_n(n,e),vn(e),o&512&&(ke||a===null||Ui(a,a.return)),e.flags&32){h=e.stateNode;try{gn(h,"")}catch(lt){Zt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Jf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(_n(n,e),vn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(lt){Zt(e,e.return,lt)}}break;case 3:if(xc=null,h=mi,mi=Cc(n.containerInfo),_n(n,e),mi=h,vn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{co(n.containerInfo)}catch(lt){Zt(e,e.return,lt)}td&&(td=!1,Ny(e));break;case 4:o=mi,mi=Cc(e.stateNode.containerInfo),_n(n,e),vn(e),mi=o;break;case 12:_n(n,e),vn(e);break;case 31:_n(n,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 13:_n(n,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gc=Fe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=mr,G=ke;if(mr=z||h,ke=G||C,_n(n,e),ke=G,mr=z,vn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||mr||ke||ra(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){Zt(C,C.return,lt)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){Zt(C,C.return,lt)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?__(H,!0):__(C.stateNode,!1)}catch(lt){Zt(C,C.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mc(e,a))));break;case 19:_n(n,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 30:break;case 21:break;default:_n(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Ey(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(e);dc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(gn(g,""),a.flags&=-33);var E=Zf(e);dc(e,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Zf(e);Wf(e,z,C);break;default:throw Error(s(161))}}catch(G){Zt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function gr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ay(e,n.alternate,n),n=n.sibling}function ra(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Zr(4,n,n.return),ra(n);break;case 1:Ui(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&_y(n,n.return,a),ra(n);break;case 27:kl(n.stateNode);case 26:case 5:Ui(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}e=e.sibling}}function yr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:yr(h,f,a),wl(4,f);break;case 1:if(yr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Zt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ag(C[h],E)}catch(z){Zt(o,o.return,z)}}a&&g&64&&yy(f),Rl(f,f.return);break;case 27:Ty(f);case 26:case 5:yr(h,f,a),a&&o===null&&g&4&&vy(f),Rl(f,f.return);break;case 12:yr(h,f,a);break;case 31:yr(h,f,a),a&&g&4&&Ry(h,f);break;case 13:yr(h,f,a),a&&g&4&&Iy(h,f);break;case 22:f.memoizedState===null&&yr(h,f,a),Rl(f,f.return);break;case 30:break;default:yr(h,f,a)}n=n.sibling}}function ed(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&fl(a))}function nd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&fl(e))}function pi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(e,n,a,o),n=n.sibling}function xy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(e,n,a,o),h&2048&&wl(9,n);break;case 1:pi(e,n,a,o);break;case 3:pi(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&fl(e)));break;case 12:if(h&2048){pi(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Zt(n,n.return,C)}}else pi(e,n,a,o);break;case 31:pi(e,n,a,o);break;case 13:pi(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?pi(e,n,a,o):Il(e,n):f._visibility&2?pi(e,n,a,o):(f._visibility|=2,Wa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(g,n);break;case 24:pi(e,n,a,o),h&2048&&nd(n.alternate,n);break;default:pi(e,n,a,o)}}function Wa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Wa(f,g,E,C,h),wl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Wa(f,g,E,C,h):Il(f,g):(G._visibility|=2,Wa(f,g,E,C,h)),h&&z&2048&&ed(g.alternate,g);break;case 24:Wa(f,g,E,C,h),h&&z&2048&&nd(g.alternate,g);break;default:Wa(f,g,E,C,h)}n=n.sibling}}function Il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:Il(a,o),h&2048&&ed(o.alternate,o);break;case 24:Il(a,o),h&2048&&nd(o.alternate,o);break;default:Il(a,o)}n=n.sibling}}var Cl=8192;function to(e,n,a){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)Dy(e,n,a),e=e.sibling}function Dy(e,n,a){switch(e.tag){case 26:to(e,n,a),e.flags&Cl&&e.memoizedState!==null&&kb(a,mi,e.memoizedState,e.memoizedProps);break;case 5:to(e,n,a);break;case 3:case 4:var o=mi;mi=Cc(e.stateNode.containerInfo),to(e,n,a),mi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Cl,Cl=16777216,to(e,n,a),Cl=o):to(e,n,a));break;default:to(e,n,a)}}function Oy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Qe=o,Vy(o,e)}Oy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)My(e),e=e.sibling}function My(e){switch(e.tag){case 0:case 11:case 15:Nl(e),e.flags&2048&&Zr(9,e,e.return);break;case 3:Nl(e);break;case 12:Nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,pc(e)):Nl(e);break;default:Nl(e)}}function pc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Qe=o,Vy(o,e)}Oy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Zr(8,n,n.return),pc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,pc(n));break;default:pc(n)}e=e.sibling}}function Vy(e,n){for(;Qe!==null;){var a=Qe;switch(a.tag){case 0:case 11:case 15:Zr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:fl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Qe=o;else t:for(a=e;Qe!==null;){o=Qe;var h=o.sibling,f=o.return;if(Sy(o),o===a){Qe=null;break t}if(h!==null){h.return=f,Qe=h;break t}Qe=f}}}var $1={getCacheForType:function(e){var n=Je(Oe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Je(Oe).controller.signal}},J1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,re=null,Mt=null,Ut=0,Jt=0,Un=null,Wr=!1,eo=!1,id=!1,_r=0,Ae=0,ts=0,sa=0,rd=0,Ln=0,no=0,xl=null,En=null,sd=!1,gc=0,ky=0,yc=1/0,_c=null,es=null,Be=0,ns=null,io=null,vr=0,ad=0,od=null,Uy=null,Dl=0,ld=null;function Pn(){return(Qt&2)!==0&&Ut!==0?Ut&-Ut:F.T!==null?md():Ra()}function Ly(){if(Ln===0)if((Ut&536870912)===0||Bt){var e=Ji;Ji<<=1,(Ji&3932160)===0&&(Ji=262144),Ln=e}else Ln=536870912;return e=Vn.current,e!==null&&(e.flags|=32),Ln}function Tn(e,n,a){(e===re&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(ro(e,0),is(e,Ut,Ln,!1)),Wi(e,a),((Qt&2)===0||e!==re)&&(e===re&&((Qt&2)===0&&(sa|=a),Ae===4&&is(e,Ut,Ln,!1)),Li(e))}function Py(e,n,a){if((Qt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||rn(e,n),h=o?tb(e,n):cd(e,n,!0),f=o;do{if(h===0){eo&&!o&&is(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!Z1(a)){h=cd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=xl;var C=E.current.memoizedState.isDehydrated;if(C&&(ro(E,g).flags|=256),g=cd(E,g,!1),g!==2){if(id&&!C){E.errorRecoveryDisabledLanes|=f,sa|=f,h=4;break t}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ro(e,0),is(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:is(o,n,Ln,!Wr);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=gc+300-Fe(),10<h)){if(is(o,n,Ln,!Wr),Fn(o,0,!0)!==0)break t;vr=n,o.timeoutHandle=p_(zy.bind(null,o,a,En,_c,sd,n,Ln,sa,no,Wr,f,"Throttled",-0,0),h);break t}zy(o,a,En,_c,sd,n,Ln,sa,no,Wr,f,null,-0,0)}}break}while(!0);Li(e)}function zy(e,n,a,o,h,f,g,E,C,z,G,X,B,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},Dy(n,f,X);var lt=(f&62914560)===f?gc-Fe():(f&4194048)===f?ky-Fe():0;if(lt=Ub(X,lt),lt!==null){vr=f,e.cancelPendingCommit=lt(Qy.bind(null,e,n,f,a,o,h,g,E,C,G,X,null,B,H)),is(e,f,g,!z);return}}Qy(e,n,f,a,o,h,g,E,C)}function Z1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function is(e,n,a,o){n&=~rd,n&=~sa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ge(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&tr(e,a,n)}function vc(){return(Qt&6)===0?(Ol(0),!1):!0}function ud(){if(Mt!==null){if(Jt===0)var e=Mt.return;else e=Mt,lr=$s=null,wf(e),Ya=null,ml=0,e=Mt;for(;e!==null;)gy(e.alternate,e),e=e.return;Mt=null}}function ro(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,_b(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),vr=0,ud(),re=e,Mt=a=ar(e.current,null),Ut=n,Jt=0,Un=null,Wr=!1,eo=rn(e,n),id=!1,no=Ln=rd=sa=ts=Ae=0,En=xl=null,sd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ge(o),f=1<<h;n|=e[h],o&=~f}return _r=n,ju(),a}function jy(e,n){Ct=null,F.H=bl,n===Qa||n===Yu?(n=ng(),Jt=3):n===df?(n=ng(),Jt=4):Jt=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Un=n,Mt===null&&(Ae=1,lc(e,$n(n,e.current)))}function By(){var e=Vn.current;return e===null?!0:(Ut&4194048)===Ut?ti===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===ti:!1}function qy(){var e=F.H;return F.H=bl,e===null?bl:e}function Hy(){var e=F.A;return F.A=$1,e}function Ec(){Ae=4,Wr||(Ut&4194048)!==Ut&&Vn.current!==null||(eo=!0),(ts&134217727)===0&&(sa&134217727)===0||re===null||is(re,Ut,Ln,!1)}function cd(e,n,a){var o=Qt;Qt|=2;var h=qy(),f=Hy();(re!==e||Ut!==n)&&(_c=null,ro(e,n)),n=!1;var g=Ae;t:do try{if(Jt!==0&&Mt!==null){var E=Mt,C=Un;switch(Jt){case 8:ud(),g=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=Jt;if(Jt=0,Un=null,so(e,E,C,z),a&&eo){g=0;break t}break;default:z=Jt,Jt=0,Un=null,so(e,E,C,z)}}W1(),g=Ae;break}catch(G){jy(e,G)}while(!0);return n&&e.shellSuspendCounter++,lr=$s=null,Qt=o,F.H=h,F.A=f,Mt===null&&(re=null,Ut=0,ju()),g}function W1(){for(;Mt!==null;)Fy(Mt)}function tb(e,n){var a=Qt;Qt|=2;var o=qy(),h=Hy();re!==e||Ut!==n?(_c=null,yc=Fe()+500,ro(e,n)):eo=rn(e,n);t:do try{if(Jt!==0&&Mt!==null){n=Mt;var f=Un;e:switch(Jt){case 1:Jt=0,Un=null,so(e,n,f,1);break;case 2:case 9:if(tg(f)){Jt=0,Un=null,Gy(n);break}n=function(){Jt!==2&&Jt!==9||re!==e||(Jt=7),Li(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:tg(f)?(Jt=0,Un=null,Gy(n)):(Jt=0,Un=null,so(e,n,f,7));break;case 5:var g=null;switch(Mt.tag){case 26:g=Mt.memoizedState;case 5:case 27:var E=Mt;if(g?x_(g):E.stateNode.complete){Jt=0,Un=null;var C=E.sibling;if(C!==null)Mt=C;else{var z=E.return;z!==null?(Mt=z,Tc(z)):Mt=null}break e}}Jt=0,Un=null,so(e,n,f,5);break;case 6:Jt=0,Un=null,so(e,n,f,6);break;case 8:ud(),Ae=6;break t;default:throw Error(s(462))}}eb();break}catch(G){jy(e,G)}while(!0);return lr=$s=null,F.H=o,F.A=h,Qt=a,Mt!==null?0:(re=null,Ut=0,ju(),Ae)}function eb(){for(;Mt!==null&&!Ta();)Fy(Mt)}function Fy(e){var n=my(e.alternate,e,_r);e.memoizedProps=e.pendingProps,n===null?Tc(e):Mt=n}function Gy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ly(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=ly(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:wf(n);default:gy(a,n),n=Mt=Hp(n,_r),n=my(a,n,_r)}e.memoizedProps=e.pendingProps,n===null?Tc(e):Mt=n}function so(e,n,a,o){lr=$s=null,wf(n),Ya=null,ml=0;var h=n.return;try{if(H1(e,h,n,a,Ut)){Ae=1,lc(e,$n(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;Ae=1,lc(e,$n(a,e.current)),Mt=null;return}n.flags&32768?(Bt||o===1?e=!0:eo||(Ut&536870912)!==0?e=!1:(Wr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ky(n,e)):Tc(n)}function Tc(e){var n=e;do{if((n.flags&32768)!==0){Ky(n,Wr);return}e=n.return;var a=K1(n.alternate,n,_r);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);Ae===0&&(Ae=5)}function Ky(e,n){do{var a=Q1(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);Ae=6,Mt=null}function Qy(e,n,a,o,h,f,g,E,C){e.cancelPendingCommit=null;do bc();while(Be!==0);if((Qt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Jh,Fo(e,a,f,g,E,C),e===re&&(Mt=re=null,Ut=0),io=n,ns=e,vr=a,ad=f,od=h,Uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sb(si,function(){return Zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,g=Qt,Qt|=4;try{Y1(e,n,a)}finally{Qt=g,nt.p=h,F.T=o}}Be=1,Yy(),Xy(),$y()}}function Yy(){if(Be===1){Be=0;var e=ns,n=io,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{Cy(n,e);var f=bd,g=Vp(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Mp(E.ownerDocument.documentElement,E)){if(C!==null&&Kh(E)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),lt=E.textContent.length,pt=Math.min(C.start,lt),ne=C.end===void 0?pt:Math.min(C.end,lt);!H.extend&&pt>ne&&(g=ne,ne=pt,pt=g);var k=Op(E,pt),O=Op(E,ne);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),pt>ne?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Vc=!!Td,bd=Td=null}finally{Qt=h,nt.p=o,F.T=a}}e.current=n,Be=2}}function Xy(){if(Be===2){Be=0;var e=ns,n=io,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{Ay(e,n.alternate,n)}finally{Qt=h,nt.p=o,F.T=a}}Be=3}}function $y(){if(Be===4||Be===3){Be=0,Vs();var e=ns,n=io,a=vr,o=Uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,io=ns=null,Jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(es=null),oi(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(wn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(vr&3)!==0&&bc(),Li(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ld?Dl++:(Dl=0,ld=e):Dl=0,Ol(0)}}function Jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,fl(n)))}function bc(){return Yy(),Xy(),$y(),Zy()}function Zy(){if(Be!==5)return!1;var e=ns,n=ad;ad=0;var a=oi(vr),o=F.T,h=nt.p;try{nt.p=32>a?32:a,F.T=null,a=od,od=null;var f=ns,g=vr;if(Be=0,io=ns=null,vr=0,(Qt&6)!==0)throw Error(s(331));var E=Qt;if(Qt|=4,My(f.current),xy(f,f.current,g,a),Qt=E,Ol(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(wn,f)}catch{}return!0}finally{nt.p=h,F.T=o,Jy(e,n)}}function Wy(e,n,a){n=$n(a,n),n=jf(e.stateNode,n,2),e=Xr(e,n,2),e!==null&&(Wi(e,2),Li(e))}function Zt(e,n,a){if(e.tag===3)Wy(e,e,a);else for(;n!==null;){if(n.tag===3){Wy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(es===null||!es.has(o))){e=$n(a,e),a=ty(2),o=Xr(n,a,2),o!==null&&(ey(a,o,n,e),Wi(o,2),Li(o));break}}n=n.return}}function hd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new J1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(id=!0,h.add(a),e=nb.bind(null,e,n,a),n.then(e,e))}function nb(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(Ut&a)===a&&(Ae===4||Ae===3&&(Ut&62914560)===Ut&&300>Fe()-gc?(Qt&2)===0&&ro(e,0):rd|=a,no===Ut&&(no=0)),Li(e)}function t_(e,n){n===0&&(n=Zi()),e=Qs(e,n),e!==null&&(Wi(e,n),Li(e))}function ib(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),t_(e,a)}function rb(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),t_(e,a)}function sb(e,n){return _e(e,n)}var Ac=null,ao=null,fd=!1,Sc=!1,dd=!1,rs=0;function Li(e){e!==ao&&e.next===null&&(ao===null?Ac=ao=e:ao=ao.next=e),Sc=!0,fd||(fd=!0,ob())}function Ol(e,n){if(!dd&&Sc){dd=!0;do for(var a=!1,o=Ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,r_(o,f))}else f=Ut,f=Fn(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||rn(o,f)||(a=!0,r_(o,f));o=o.next}while(a);dd=!1}}function ab(){e_()}function e_(){Sc=fd=!1;var e=0;rs!==0&&yb()&&(e=rs);for(var n=Fe(),a=null,o=Ac;o!==null;){var h=o.next,f=n_(o,n);f===0?(o.next=null,a===null?Ac=h:a.next=h,h===null&&(ao=a)):(a=o,(e!==0||(f&3)!==0)&&(Sc=!0)),o=h}Be!==0&&Be!==5||Ol(e),rs!==0&&(rs=0)}function n_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ge(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&o)!==0)&&(h[g]=wa(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=re,a=Ut,a=Fn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&qn(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||rn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&qn(o),oi(a)){case 2:case 8:a=Xi;break;case 32:a=si;break;case 268435456:a=$i;break;default:a=si}return o=i_.bind(null,e),a=_e(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&qn(o),e.callbackPriority=2,e.callbackNode=null,2}function i_(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(bc()&&e.callbackNode!==a)return null;var o=Ut;return o=Fn(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Py(e,o,n),n_(e,Fe()),e.callbackNode!=null&&e.callbackNode===a?i_.bind(null,e):null)}function r_(e,n){if(bc())return null;Py(e,n,!0)}function ob(){vb(function(){(Qt&6)!==0?_e(Ai,ab):e_()})}function md(){if(rs===0){var e=Ga;e===0&&(e=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),rs=e}return rs}function s_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xa(""+e)}function a_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function lb(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=s_((h[Ne]||null).action),g=o.submitter;g&&(n=(n=g[Ne]||null)?s_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new xi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(rs!==0){var C=g?a_(h,g):new FormData(h);Vf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?a_(h,g):new FormData(h),Vf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],ub=gd.toLowerCase(),cb=gd[0].toUpperCase()+gd.slice(1);di(ub,"on"+cb)}di(Lp,"onAnimationEnd"),di(Pp,"onAnimationIteration"),di(zp,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(R1,"onTransitionRun"),di(I1,"onTransitionStart"),di(C1,"onTransitionCancel"),di(jp,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function o_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){zu(G)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){zu(G)}h.currentTarget=null,f=C}}}}function Vt(e,n){var a=n[Z];a===void 0&&(a=n[Z]=new Set);var o=e+"__bubble";a.has(o)||(l_(n,e,2,!1),a.add(o))}function yd(e,n,a){var o=0;n&&(o|=4),l_(a,e,o,n)}var wc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[wc]){e[wc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(hb.has(a)||yd(a,!1,e),yd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wc]||(n[wc]=!0,yd("selectionchange",!1,n))}}function l_(e,n,a,o){switch(L_(n)){case 2:var h=zb;break;case 8:h=jb;break;default:h=Md}a=h.bind(null,n,a,e),h=void 0,!zs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function vd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ge(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}zr(function(){var z=f,G=Kn(a),X=[];t:{var B=Bp.get(e);if(B!==void 0){var H=xi,lt=e;switch(e){case"keypress":if(Bs(a)===0)break t;case"keydown":case"keyup":H=Uu;break;case"focusin":lt="focus",H=Hs;break;case"focusout":lt="blur",H=Hs;break;case"beforeblur":case"afterblur":H=Hs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Lp:case Pp:case zp:H=Nu;break;case jp:H=T;break;case"scroll":case"scrollend":H=il;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=sr;break;case"toggle":case"beforetoggle":H=It}var pt=(n&4)!==0,ne=!pt&&(e==="scroll"||e==="scrollend"),k=pt?B!==null?B+"Capture":null:B;pt=[];for(var O=z,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ui(O,k),Q!=null&&pt.push(Vl(O,Q,P))),ne)break;O=O.return}0<pt.length&&(B=new H(B,lt,null,a,G),X.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==tl&&(lt=a.relatedTarget||a.fromElement)&&(Ge(lt)||lt[j]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(lt=a.relatedTarget||a.toElement,H=z,lt=lt?Ge(lt):null,lt!==null&&(ne=c(lt),pt=lt.tag,lt!==ne||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(pt=rl,Q="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=sr,Q="onPointerLeave",k="onPointerEnter",O="pointer"),ne=H==null?B:xn(H),P=lt==null?B:xn(lt),B=new pt(Q,O+"leave",H,a,G),B.target=ne,B.relatedTarget=P,Q=null,Ge(G)===z&&(pt=new pt(k,O+"enter",lt,a,G),pt.target=P,pt.relatedTarget=ne,Q=pt),ne=Q,H&&lt)e:{for(pt=fb,k=H,O=lt,P=0,Q=k;Q;Q=pt(Q))P++;Q=0;for(var ft=O;ft;ft=pt(ft))Q++;for(;0<P-Q;)k=pt(k),P--;for(;0<Q-P;)O=pt(O),Q--;for(;P--;){if(k===O||O!==null&&k===O.alternate){pt=k;break e}k=pt(k),O=pt(O)}pt=null}else pt=null;H!==null&&u_(X,B,H,pt,!1),lt!==null&&ne!==null&&u_(X,ne,lt,pt,!0)}}t:{if(B=z?xn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ft=Rp;else if(Sp(B))if(Ip)Ft=A1;else{Ft=T1;var ut=E1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Na(z.elementType)&&(Ft=Rp):Ft=b1;if(Ft&&(Ft=Ft(e,z))){wp(X,Ft,a,G);break t}ut&&ut(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Jo(B,"number",B.value)}switch(ut=z?xn(z):window,e){case"focusin":(Sp(ut)||ut.contentEditable==="true")&&(La=ut,Qh=z,ul=null);break;case"focusout":ul=Qh=La=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,kp(X,a,G);break;case"selectionchange":if(w1)break;case"keydown":case"keyup":kp(X,a,G)}var Nt;if(Kt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ua?Fs(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Mi&&a.locale!=="ko"&&(Ua||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ua&&(Nt=nl()):(Ni=G,el="value"in Ni?Ni.value:Ni.textContent,Ua=!0)),ut=Rc(z,Lt),0<ut.length&&(Lt=new Oi(Lt,e,null,a,G),X.push({event:Lt,listeners:ut}),Nt?Lt.data=Nt:(Nt=ka(a),Nt!==null&&(Lt.data=Nt)))),(Nt=Yn?g1(e,a):y1(e,a))&&(Lt=Rc(z,"onBeforeInput"),0<Lt.length&&(ut=new Oi("onBeforeInput","beforeinput",null,a,G),X.push({event:ut,listeners:Lt}),ut.data=Nt)),lb(X,e,z,a,G)}o_(X,n)})}function Vl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Rc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(e,a),h!=null&&o.unshift(Vl(e,h,f)),h=ui(e,n),h!=null&&o.push(Vl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function fb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=ui(a,f),z!=null&&g.unshift(Vl(a,z,C))):h||(z=ui(a,f),z!=null&&g.push(Vl(a,z,C)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var db=/\r\n?/g,mb=/\u0000|\uFFFD/g;function c_(e){return(typeof e=="string"?e:""+e).replace(db,`
`).replace(mb,"")}function h_(e,n){return n=c_(n),c_(e)===n}function ee(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(e,""+o);break;case"className":Dn(e,"class",o);break;case"tabIndex":Dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(e,a,o);break;case"style":Wo(e,o,f);break;case"data":if(n!=="object"){Dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=xa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ee(e,n,"name",h.name,h,null),ee(e,n,"formEncType",h.formEncType,h,null),ee(e,n,"formMethod",h.formMethod,h,null),ee(e,n,"formTarget",h.formTarget,h,null)):(ee(e,n,"encType",h.encType,h,null),ee(e,n,"method",h.method,h,null),ee(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=xa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=li);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=xa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Ia(e,"popover",o);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,Ia(e,a,o))}}function Ed(e,n,a,o,h,f){switch(a){case"style":Wo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ne]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Ia(e,a,o)}}}function We(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ee(e,n,f,g,a,null)}}h&&ee(e,n,"srcSet",a.srcSet,a,null),o&&ee(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:ee(e,n,o,G,a,null)}}Au(e,f,E,C,z,g,h,!1);return;case"select":Vt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ee(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?kr(e,!!o,n,!1):a!=null&&kr(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ee(e,n,g,E,a,null)}Ur(e,o,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ee(e,n,C,o,a,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<Ml.length;o++)Vt(Ml[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ee(e,n,z,o,a,null)}return;default:if(Na(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Ed(e,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ee(e,n,E,o,a,null))}function pb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||ee(e,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=a[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==X&&ee(e,n,B,H,o,X)}}Ca(e,g,E,C,z,G,f,h);return;case"select":H=g=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ee(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ee(e,n,h,f,o,C)}n=E,a=g,o=H,B!=null?kr(e,!!a,B,!1):!!o!=!!a&&(n!=null?kr(e,!!a,n,!0):kr(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&ee(e,n,g,h,o,f)}Su(e,B,H);return;case"option":for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:ee(e,n,lt,null,o,B));for(C in o)B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":ee(e,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!o.hasOwnProperty(pt)&&ee(e,n,pt,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:ee(e,n,z,B,o,H)}return;default:if(Na(n)){for(var ne in a)B=a[ne],a.hasOwnProperty(ne)&&B!==void 0&&!o.hasOwnProperty(ne)&&Ed(e,n,ne,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Ed(e,n,G,B,o,H);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ee(e,n,k,null,o,B);for(X in o)B=o[X],H=a[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||ee(e,n,X,B,o,H)}function f_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&f_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var G=C.transferSize,X=C.initiatorType;G&&f_(X)&&(C=C.responseEnd,g+=G*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,bd=null;function Ic(e){return e.nodeType===9?e:e.ownerDocument}function d_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function yb(){var e=window.event;return e&&e.type==="popstate"?e===Sd?!1:(Sd=e,!0):(Sd=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(e){return g_.resolve(null).then(e).catch(Eb)}:p_;function Eb(e){setTimeout(function(){throw e})}function ss(e){return e==="head"}function y_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),co(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")kl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,kl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Te]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&kl(e.ownerDocument.body);a=h}while(a);co(n)}function __(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function wd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),Nn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Tb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Te])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ei(e.nextSibling),e===null)break}return null}function bb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ei(e.nextSibling),e===null))return null;return e}function v_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ei(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ab(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ei(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Cd=null;function E_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return ei(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function T_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function b_(e,n,a){switch(n=Ic(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function kl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Nn(e)}var ni=new Map,A_=new Set;function Cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Er=nt.d;nt.d={f:Sb,r:wb,D:Rb,C:Ib,L:Cb,m:Nb,X:Db,S:xb,M:Ob};function Sb(){var e=Er.f(),n=vc();return e||n}function wb(e){var n=mn(e);n!==null&&n.tag===5&&n.type==="form"?jg(n):Er.r(e)}var oo=typeof document>"u"?null:document;function S_(e,n,a){var o=oo;if(o&&typeof n=="string"&&n){var h=pn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),A_.has(h)||(A_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),We(n,"link",e),xe(n),o.head.appendChild(n)))}}function Rb(e){Er.D(e),S_("dns-prefetch",e,null)}function Ib(e,n){Er.C(e,n),S_("preconnect",e,n)}function Cb(e,n,a){Er.L(e,n,a);var o=oo;if(o&&e&&n){var h='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pn(a.imageSizes)+'"]')):h+='[href="'+pn(e)+'"]';var f=h;switch(n){case"style":f=lo(e);break;case"script":f=uo(e)}ni.has(f)||(e=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),ni.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ul(f))||n==="script"&&o.querySelector(Ll(f))||(n=o.createElement("link"),We(n,"link",e),xe(n),o.head.appendChild(n)))}}function Nb(e,n){Er.m(e,n);var a=oo;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pn(o)+'"][href="'+pn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=uo(e)}if(!ni.has(f)&&(e=w({rel:"modulepreload",href:e},n),ni.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(f)))return}o=a.createElement("link"),We(o,"link",e),xe(o),a.head.appendChild(o)}}}function xb(e,n,a){Er.S(e,n,a);var o=oo;if(o&&e){var h=Si(o).hoistableStyles,f=lo(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Ul(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},a),(a=ni.get(f))&&Nd(e,a);var C=g=o.createElement("link");xe(C),We(C,"link",e),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Db(e,n){Er.X(e,n);var a=oo;if(a&&e){var o=Si(a).hoistableScripts,h=uo(e),f=o.get(h);f||(f=a.querySelector(Ll(h)),f||(e=w({src:e,async:!0},n),(n=ni.get(h))&&xd(e,n),f=a.createElement("script"),xe(f),We(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ob(e,n){Er.M(e,n);var a=oo;if(a&&e){var o=Si(a).hoistableScripts,h=uo(e),f=o.get(h);f||(f=a.querySelector(Ll(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=ni.get(h))&&xd(e,n),f=a.createElement("script"),xe(f),We(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w_(e,n,a,o){var h=(h=bt.current)?Cc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=lo(a.href),a=Si(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=lo(a.href);var f=Si(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(Ul(e)))&&!f._p&&(g.instance=f,g.state.loading=5),ni.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ni.set(e,a),f||Mb(h,e,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=uo(a),a=Si(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function lo(e){return'href="'+pn(e)+'"'}function Ul(e){return'link[rel="stylesheet"]['+e+"]"}function R_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Mb(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),We(n,"link",a),xe(n),e.head.appendChild(n))}function uo(e){return'[src="'+pn(e)+'"]'}function Ll(e){return"script[async]"+e}function I_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+pn(a.href)+'"]');if(o)return n.instance=o,xe(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),xe(o),We(o,"style",h),Nc(o,a.precedence,e),n.instance=o;case"stylesheet":h=lo(a.href);var f=e.querySelector(Ul(h));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;o=R_(a),(h=ni.get(h))&&Nd(o,h),f=(e.ownerDocument||e).createElement("link"),xe(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),We(f,"link",o),n.state.loading|=4,Nc(f,a.precedence,e),n.instance=f;case"script":return f=uo(a.src),(h=e.querySelector(Ll(f)))?(n.instance=h,xe(h),h):(o=a,(h=ni.get(f))&&(o=w({},a),xd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),We(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,a.precedence,e));return n.instance}function Nc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var xc=null;function C_(e,n,a){if(xc===null){var o=new Map,h=xc=new Map;h.set(a,o)}else h=xc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Te]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function N_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Vb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kb(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=lo(o.href),f=n.querySelector(Ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Dc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,xe(f);return}f=n.ownerDocument||n,o=R_(o),(h=ni.get(h))&&Nd(o,h),f=f.createElement("link"),xe(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),We(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Dc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function Ub(e,n){return e.stylesheets&&e.count===0&&Mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Dd===0&&(Dd=62500*gb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Dd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oc=null;function Mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oc=new Map,n.forEach(Lb,e),Oc=null,Dc.call(e))}function Lb(e,n){if(!(n.state.loading&4)){var a=Oc.get(e);if(a)var o=a.get(null);else{a=new Map,Oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Pl={$$typeof:vt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function Pb(e,n,a,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function D_(e,n,a,o,h,f,g,E,C,z,G,X){return e=new Pb(e,n,a,g,C,z,G,X,E),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),e.current=f,f.stateNode=e,n=cf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},mf(f),e}function O_(e){return e?(e=ja,e):ja}function M_(e,n,a,o,h,f){h=O_(h),o.context===null?o.context=h:o.pendingContext=h,o=Yr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Xr(e,o,n),a!==null&&(Tn(a,e,n),gl(a,e,n))}function V_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Od(e,n){V_(e,n),(e=e.alternate)&&V_(e,n)}function k_(e){if(e.tag===13||e.tag===31){var n=Qs(e,67108864);n!==null&&Tn(n,e,67108864),Od(e,67108864)}}function U_(e){if(e.tag===13||e.tag===31){var n=Pn();n=nr(n);var a=Qs(e,n);a!==null&&Tn(a,e,n),Od(e,n)}}var Vc=!0;function zb(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,Md(e,n,a,o)}finally{nt.p=f,F.T=h}}function jb(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,Md(e,n,a,o)}finally{nt.p=f,F.T=h}}function Md(e,n,a,o){if(Vc){var h=Vd(o);if(h===null)vd(e,n,o,kc,a),P_(e,o);else if(qb(h,e,n,a,o))o.stopPropagation();else if(P_(e,o),n&4&&-1<Bb.indexOf(e)){for(;h!==null;){var f=mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Rn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ge(g);E.entanglements[1]|=C,g&=~C}Li(f),(Qt&6)===0&&(yc=Fe()+500,Ol(0))}}break;case 31:case 13:E=Qs(f,2),E!==null&&Tn(E,f,2),vc(),Od(f,2)}if(f=Vd(o),f===null&&vd(e,n,o,kc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(e,n,o,null,a)}}function Vd(e){return e=Kn(e),kd(e)}var kc=null;function kd(e){if(kc=null,e=Ge(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return kc=e,null}function L_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bi()){case Ai:return 2;case Xi:return 8;case si:case ba:return 32;case $i:return 268435456;default:return 32}default:return 32}}var Ud=!1,as=null,os=null,ls=null,zl=new Map,jl=new Map,us=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(e,n){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function Bl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=mn(n),n!==null&&k_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function qb(e,n,a,o,h){switch(n){case"focusin":return as=Bl(as,e,n,a,o,h),!0;case"dragenter":return os=Bl(os,e,n,a,o,h),!0;case"mouseover":return ls=Bl(ls,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return zl.set(f,Bl(zl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,jl.set(f,Bl(jl.get(f)||null,e,n,a,o,h)),!0}return!1}function z_(e){var n=Ge(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,In(e.priority,function(){U_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,In(e.priority,function(){U_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);tl=o,a.target.dispatchEvent(o),tl=null}else return n=mn(a),n!==null&&k_(n),e.blockedOn=a,!1;n.shift()}return!0}function j_(e,n,a){Uc(e)&&a.delete(n)}function Hb(){Ud=!1,as!==null&&Uc(as)&&(as=null),os!==null&&Uc(os)&&(os=null),ls!==null&&Uc(ls)&&(ls=null),zl.forEach(j_),jl.forEach(j_)}function Lc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hb)))}var Pc=null;function B_(e){Pc!==e&&(Pc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pc===e&&(Pc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(kd(o||a)===null)continue;break}var f=mn(a);f!==null&&(e.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function co(e){function n(C){return Lc(C,e)}as!==null&&Lc(as,e),os!==null&&Lc(os,e),ls!==null&&Lc(ls,e),zl.forEach(n),jl.forEach(n);for(var a=0;a<us.length;a++){var o=us[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<us.length&&(a=us[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&us.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Ne]||null;if(typeof f=="function")g||B_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ne]||null)E=g.formAction;else if(kd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),B_(a)}}}function q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(e){this._internalRoot=e}zc.prototype.render=Ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Pn();M_(a,o,e,n,null,null)},zc.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;M_(e.current,2,null,e,null,null),vc(),n[j]=null}};function zc(e){this._internalRoot=e}zc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ra();e={blockedOn:null,target:e,priority:n};for(var a=0;a<us.length&&n!==0&&n<us[a].priority;a++);us.splice(a,0,e),a===0&&z_(e)}};var H_=t.version;if(H_!=="19.2.4")throw Error(s(527,H_,"19.2.4"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Fb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{wn=jc.inject(Fb),je=jc}catch{}}return Hl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=$g,f=Jg,g=Zg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=D_(e,1,!1,null,null,a,o,null,h,f,g,q_),e[j]=n.current,_d(e),new Ld(n)},Hl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=$g,g=Jg,E=Zg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=D_(e,1,!0,n,a??null,o,h,C,f,g,E,q_),n.context=O_(null),a=n.current,o=Pn(),o=nr(o),h=Yr(o),h.callback=null,Xr(a,h,o),a=o,n.current.lanes=a,Wi(n,a),Li(n),e[j]=n.current,_d(e),new zc(n)},Hl.version="19.2.4",Hl}var tv;function eA(){if(tv)return jd.exports;tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=tA(),jd.exports}var nA=eA();const H0=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim();const iA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const rA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase());const ev=r=>{const t=rA(r);return t.charAt(0).toUpperCase()+t.slice(1)};var sA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aA=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const oA=Et.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},_)=>Et.createElement("svg",{ref:_,...sA,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:H0("lucide",l),...!c&&!aA(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Et.createElement(y,b)),...Array.isArray(c)?c:[c]]));const se=(r,t)=>{const i=Et.forwardRef(({className:s,...l},c)=>Et.createElement(oA,{ref:c,iconNode:t,className:H0(`lucide-${iA(ev(r))}`,`lucide-${r}`,s),...l}));return i.displayName=ev(r),i};const lA=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],uA=se("arrow-down",lA);const cA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hA=se("arrow-left",cA);const fA=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],dA=se("arrow-up",fA);const mA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],pA=se("briefcase",mA);const gA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nv=se("calendar",gA);const yA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],iv=se("circle-plus",yA);const _A=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],vA=se("cpu",_A);const EA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],TA=se("globe",EA);const bA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],AA=se("house",bA);const SA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Bc=se("image",SA);const wA=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],rv=se("key-round",wA);const RA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fd=se("loader-circle",RA);const IA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gd=se("lock",IA);const CA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sv=se("log-out",CA);const NA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Kd=se("maximize-2",NA);const xA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],av=se("message-square",xA);const DA=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],OA=se("palette",DA);const MA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],VA=se("send",MA);const kA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UA=se("settings",kA);const LA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],PA=se("sparkles",LA);const zA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ho=se("square-pen",zA);const jA=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],BA=se("text-align-start",jA);const qA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qc=se("trash-2",qA);const HA=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],FA=se("type",HA);const GA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],KA=se("upload",GA);const QA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],YA=se("user",QA);const XA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fo=se("x",XA),$A=()=>{};var ov={};const F0=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},JA=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},G0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,Y=y&63;_||(Y=64,d||(V=64)),s.push(i[b],i[w],i[V],i[Y])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(F0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):JA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new ZA;const V=c<<2|p>>4;if(s.push(V),y!==64){const Y=p<<4&240|y>>2;if(s.push(Y),w!==64){const W=y<<6&192|w;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WA=function(r){const t=F0(r);return G0.encodeByteArray(t,!0)},ah=function(r){return WA(r).replace(/\./g,"")},K0=function(r){try{return G0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eS=()=>tS().__FIREBASE_DEFAULTS__,nS=()=>{if(typeof process>"u"||typeof ov>"u")return;const r=ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&K0(r[1]);return t&&JSON.parse(t)},wh=()=>{try{return $A()||eS()||nS()||iS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Q0=r=>wh()?.emulatorHosts?.[r],rS=r=>{const t=Q0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Y0=()=>wh()?.config,X0=r=>wh()?.[`_${r}`];class sS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $0(r){return(await fetch(r,{credentials:"include"})).ok}function aS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ah(JSON.stringify(i)),ah(JSON.stringify(d)),""].join(".")}const Jl={};function oS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Jl))Jl[t]?r.emulator.push(t):r.prod.push(t);return r}function lS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let lv=!1;function J0(r,t){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||Jl[r]===t||Jl[r]||lv)return;Jl[r]=t;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=oS().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,Y){V.setAttribute("width","24"),V.setAttribute("id",Y),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{lv=!0,d()},V}function b(V,Y){V.setAttribute("id",Y),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function w(){const V=lS(s),Y=i("text"),W=document.getElementById(Y)||document.createElement("span"),it=i("learnmore"),rt=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),St=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const vt=V.element;p(vt),b(rt,it);const qt=y();_(St,mt),vt.append(St,W,rt,qt),document.body.appendChild(vt)}c?(W.innerText="Preview backend disconnected.",St.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(St.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function cS(){const r=wh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mS(){const r=un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pS(){return!cS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gS(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const _S="FirebaseError";class Nr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=_S,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?vS(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Nr(l,p,s)}}function vS(r,t){return r.replace(ES,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const ES=/\{\$([^}]+)}/g;function TS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ar(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(uv(c)&&uv(d)){if(!Ar(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function uv(r){return r!==null&&typeof r=="object"}function fu(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Gl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Kl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function bS(r,t){const i=new AS(r,t);return i.subscribe.bind(i)}class AS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");SS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Qd),l.error===void 0&&(l.error=Qd),l.complete===void 0&&(l.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Qd(){}function He(r){return r&&r._delegate?r._delegate:r}class fa{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const oa="[DEFAULT]";class wS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new sS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(IS(t))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oa){return this.instances.has(t)}getOptions(t=oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=oa){return this.component?this.component.multipleInstances?t:oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RS(r){return r===oa?void 0:r}function IS(r){return r.instantiationMode==="EAGER"}class CS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new wS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const NS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},xS=Pt.INFO,DS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},OS=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=DS[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dm{constructor(t){this.name=t,this._logLevel=xS,this._logHandler=OS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?NS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const MS=(r,t)=>t.some(i=>r instanceof i);let cv,hv;function VS(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z0=new WeakMap,sm=new WeakMap,W0=new WeakMap,Yd=new WeakMap,Om=new WeakMap;function US(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(_s(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Z0.set(i,r)}).catch(()=>{}),Om.set(t,r),t}function LS(r){if(sm.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});sm.set(r,t)}let am={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return sm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||W0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _s(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function PS(r){am=r(am)}function zS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Xd(this),t,...i);return W0.set(s,t.sort?t.sort():[t]),_s(s)}:kS().includes(r)?function(...t){return r.apply(Xd(this),t),_s(Z0.get(this))}:function(...t){return _s(r.apply(Xd(this),t))}}function jS(r){return typeof r=="function"?zS(r):(r instanceof IDBTransaction&&LS(r),MS(r,VS())?new Proxy(r,am):r)}function _s(r){if(r instanceof IDBRequest)return US(r);if(Yd.has(r))return Yd.get(r);const t=jS(r);return t!==r&&(Yd.set(r,t),Om.set(t,r)),t}const Xd=r=>Om.get(r);function BS(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=_s(d);return s&&d.addEventListener("upgradeneeded",_=>{s(_s(d.result),_.oldVersion,_.newVersion,_s(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const qS=["get","getKey","getAll","getAllKeys","count"],HS=["put","add","delete","clear"],$d=new Map;function fv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=HS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||qS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return $d.set(t,c),c}PS(r=>({...r,get:(t,i,s)=>fv(t,i)||r.get(t,i,s),has:(t,i)=>!!fv(t,i)||r.has(t,i)}));class FS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(GS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function GS(r){return r.getComponent()?.type==="VERSION"}const om="@firebase/app",dv="0.14.8";const Sr=new Dm("@firebase/app"),KS="@firebase/app-compat",QS="@firebase/analytics-compat",YS="@firebase/analytics",XS="@firebase/app-check-compat",$S="@firebase/app-check",JS="@firebase/auth",ZS="@firebase/auth-compat",WS="@firebase/database",tw="@firebase/data-connect",ew="@firebase/database-compat",nw="@firebase/functions",iw="@firebase/functions-compat",rw="@firebase/installations",sw="@firebase/installations-compat",aw="@firebase/messaging",ow="@firebase/messaging-compat",lw="@firebase/performance",uw="@firebase/performance-compat",cw="@firebase/remote-config",hw="@firebase/remote-config-compat",fw="@firebase/storage",dw="@firebase/storage-compat",mw="@firebase/firestore",pw="@firebase/ai",gw="@firebase/firestore-compat",yw="firebase",_w="12.9.0";const lm="[DEFAULT]",vw={[om]:"fire-core",[KS]:"fire-core-compat",[YS]:"fire-analytics",[QS]:"fire-analytics-compat",[$S]:"fire-app-check",[XS]:"fire-app-check-compat",[JS]:"fire-auth",[ZS]:"fire-auth-compat",[WS]:"fire-rtdb",[tw]:"fire-data-connect",[ew]:"fire-rtdb-compat",[nw]:"fire-fn",[iw]:"fire-fn-compat",[rw]:"fire-iid",[sw]:"fire-iid-compat",[aw]:"fire-fcm",[ow]:"fire-fcm-compat",[lw]:"fire-perf",[uw]:"fire-perf-compat",[cw]:"fire-rc",[hw]:"fire-rc-compat",[fw]:"fire-gcs",[dw]:"fire-gcs-compat",[mw]:"fire-fst",[gw]:"fire-fst-compat",[pw]:"fire-vertex","fire-js":"fire-js",[yw]:"fire-js-all"};const oh=new Map,Ew=new Map,um=new Map;function mv(r,t){try{r.container.addComponent(t)}catch(i){Sr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function wo(r){const t=r.name;if(um.has(t))return Sr.debug(`There were multiple attempts to register component ${t}.`),!1;um.set(t,r);for(const i of oh.values())mv(i,r);for(const i of Ew.values())mv(i,r);return!0}function Mm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function zn(r){return r==null?!1:r.settings!==void 0}const Tw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new hu("app","Firebase",Tw);class bw{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}const Uo=_w;function tE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:lm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw vs.create("bad-app-name",{appName:String(l)});if(i||(i=Y0()),!i)throw vs.create("no-options");const c=oh.get(l);if(c){if(Ar(i,c.options)&&Ar(s,c.config))return c;throw vs.create("duplicate-app",{appName:l})}const d=new CS(l);for(const _ of um.values())d.addComponent(_);const p=new bw(i,s,d);return oh.set(l,p),p}function eE(r=lm){const t=oh.get(r);if(!t&&r===lm&&Y0())return tE();if(!t)throw vs.create("no-app",{appName:r});return t}function Es(r,t,i){let s=vw[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Sr.warn(d.join(" "));return}wo(new fa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Aw="firebase-heartbeat-database",Sw=1,iu="firebase-heartbeat-store";let Jd=null;function nE(){return Jd||(Jd=BS(Aw,Sw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(iu)}catch(i){console.warn(i)}}}}).catch(r=>{throw vs.create("idb-open",{originalErrorMessage:r.message})})),Jd}async function ww(r){try{const i=(await nE()).transaction(iu),s=await i.objectStore(iu).get(iE(r));return await i.done,s}catch(t){if(t instanceof Nr)Sr.warn(t.message);else{const i=vs.create("idb-get",{originalErrorMessage:t?.message});Sr.warn(i.message)}}}async function pv(r,t){try{const s=(await nE()).transaction(iu,"readwrite");await s.objectStore(iu).put(t,iE(r)),await s.done}catch(i){if(i instanceof Nr)Sr.warn(i.message);else{const s=vs.create("idb-set",{originalErrorMessage:i?.message});Sr.warn(s.message)}}}function iE(r){return`${r.name}!${r.options.appId}`}const Rw=1024,Iw=30;class Cw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Iw){const l=Dw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Sr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gv(),{heartbeatsToSend:i,unsentEntries:s}=Nw(this._heartbeatsCache.heartbeats),l=ah(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Sr.warn(t),""}}}function gv(){return new Date().toISOString().substring(0,10)}function Nw(r,t=Rw){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),yv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class xw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gS()?yS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ww(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function yv(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function Dw(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function Ow(r){wo(new fa("platform-logger",t=>new FS(t),"PRIVATE")),wo(new fa("heartbeat",t=>new Cw(t),"PRIVATE")),Es(om,dv,r),Es(om,dv,"esm2020"),Es("fire-js","")}Ow("");var Mw="firebase",Vw="12.9.0";Es(Mw,Vw,"app");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ts,rE;(function(){var r;function t(N,S){function R(){}R.prototype=S.prototype,N.F=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(M,D,U){for(var I=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)I[ie-2]=arguments[ie];return S.prototype[D].apply(M,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)M[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],D=N.g[2];let U=N.g[3],I;I=S+(U^R&(D^U))+M[0]+3614090360&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(D^S&(R^D))+M[1]+3905402710&4294967295,U=S+(I<<12&4294967295|I>>>20),I=D+(R^U&(S^R))+M[2]+606105819&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(S^D&(U^S))+M[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(U^R&(D^U))+M[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(D^S&(R^D))+M[5]+1200080426&4294967295,U=S+(I<<12&4294967295|I>>>20),I=D+(R^U&(S^R))+M[6]+2821735955&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(S^D&(U^S))+M[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(U^R&(D^U))+M[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(D^S&(R^D))+M[9]+2336552879&4294967295,U=S+(I<<12&4294967295|I>>>20),I=D+(R^U&(S^R))+M[10]+4294925233&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(S^D&(U^S))+M[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(U^R&(D^U))+M[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(D^S&(R^D))+M[13]+4254626195&4294967295,U=S+(I<<12&4294967295|I>>>20),I=D+(R^U&(S^R))+M[14]+2792965006&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(S^D&(U^S))+M[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(D^U&(R^D))+M[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(S^R))+M[6]+3225465664&4294967295,U=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(U^S))+M[11]+643717713&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(D^U))+M[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(D^U&(R^D))+M[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(S^R))+M[10]+38016083&4294967295,U=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(U^S))+M[15]+3634488961&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(D^U))+M[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(D^U&(R^D))+M[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(S^R))+M[14]+3275163606&4294967295,U=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(U^S))+M[3]+4107603335&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(D^U))+M[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(D^U&(R^D))+M[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(S^R))+M[2]+4243563512&4294967295,U=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(U^S))+M[7]+1735328473&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(D^U))+M[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(R^D^U)+M[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^D)+M[8]+2272392833&4294967295,U=S+(I<<11&4294967295|I>>>21),I=D+(U^S^R)+M[11]+1839030562&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^S)+M[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(R^D^U)+M[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^D)+M[4]+1272893353&4294967295,U=S+(I<<11&4294967295|I>>>21),I=D+(U^S^R)+M[7]+4139469664&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^S)+M[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(R^D^U)+M[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^D)+M[0]+3936430074&4294967295,U=S+(I<<11&4294967295|I>>>21),I=D+(U^S^R)+M[3]+3572445317&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^S)+M[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(R^D^U)+M[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^D)+M[12]+3873151461&4294967295,U=S+(I<<11&4294967295|I>>>21),I=D+(U^S^R)+M[15]+530742520&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^S)+M[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(D^(R|~U))+M[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~D))+M[7]+1126891415&4294967295,U=S+(I<<10&4294967295|I>>>22),I=D+(S^(U|~R))+M[14]+2878612391&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~S))+M[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=S+(D^(R|~U))+M[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~D))+M[3]+2399980690&4294967295,U=S+(I<<10&4294967295|I>>>22),I=D+(S^(U|~R))+M[10]+4293915773&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~S))+M[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=S+(D^(R|~U))+M[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~D))+M[15]+4264355552&4294967295,U=S+(I<<10&4294967295|I>>>22),I=D+(S^(U|~R))+M[6]+2734768916&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~S))+M[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=S+(D^(R|~U))+M[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~D))+M[11]+3174756917&4294967295,U=S+(I<<10&4294967295|I>>>22),I=D+(S^(U|~R))+M[2]+718787259&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~S))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const R=S-this.blockSize,M=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=R;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(M[D++]=N.charCodeAt(U++),D==this.blockSize){l(this,M),D=0;break}}else for(;U<S;)if(M[D++]=N[U++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)N[S++]=this.g[R]>>>M&255;return N};function c(N,S){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;const R=[];let M=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;M&&U==S||(R[D]=U,M=!1)}this.g=R}var p={};function _(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return rt(y(-N));const S=[];let R=1;for(let M=0;N>=R;M++)S[M]=N/R|0,R*=4294967296;return new d(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return rt(b(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let M=w;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const I=parseInt(N.substring(U,U+D),S);D<8?(D=y(Math.pow(S,D)),M=M.j(D).add(y(I))):(M=M.j(R),M=M.add(y(I)))}return M}var w=_(0),V=_(1),Y=_(16777216);r=d.prototype,r.m=function(){if(it(this))return-rt(this).m();let N=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);N+=(M>=0?M:4294967296+M)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(it(this))return"-"+rt(this).toString(N);const S=y(Math.pow(N,6));var R=this;let M="";for(;;){const D=qt(R,S).g;R=mt(R,D.j(S));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,W(R))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function it(N){return N.h==-1}r.l=function(N){return N=mt(this,N),it(N)?-1:W(N)?0:1};function rt(N){const S=N.g.length,R=[];for(let M=0;M<S;M++)R[M]=~N.g[M];return new d(R,~N.h).add(V)}r.abs=function(){return it(this)?rt(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),R=[];let M=0;for(let D=0;D<=S;D++){let U=M+(this.i(D)&65535)+(N.i(D)&65535),I=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=I>>>16,U&=65535,I&=65535,R[D]=I<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function mt(N,S){return N.add(rt(S))}r.j=function(N){if(W(this)||W(N))return w;if(it(this))return it(N)?rt(this).j(rt(N)):rt(rt(this).j(N));if(it(N))return rt(this.j(rt(N)));if(this.l(Y)<0&&N.l(Y)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const U=this.i(M)>>>16,I=this.i(M)&65535,ie=N.i(D)>>>16,ue=N.i(D)&65535;R[2*M+2*D]+=I*ue,St(R,2*M+2*D),R[2*M+2*D+1]+=U*ue,St(R,2*M+2*D+1),R[2*M+2*D+1]+=I*ie,St(R,2*M+2*D+1),R[2*M+2*D+2]+=U*ie,St(R,2*M+2*D+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new d(R,0)};function St(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function vt(N,S){this.g=N,this.h=S}function qt(N,S){if(W(S))throw Error("division by zero");if(W(N))return new vt(w,w);if(it(N))return S=qt(rt(N),S),new vt(rt(S.g),rt(S.h));if(it(S))return S=qt(N,rt(S)),new vt(rt(S.g),S.h);if(N.g.length>30){if(it(N)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var R=V,M=S;M.l(N)<=0;)R=ae(R),M=ae(M);var D=Dt(R,1),U=Dt(M,1);for(M=Dt(M,2),R=Dt(R,2);!W(M);){var I=U.add(M);I.l(N)<=0&&(D=D.add(R),U=I),M=Dt(M,1),R=Dt(R,1)}return S=mt(N,D.j(S)),new vt(D,S)}for(D=w;N.l(S)>=0;){for(R=Math.max(1,Math.floor(N.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(R),I=U.j(S);it(I)||I.l(N)>0;)R-=M,U=y(R),I=U.j(S);W(U)&&(U=V),D=D.add(U),N=mt(N,I)}return new vt(D,N)}r.B=function(N){return qt(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&N.i(M);return new d(R,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|N.i(M);return new d(R,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^N.i(M);return new d(R,this.h^N.h)};function ae(N){const S=N.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(R,N.h)}function Dt(N,S){const R=S>>5;S%=32;const M=N.g.length-R,D=[];for(let U=0;U<M;U++)D[U]=S>0?N.i(U+R)>>>S|N.i(U+R+1)<<32-S:N.i(U+R);return new d(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,rE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Ts=d}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sE,Ql,aE,$c,cm,oE,lE,uE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var tt=Array(arguments.length-2),It=2;It<arguments.length;It++)tt[It-2]=arguments[It];return m.prototype[L].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let tt=0;tt<q;tt++)u[v+tt]=L[tt]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function rt(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,v){const T=vt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var vt=new it(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Dt=!1,N=new St,S=()=>{const u=Promise.resolve(void 0);ae=()=>{u.then(R)}};function R(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){rt(v)}var m=vt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ie,D),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ot(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Tt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=bt(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!T,L),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return L}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Se={};function Xt(u,m,v,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Xt(u,m[q],v,T,L);return null}return v=Or(v),u&&u[ue]?u.J(m,v,p(T)?!!T.capture:!1,L):Bn(u,m,v,!1,T,L)}function Bn(u,m,v,T,L,q){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let It=ri(u);if(It||(u[xt]=It=new st(u)),v=It.add(m,v,T,tt,q),v.proxy)return v;if(T=Ki(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(fn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ki(){function u(v){return m.call(u.src,u.listener,v)}const m=Dr;return u}function Ti(u,m,v,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ti(u,m[q],v,T,L);else T=p(T)?!!T.capture:!!T,v=Or(v),u&&u[ue]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=bt(m,v,T,L),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ri(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,L)),(v=u>-1?m[u]:null)&&Qi(v))}function Qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(fn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ri(m))?(gt(v,u),v.h==0&&(v.src=null,m[xt]=null)):ct(u)}}}function fn(u){return u in Se?Se[u]:Se[u]="on"+u}function Dr(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Qi(u),u=v.call(T,m)}return u}function ri(u){return u=u[xt],u instanceof st?u:null}var Yi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(u){return typeof u=="function"?u:(u[Yi]||(u[Yi]=function(m){return u.handleEvent(m)}),u[Yi])}function ce(){M.call(this),this.i=new st(this),this.M=this,this.G=null}w(ce,M),ce.prototype[ue]=!0,ce.prototype.removeEventListener=function(u,m,v,T){Ti(this,u,m,v,T)};function _e(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),et(m,L)}L=!0;let q,tt;if(v)for(tt=v.length-1;tt>=0;tt--)q=m.g=v[tt],L=qn(q,T,!0,m)&&L;if(q=m.g=u,L=qn(q,T,!0,m)&&L,L=qn(q,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)q=m.g=v[tt],L=qn(q,T,!1,m)&&L}ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},ce.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ce.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function qn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==v){const It=tt.listener,we=tt.ha||tt.src;tt.fa&&gt(u.i,tt),L=It.call(we,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ta(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Vs(u){u.g=Ta(()=>{u.g=null,u.i&&(u.i=!1,Vs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Fe extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(u){M.call(this),this.h=u,this.g={}}w(bi,M);var Ai=[];function Xi(u){Ot(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qi(m)},u),u.g={}}bi.prototype.N=function(){bi.Z.N.call(this),Xi(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var si=d.JSON.stringify,ba=d.JSON.parse,$i=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Sn(){}function Mr(){}var wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){D.call(this,"d")}w(je,D);function dn(){D.call(this,"c")}w(dn,D);var ge={},Aa=null;function ai(){return Aa=Aa||new ce}ge.Ia="serverreachability";function Sa(u){D.call(this,ge.Ia,u)}w(Sa,D);function Hn(u){const m=ai();_e(m,new Sa(m))}ge.STAT_EVENT="statevent";function Ji(u,m){D.call(this,ge.STAT_EVENT,u),this.stat=m}w(Ji,D);function ve(u){const m=ai();_e(m,new Ji(m,u))}ge.Ja="timingevent";function Rn(u,m){D.call(this,ge.Ja,u),this.size=m}w(Rn,D);function Fn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function rn(){this.g=!0}rn.prototype.ua=function(){this.g=!1};function wa(u,m,v,T,L,q){u.info(function(){if(u.g)if(q){var tt="",It=q.split("&");for(let Kt=0;Kt<It.length;Kt++){var we=It[Kt].split("=");if(we.length>1){const me=we[0];we=we[1];const Yn=me.split("_");tt=Yn.length>=2&&Yn[1]=="type"?tt+(me+"="+we+"&"):tt+(me+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function Zi(u,m,v,T,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+tt})}function Gn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fo(u,v)+(T?" "+T:"")})}function Wi(u,m){u.info(function(){return"TIMEOUT: "+m})}rn.prototype.info=function(){};function Fo(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return si(q)}catch{return m}}var tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},er={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ks;function nr(){}w(nr,Sn),nr.prototype.g=function(){return new XMLHttpRequest},ks=new nr;function oi(u){return encodeURIComponent(String(u))}function Ra(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function In(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new bi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cn}function Cn(){this.i=null,this.g="",this.h=!1}var Ee={},Ne={};function j(u,m,v){u.M=1,u.A=Us(De(m)),u.u=v,u.R=!0,Z(u,null)}function Z(u,m){u.F=Date.now(),Te(u),u.B=De(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Cn,u.g=Vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Fe(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ai[0]=L.toString()),L=Ai);for(let q=0;q<L.length;q++){const tt=Xt(v,L[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Hn(),wa(u.i,u.v,u.B,u.l,u.S,u.u)}In.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},In.prototype.Y=function(u){try{if(u==this.g)t:{const It=ci(this.g),we=this.g.ya(),Kt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||It!=4||we==7||(we==8||Kt<=0?Hn(3):Hn(2)),Ge(this);var m=this.g.ca();this.X=m;var v=ht(this);if(this.o=m==200,Zi(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var q=T;break e}}q=null}if(u=q)Gn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,ve(12),xn(this),mn(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<v.length;)if(me=kt(this,v),me==Ne){It==4&&(this.m=4,ve(14),u=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ee){this.m=4,ve(15),Gn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Gn(this.i,this.l,me,null),Si(this,me);if(oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)Gn(this.i,this.l,v,"[Invalid Chunked Response]"),xn(this),mn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),sl(tt),tt.P=!0,ve(11))}}else Gn(this.i,this.l,v,null),Si(this,v);It==4&&xn(this),this.o&&!this.K&&(It==4?xu(this.j,this):(this.o=!1,Te(this)))}else rr(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),xn(this),mn(this)}}}catch{}};function ht(u){if(!oe(u))return u.g.la();const m=Xe(u.g);if(m==="")return"";let v="";const T=m.length,L=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return xn(u),mn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function oe(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function kt(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ne:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ne:(m=m.slice(T,T+v),u.C=T+v,m)))}In.prototype.cancel=function(){this.K=!0,xn(this)};function Te(u){u.T=Date.now()+u.H,Nn(u,u.H)}function Nn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Fn(y(u.aa,u),m)}function Ge(u){u.D&&(d.clearTimeout(u.D),u.D=null)}In.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Wi(this.i,this.B),this.M!=2&&(Hn(),ve(17)),xn(this),this.m=2,mn(this)):Nn(this,this.T-u)};function mn(u){u.j.I==0||u.K||xu(u.j,u)}function xn(u){Ge(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Xi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ri(v.h,u))){if(!u.L&&Ri(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Va(v),Br(v);else break t;Hs(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Fn(y(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Oi(v,11)}else if((u.L||v.g==u)&&Va(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const me=Kt[0];if(!(me<=v.K))if(v.K=me,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Yn=Kt[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Mi=Kt[4];Mi!=null&&(v.za=Mi,v.j.info("SVER="+v.za));const hi=Kt[5];hi!=null&&typeof hi=="number"&&hi>0&&(T=1.5*hi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const fi=u.g;if(fi){const Fs=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var q=T.h;q.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Qo(q,q.h),q.h=null))}if(T.G){const ka=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(T.wa=ka,$t(T.J,T.G,ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Mu(T,T.L?T.ba:null,T.W),tt.L){Yo(T.h,tt);var It=tt,we=T.O;we&&(It.H=we),It.D&&(Ge(It),Te(It)),T.g=tt}else Cu(T);v.i.length>0&&Di(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Oi(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Oi(v,7):il(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}Hn(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function Go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function Ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Qo(u,m){u.g?u.g.add(m):u.h=m}function Yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Go.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,q=null;T>=0?(L=u[v].substring(0,T),q=u[v].substring(T+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,Ke(this,u.j),this.o=u.o,this.g=u.g,Vr(this,u.u),this.h=u.h,$o(this,Ru(u.i)),this.m=u.m):u&&(m=String(u).match(bu))?(this.l=!1,Ke(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),Vr(this,m[4]),this.h=Ii(m[5]||"",!0),$o(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ls(m,Ca,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ls(m,Ca,!0),"@"),u.push(oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ls(v,v.charAt(0)=="/"?Jo:Au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ls(v,Su)),u.join("")},Dn.prototype.resolve=function(u){const m=De(this);let v=!!u.j;v?Ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Vr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let tt=0;tt<L.length;){const It=L[tt++];It=="."?T&&tt==L.length&&q.push(""):It==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&tt==L.length&&q.push("")):(q.push(It),T=!0)}T=q.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?$o(m,Ru(u.i)):v=!!u.m,v&&(m.m=u.m),m};function De(u){return new Dn(u)}function Ke(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Vr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function $o(u,m,v){m instanceof Ur?(u.i=m,xa(u.i,u.l)):(v||(m=Ls(m,kr)),u.i=new Ur(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function Us(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ls(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,pn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ca=/[#\/\?@]/g,Au=/[#\?:]/g,Jo=/[#\?]/g,kr=/[#\?@]/g,Su=/#/g;function Ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ur.prototype,r.add=function(u,m){gn(this),this.i=null,u=Lr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function wu(u,m){gn(u),m=Lr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Zo(u,m){return gn(u),m=Lr(u,m),u.g.has(m)}r.forEach=function(u,m){gn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Wo(u,m){gn(u);let v=[];if(typeof m=="string")Zo(u,m)&&(v=v.concat(u.g.get(Lr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return gn(this),this.i=null,u=Lr(this,u),Zo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Wo(this,u),u.length>0?String(u[0]):m):m};function Na(u,m,v){wu(u,m),v.length>0&&(u.i=null,u.g.set(Lr(u,m),Y(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=oi(v);v=Wo(this,v);for(let q=0;q<v.length;q++){let tt=L;v[q]!==""&&(tt+="="+oi(v[q])),u.push(tt)}}return this.i=u.join("&")};function Ru(u){const m=new Ur;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Lr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function xa(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(wu(this,T),Na(this,L,v))},u)),u.j=m}function li(u,m){const v=new rn;if(d.Image){const T=new Image;T.onload=b(Kn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Kn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Kn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Kn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function tl(u,m){const v=new rn,T=new AbortController,L=setTimeout(()=>{T.abort(),Kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Kn(v,"TestPingServer: ok",!0,m):Kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Kn(v,"TestPingServer: error",!1,m)})}function Kn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Pr(){this.g=new $i}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ci,Sn),Ci.prototype.g=function(){return new Ps(this.i,this.h)};function Ps(u,m){ce.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Ps,ce),r=Ps.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zr(this):ui(this),this.readyState==3&&Da(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,zr(this))},r.Na=function(u){this.g&&(this.response=u,zr(this))},r.ga=function(){this.g&&zr(this)};function zr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let m="";return Ot(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function zs(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Qn(v),typeof u=="string"?v!=null&&oi(v):$t(u,m,v))}function Wt(u){ce.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Wt,ce);var Ni=/^https?$/i,el=["POST","PUT"];r=Wt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ks.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){js(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(el,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){js(this,q)}};function js(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,nl(u),ir(u)}function nl(u){u.A||(u.A=!0,_e(u,"complete"),_e(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,_e(this,"complete"),_e(this,"abort"),ir(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ir(this,!0)),Wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Bs(this):this.Xa())},r.Xa=function(){Bs(this)};function Bs(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(_e(u,"readystatechange"),ci(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let tt=String(u.D).match(bu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ni.test(tt?tt.toLowerCase():"")}v=T}if(v)_e(u,"complete"),_e(u,"success");else{u.o=6;try{var L=ci(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",nl(u)}}finally{ir(u)}}}}function ir(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||_e(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ba(m)}};function Xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function rr(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var v=Ra(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Tt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function jr(u){this.za=0,this.i=[],this.j=new rn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(u&&u.concurrentRequestLimit),this.Ba=new Pr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=jr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Mu(this,null,this.W),Di(this)};function il(u){if(Oa(u),u.I==3){var m=u.V++,v=De(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),qs(u,v),m=new In(u,u.j,m),m.M=2,m.A=Us(De(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Te(m)}Ou(u)}function Br(u){u.g&&(sl(u),u.g.cancel(),u.g=null)}function Oa(u){Br(u),u.v&&(d.clearTimeout(u.v),u.v=null),Va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!Ko(u.h)&&!u.m){u.m=!0;var m=u.Ea;ae||S(),Dt||(ae(),Dt=!0),N.add(m,u),u.D=0}}function Ma(u,m){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Fn(y(u.Ea,u,m),Du(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new In(this,this.j,u);let q=this.o;if(this.U&&(q?(q=x(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Iu(this,L,m),v=De(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),qs(this,v),q&&(this.R?m="headers="+oi(Qn(q))+"&"+m:this.u&&zs(v,this.u,q)),Qo(this.h,L),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),L.U=!0,j(L,v,null)):j(L,v,m),this.I=2}}else this.I==3&&(u?rl(this,u):this.i.length==0||Ko(this.h)||rl(this))};function rl(u,m){var v;m?v=m.l:v=u.V++;const T=De(u.J);$t(T,"SID",u.M),$t(T,"RID",v),$t(T,"AID",u.K),qs(u,T),u.u&&u.o&&zs(T,u.u,u.o),v=new In(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Iu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Qo(u.h,v),j(v,T,m)}function qs(u,m){u.H&&Ot(u.H,function(v,T){$t(m,T,v)}),u.l&&Ot({},function(v,T){$t(m,T,v)})}function Iu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let It=-1;for(;;){const we=["count="+v];It==-1?v>0?(It=L[0].g,we.push("ofs="+It)):It=0:we.push("ofs="+It);let Kt=!0;for(let me=0;me<v;me++){var q=L[me].g;const Yn=L[me].map;if(q-=It,q<0)It=Math.max(0,L[me].g-100),Kt=!1;else try{q="req"+q+"_"||"";try{var tt=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Mi,hi]of tt){let fi=hi;p(hi)&&(fi=si(hi)),we.push(q+Mi+"="+encodeURIComponent(fi))}}catch(Mi){throw we.push(q+"type="+encodeURIComponent("_badmap")),Mi}}catch{T&&T(Yn)}}if(Kt){tt=we.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function Cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ae||S(),Dt||(ae(),Dt=!0),N.add(m,u),u.A=0}}function Hs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Fn(y(u.Da,u),Du(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Fn(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Br(this),Nu(this))};function sl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Nu(u){u.g=new In(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=De(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),qs(u,m),u.u&&u.o&&zs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Us(De(m)),v.u=null,v.R=!0,Z(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Br(this),Hs(this),ve(19))};function Va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function xu(u,m){var v=null;if(u.g==m){Va(u),sl(u),u.g=null;var T=2}else if(Ri(u.h,m))v=m.G,Yo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ai(),_e(T,new Rn(T,v)),Di(u)}else Cu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ma(u,m)||T==2&&Hs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function Du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new Dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ke(T,"https"),Us(T),L?li(T.toString(),v):tl(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),Ou(u),Oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Ou(u){if(u.I=0,u.ja=[],u.l){const m=Xo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Mu(u,m,v){var T=v instanceof Dn?De(v):new Dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Vr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new Dn(null);T&&Ke(q,T),m&&(q.g=m),L&&Vr(q,L),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&$t(T,v,m),$t(T,"VER",u.ka),qs(u,T),T}function Vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new Ci({ab:v})):new Wt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function qr(){}qr.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){ce.call(this),this.g=new jr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new sr(this)}w(cn,ce),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){il(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=si(u),u=v);m.i.push(new xe(m.Ya++,u)),m.I==3&&Di(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,cn.Z.N.call(this)};function Uu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Uu,je);function Lu(){dn.call(this),this.status=1}w(Lu,dn);function sr(u){this.g=u}w(sr,ku),sr.prototype.ra=function(){_e(this.g,"a")},sr.prototype.qa=function(u){_e(this.g,new Uu(u))},sr.prototype.pa=function(u){_e(this.g,new Lu)},sr.prototype.oa=function(){_e(this.g,"b")},qr.prototype.createWebChannel=qr.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,uE=function(){return new qr},lE=function(){return ai()},oE=ge,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,$c=tr,er.COMPLETE="complete",aE=er,Mr.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",ce.prototype.listen=ce.prototype.J,Ql=Mr,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,sE=Wt}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let Lo="12.9.0";function kw(r){Lo=r}const da=new Dm("@firebase/firestore");function mo(){return da.logLevel}function ot(r,...t){if(da.logLevel<=Pt.DEBUG){const i=t.map(Vm);da.debug(`Firestore (${Lo}): ${r}`,...i)}}function wr(r,...t){if(da.logLevel<=Pt.ERROR){const i=t.map(Vm);da.error(`Firestore (${Lo}): ${r}`,...i)}}function ma(r,...t){if(da.logLevel<=Pt.WARN){const i=t.map(Vm);da.warn(`Firestore (${Lo}): ${r}`,...i)}}function Vm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,cE(r,s,i)}function cE(r,t,i){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw wr(s),new Error(s)}function Yt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||cE(t,l,s)}function Rt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Nr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ca{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class hE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Uw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(on.UNAUTHENTICATED)))}shutdown(){}}class Lw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Pw{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ca,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ca)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new hE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class zw{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jw{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new zw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=qw(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function zt(r,t){return r<t?-1:r>t?1:0}function hm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Zd(l)===Zd(c)?zt(l,c):Zd(l)?1:-1}return zt(r.length,t.length)}const Hw=55296,Fw=57343;function Zd(r){const t=r.charCodeAt(0);return t>=Hw&&t<=Fw}function Ro(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const Ev="__name__";class Pi{constructor(t,i,s){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&_t(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Pi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const s=Pi.isNumericId(t),l=Pi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Pi.extractNumericId(t).compare(Pi.extractNumericId(i)):hm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ts.fromString(t.substring(4,t.length-2))}}class le extends Pi{construct(t,i,s){return new le(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new at($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const Gw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Pi{construct(t,i,s){return new en(t,i,s)}static isValidIdentifier(t){return Gw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new en([Ev])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new at($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(i)}static emptyPath(){return new en([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(le.fromString(t))}static fromName(t){return new dt(le.fromString(t).popFirst(5))}static empty(){return new dt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new le(t.slice()))}}function fE(r,t,i){if(!i)throw new at($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Kw(r,t,i,s){if(t===!0&&s===!0)throw new at($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Tv(r){if(!dt.isDocumentKey(r))throw new at($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bv(r){if(dt.isDocumentKey(r))throw new at($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function dE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Rh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function bs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rh(r);throw new at($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Pe(r,t){const i={typeString:r};return t&&(i.value=t),i}function du(r,t){if(!dE(r))throw new at($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new at($.INVALID_ARGUMENT,i);return!0}const Av=-62135596800,Sv=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Sv);return new de(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Av)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sv}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(du(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Pe("string",de._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new de(0,0))}static max(){return new At(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ru=-1;function Qw(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(s===1e9?new de(i+1,0):new de(i,s));return new Ss(l,dt.empty(),t)}function Yw(r){return new Ss(r.readTime,r.key,ru)}class Ss{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Ss(At.min(),dt.empty(),ru)}static max(){return new Ss(At.max(),dt.empty(),ru)}}function Xw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:zt(r.largestBatchId,t.largestBatchId))}const $w="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Po(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==$w)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,s)=>{i(t)}))}static reject(t){return new J(((i,s)=>{s(t)}))}static waitFor(t){return new J(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const s of t)i=i.next((l=>l?J.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new J(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++p,p===c&&s(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new J(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function Zw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function zo(r){return r.name==="IndexedDbTransactionError"}class Ih{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ih.ce=-1;const Um=-1;function Ch(r){return r==null}function lh(r){return r===0&&1/r==-1/0}function Ww(r){return typeof r=="number"&&Number.isInteger(r)&&!lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const mE="";function t2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=wv(t)),t=e2(r.get(i),t);return wv(t)}function e2(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case mE:i+="";break;default:i+=c}}return i}function wv(r){return r+mE+""}function Rv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function xs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function pE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ye{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fc(this.root,t,this.comparator,!0)}}class Fc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??tn.RED,this.left=l??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new tn(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return tn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(t){return new Iv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class Iv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new jn([])}unionWith(t){let i=new qe(en.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ro(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class gE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new gE("Invalid base64 string: "+c):c}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const n2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const i=n2.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ce(r.seconds),nanos:Ce(r.nanos)}}function Ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Rs(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}const yE="server_timestamp",_E="__type__",vE="__previous_value__",EE="__local_write_time__";function Lm(r){return(r?.mapValue?.fields||{})[_E]?.stringValue===yE}function Nh(r){const t=r.mapValue.fields[vE];return Lm(t)?Nh(t):t}function su(r){const t=ws(r.mapValue.fields[EE].timestampValue);return new de(t.seconds,t.nanos)}class i2{constructor(t,i,s,l,c,d,p,_,y,b,w){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const uh="(default)";class au{constructor(t,i){this.projectId=t,this.database=i||uh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===uh}isEqual(t){return t instanceof au&&t.projectId===this.projectId&&t.database===this.database}}function r2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new at($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(r.options.projectId,t)}const TE="__type__",s2="__max__",Gc={mapValue:{}},bE="__vector__",ch="value";function Is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lm(r)?4:o2(r)?9007199254740991:a2(r)?10:11:_t(28295,{value:r})}function Gi(r,t){if(r===t)return!0;const i=Is(r);if(i!==Is(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return su(r).isEqual(su(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ws(l.timestampValue),p=ws(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Rs(l.bytesValue).isEqual(Rs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ce(l.geoPointValue.latitude)===Ce(c.geoPointValue.latitude)&&Ce(l.geoPointValue.longitude)===Ce(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ce(l.integerValue)===Ce(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ce(l.doubleValue),p=Ce(c.doubleValue);return d===p?lh(d)===lh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Ro(r.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Rv(d)!==Rv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Gi(d[_],p[_])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function ou(r,t){return(r.values||[]).find((i=>Gi(i,t)))!==void 0}function Io(r,t){if(r===t)return 0;const i=Is(r),s=Is(t);if(i!==s)return zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ce(c.integerValue||c.doubleValue),_=Ce(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return Cv(r.timestampValue,t.timestampValue);case 4:return Cv(su(r),su(t));case 5:return hm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Rs(c),_=Rs(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=zt(p[y],_[y]);if(b!==0)return b}return zt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=zt(Ce(c.latitude),Ce(d.latitude));return p!==0?p:zt(Ce(c.longitude),Ce(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Nv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[ch]?.arrayValue,b=_[ch]?.arrayValue,w=zt(y?.values?.length||0,b?.values?.length||0);return w!==0?w:Nv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Gc.mapValue&&d===Gc.mapValue)return 0;if(c===Gc.mapValue)return 1;if(d===Gc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let w=0;w<_.length&&w<b.length;++w){const V=hm(_[w],b[w]);if(V!==0)return V;const Y=Io(p[_[w]],y[b[w]]);if(Y!==0)return Y}return zt(_.length,b.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Cv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return zt(r,t);const i=ws(r),s=ws(t),l=zt(i.seconds,s.seconds);return l!==0?l:zt(i.nanos,s.nanos)}function Nv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Io(i[l],s[l]);if(c)return c}return zt(i.length,s.length)}function Co(r){return fm(r)}function fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=ws(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Rs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=fm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${fm(i.fields[d])}`;return l+"}"})(r.mapValue):_t(61005,{value:r})}function Jc(r){switch(Is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nh(r);return t?16+Jc(t):16;case 5:return 2*r.stringValue.length;case 6:return Rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Jc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return xs(s.fields,((c,d)=>{l+=c.length+Jc(d)})),l})(r.mapValue);default:throw _t(13486,{value:r})}}function xv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function dm(r){return!!r&&"integerValue"in r}function Pm(r){return!!r&&"arrayValue"in r}function Dv(r){return!!r&&"nullValue"in r}function Ov(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zc(r){return!!r&&"mapValue"in r}function a2(r){return(r?.mapValue?.fields||{})[TE]?.stringValue===bE}function Zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return xs(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Zl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Zl(r.arrayValue.values[i]);return t}return{...r}}function o2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===s2}class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zl(i)}setAll(t){let i=en.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Zl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){xs(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new An(Zl(this.value))}}function AE(r){const t=[];return xs(r.fields,((i,s)=>{const l=new en([i]);if(Zc(s)){const c=AE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new jn(t)}class ln{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new ln(t,0,At.min(),At.min(),At.min(),An.empty(),0)}static newFoundDocument(t,i,s,l){return new ln(t,1,i,At.min(),s,l,0)}static newNoDocument(t,i){return new ln(t,2,i,At.min(),At.min(),An.empty(),0)}static newUnknownDocument(t,i){return new ln(t,3,i,At.min(),At.min(),An.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(t,i){this.position=t,this.inclusive=i}}function Mv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=Io(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Vv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Gi(r.position[i],t.position[i]))return!1;return!0}class lu{constructor(t,i="asc"){this.field=t,this.dir=i}}function l2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class SE{}class Le extends SE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new c2(t,i,s):i==="array-contains"?new d2(t,s):i==="in"?new m2(t,s):i==="not-in"?new p2(t,s):i==="array-contains-any"?new g2(t,s):new Le(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new h2(t,s):new f2(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Io(i,this.value)):i!==null&&Is(this.value)===Is(i)&&this.matchesComparison(Io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends SE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new vi(t,i)}matches(t){return wE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wE(r){return r.op==="and"}function RE(r){return u2(r)&&wE(r)}function u2(r){for(const t of r.filters)if(t instanceof vi)return!1;return!0}function mm(r){if(r instanceof Le)return r.field.canonicalString()+r.op.toString()+Co(r.value);if(RE(r))return r.filters.map((t=>mm(t))).join(",");{const t=r.filters.map((i=>mm(i))).join(",");return`${r.op}(${t})`}}function IE(r,t){return r instanceof Le?(function(s,l){return l instanceof Le&&s.op===l.op&&s.field.isEqual(l.field)&&Gi(s.value,l.value)})(r,t):r instanceof vi?(function(s,l){return l instanceof vi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&IE(d,l.filters[p])),!0):!1})(r,t):void _t(19439)}function CE(r){return r instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${Co(i.value)}`})(r):r instanceof vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(CE).join(" ,")+"}"})(r):"Filter"}class c2 extends Le{constructor(t,i,s){super(t,i,s),this.key=dt.fromName(s.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class h2 extends Le{constructor(t,i){super(t,"in",i),this.keys=NE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class f2 extends Le{constructor(t,i){super(t,"not-in",i),this.keys=NE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function NE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class d2 extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&ou(i.arrayValue,this.value)}}class m2 extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ou(this.value.arrayValue,i)}}class p2 extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ou(this.value.arrayValue,i)}}class g2 extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ou(this.value.arrayValue,s)))}}class y2{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function kv(r,t=null,i=[],s=[],l=null,c=null,d=null){return new y2(r,t,i,s,l,c,d)}function zm(r){const t=Rt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>mm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Co(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Co(s))).join(",")),t.Te=i}return t.Te}function jm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!l2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!IE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Vv(r.startAt,t.startAt)&&Vv(r.endAt,t.endAt)}function pm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class jo{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _2(r,t,i,s,l,c,d,p){return new jo(r,t,i,s,l,c,d,p)}function Bm(r){return new jo(r)}function Uv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function v2(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function xE(r){return r.collectionGroup!==null}function Wl(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new qe(en.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new lu(c,s))})),i.has(en.keyField().canonicalString())||t.Ie.push(new lu(en.keyField(),s))}return t.Ie}function zi(r){const t=Rt(r);return t.Ee||(t.Ee=E2(t,Wl(r))),t.Ee}function E2(r,t){if(r.limitType==="F")return kv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new lu(l.field,c)}));const i=r.endAt?new hh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new hh(r.startAt.position,r.startAt.inclusive):null;return kv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function gm(r,t){const i=r.filters.concat([t]);return new jo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function T2(r,t){const i=r.explicitOrderBy.concat([t]);return new jo(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function ym(r,t,i){return new jo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function xh(r,t){return jm(zi(r),zi(t))&&r.limitType===t.limitType}function DE(r){return`${zm(zi(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>CE(l))).join(", ")}]`),Ch(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Co(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Co(l))).join(",")),`Target(${s})`})(zi(r))}; limitType=${r.limitType})`}function Dh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Wl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const y=Mv(d,p,_);return d.inclusive?y<=0:y<0})(s.startAt,Wl(s),l)||s.endAt&&!(function(d,p,_){const y=Mv(d,p,_);return d.inclusive?y>=0:y>0})(s.endAt,Wl(s),l))})(r,t)}function b2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function OE(r){return(t,i)=>{let s=!1;for(const l of Wl(r)){const c=A2(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function A2(r,t,i){const s=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Io(_,y):_t(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}class ya{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){xs(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return pE(this.inner)}size(){return this.innerSize}}const S2=new ye(dt.comparator);function Rr(){return S2}const ME=new ye(dt.comparator);function Yl(...r){let t=ME;for(const i of r)t=t.insert(i.key,i);return t}function VE(r){let t=ME;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function ua(){return tu()}function kE(){return tu()}function tu(){return new ya((r=>r.toString()),((r,t)=>r.isEqual(t)))}const w2=new ye(dt.comparator),R2=new qe(dt.comparator);function jt(...r){let t=R2;for(const i of r)t=t.add(i);return t}const I2=new qe(zt);function C2(){return I2}function qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(t)?"-0":t}}function UE(r){return{integerValue:""+r}}function N2(r,t){return Ww(t)?UE(t):qm(r,t)}class Oh{constructor(){this._=void 0}}function x2(r,t,i){return r instanceof fh?(function(l,c){const d={fields:{[_E]:{stringValue:yE},[EE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lm(c)&&(c=Nh(c)),c&&(d.fields[vE]=c),{mapValue:d}})(i,t):r instanceof No?PE(r,t):r instanceof xo?zE(r,t):(function(l,c){const d=LE(l,c),p=Lv(d)+Lv(l.Ae);return dm(d)&&dm(l.Ae)?UE(p):qm(l.serializer,p)})(r,t)}function D2(r,t,i){return r instanceof No?PE(r,t):r instanceof xo?zE(r,t):i}function LE(r,t){return r instanceof dh?(function(s){return dm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class fh extends Oh{}class No extends Oh{constructor(t){super(),this.elements=t}}function PE(r,t){const i=jE(t);for(const s of r.elements)i.some((l=>Gi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class xo extends Oh{constructor(t){super(),this.elements=t}}function zE(r,t){let i=jE(t);for(const s of r.elements)i=i.filter((l=>!Gi(l,s)));return{arrayValue:{values:i}}}class dh extends Oh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Lv(r){return Ce(r.integerValue||r.doubleValue)}function jE(r){return Pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class BE{constructor(t,i){this.field=t,this.transform=i}}function O2(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof No&&l instanceof No||s instanceof xo&&l instanceof xo?Ro(s.elements,l.elements,Gi):s instanceof dh&&l instanceof dh?Gi(s.Ae,l.Ae):s instanceof fh&&l instanceof fh})(r.transform,t.transform)}class M2{constructor(t,i){this.version=t,this.transformResults=i}}class yi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new yi}static exists(t){return new yi(void 0,t)}static updateTime(t){return new yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Mh{}function qE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Hm(r.key,yi.none()):new mu(r.key,r.data,yi.none());{const i=r.data,s=An.empty();let l=new qe(en.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Ds(r.key,s,new jn(l.toArray()),yi.none())}}function V2(r,t,i){r instanceof mu?(function(l,c,d){const p=l.value.clone(),_=zv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Ds?(function(l,c,d){if(!Wc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=zv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(HE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function eu(r,t,i,s){return r instanceof mu?(function(c,d,p,_){if(!Wc(c.precondition,d))return p;const y=c.value.clone(),b=jv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,s):r instanceof Ds?(function(c,d,p,_){if(!Wc(c.precondition,d))return p;const y=jv(c.fieldTransforms,_,d),b=d.data;return b.setAll(HE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,s):(function(c,d,p){return Wc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function k2(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=LE(s.transform,l||null);c!=null&&(i===null&&(i=An.empty()),i.set(s.field,c))}return i||null}function Pv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ro(s,l,((c,d)=>O2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class mu extends Mh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ds extends Mh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function HE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function zv(r,t,i){const s=new Map;Yt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,D2(d,p,i[l]))}return s}function jv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,x2(c,d,t))}return s}class Hm extends Mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U2 extends Mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class L2{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&V2(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=eu(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=eu(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=kE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=qE(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&Ro(this.mutations,t.mutations,((i,s)=>Pv(i,s)))&&Ro(this.baseMutations,t.baseMutations,((i,s)=>Pv(i,s)))}}class Fm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Yt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return w2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Fm(t,i,s,l)}}class P2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class z2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ue,Ht;function j2(r){switch(r){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function FE(r){if(r===void 0)return wr("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ue.OK:return $.OK;case Ue.CANCELLED:return $.CANCELLED;case Ue.UNKNOWN:return $.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return $.INTERNAL;case Ue.UNAVAILABLE:return $.UNAVAILABLE;case Ue.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ue.NOT_FOUND:return $.NOT_FOUND;case Ue.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ue.ABORTED:return $.ABORTED;case Ue.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ue.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:r})}}(Ht=Ue||(Ue={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function B2(){return new TextEncoder}const q2=new Ts([4294967295,4294967295],0);function Bv(r){const t=B2().encode(r),i=new rE;return i.update(t),new Uint8Array(i.digest())}function qv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ts([i,s],0),new Ts([l,c],0)]}class Gm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Xl(`Invalid padding: ${i}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ts.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Ts.fromNumber(s)));return l.compare(q2)===1&&(l=new Ts([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Bv(t),[s,l]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Gm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Bv(t),[s,l]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,pu.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Vh(At.min(),l,new ye(zt),Rr(),jt())}}class pu{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new pu(s,i,jt(),jt(),jt())}}class th{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.De=l}}class GE{constructor(t,i){this.targetId=t,this.Ce=i}}class KE{constructor(t,i,s=nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Hv{constructor(){this.ve=0,this.Fe=Fv(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),s=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:_t(38017,{changeType:c})}})),new pu(this.Me,this.xe,t,i,s)}Ke(){this.Oe=!1,this.Fe=Fv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class H2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Rr(),this.He=Kc(),this.Je=Kc(),this.Ze=new ye(zt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(pm(c))if(s===0){const d=new dt(c.path);this.et(i,d,ln.newNoDocument(d,At.min()))}else Yt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Rs(s).toUint8Array()}catch(_){if(_ instanceof gE)return ma("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Gm(d,l,c)}catch(_){return ma(_ instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&pm(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,ln.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=jt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Vh(t,i,this.Ze,this.je,s);return this.je=Rr(),this.He=Kc(),this.Je=Kc(),this.Ze=new ye(zt),l}Ye(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Hv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new qe(zt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new qe(zt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Hv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Kc(){return new ye(dt.comparator)}function Fv(){return new ye(dt.comparator)}const F2={asc:"ASCENDING",desc:"DESCENDING"},G2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K2={and:"AND",or:"OR"};class Q2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function _m(r,t){return r.useProto3Json||Ch(t)?t:{value:t}}function mh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function QE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Y2(r,t){return mh(r,t.toTimestamp())}function ji(r){return Yt(!!r,49232),At.fromTimestamp((function(i){const s=ws(i);return new de(s.seconds,s.nanos)})(r))}function Km(r,t){return vm(r,t).canonicalString()}function vm(r,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function YE(r){const t=le.fromString(r);return Yt(WE(t),10190,{key:t.toString()}),t}function Em(r,t){return Km(r.databaseId,t.path)}function Wd(r,t){const i=YE(t);if(i.get(1)!==r.databaseId.projectId)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt($E(i))}function XE(r,t){return Km(r.databaseId,t)}function X2(r){const t=YE(r);return t.length===4?le.emptyPath():$E(t)}function Tm(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $E(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Gv(r,t,i){return{name:Em(r,t),fields:i.value.mapValue.fields}}function $2(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Yt(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(Yt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?$.UNKNOWN:FE(y.code);return new at(b,y.message||"")})(d);i=new KE(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Wd(r,s.document.name),c=ji(s.document.updateTime),d=s.document.createTime?ji(s.document.createTime):At.min(),p=new An({mapValue:{fields:s.document.fields}}),_=ln.newFoundDocument(l,c,d,p),y=s.targetIds||[],b=s.removedTargetIds||[];i=new th(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Wd(r,s.document),c=s.readTime?ji(s.readTime):At.min(),d=ln.newNoDocument(l,c),p=s.removedTargetIds||[];i=new th([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Wd(r,s.document),c=s.removedTargetIds||[];i=new th([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new z2(l,c),p=s.targetId;i=new GE(p,d)}}return i}function J2(r,t){let i;if(t instanceof mu)i={update:Gv(r,t.key,t.value)};else if(t instanceof Hm)i={delete:Em(r,t.key)};else if(t instanceof Ds)i={update:Gv(r,t.key,t.data),updateMask:aR(t.fieldMask)};else{if(!(t instanceof U2))return _t(16599,{dt:t.type});i={verify:Em(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof fh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof No)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof dh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Y2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,t.precondition)),i}function Z2(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(At.min())&&(d=ji(c)),new M2(d,l.transformResults||[])})(i,t)))):[]}function W2(r,t){return{documents:[XE(r,t.path)]}}function tR(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=XE(r,l);const c=(function(y){if(y.length!==0)return ZE(vi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(V){return{field:go(V.field),direction:iR(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=_m(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function eR(r){let t=X2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Yt(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const V=JE(w);return V instanceof vi&&RE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(W){return new lu(yo(W.field),(function(rt){switch(rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let V;return V=typeof w=="object"?w.value:w,Ch(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(w){const V=!!w.before,Y=w.values||[];return new hh(Y,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const V=!w.before,Y=w.values||[];return new hh(Y,V)})(i.endAt)),_2(t,l,d,c,p,"F",_,y)}function nR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function JE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=yo(i.unaryFilter.field);return Le.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=yo(i.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=yo(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=yo(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Le.create(yo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return vi.create(i.compositeFilter.filters.map((s=>JE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function iR(r){return F2[r]}function rR(r){return G2[r]}function sR(r){return K2[r]}function go(r){return{fieldPath:r.canonicalString()}}function yo(r){return en.fromServerFormat(r.fieldPath)}function ZE(r){return r instanceof Le?(function(i){if(i.op==="=="){if(Ov(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NAN"}};if(Dv(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ov(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NOT_NAN"}};if(Dv(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(i.field),op:rR(i.op),value:i.value}}})(r):r instanceof vi?(function(i){const s=i.getFilters().map((l=>ZE(l)));return s.length===1?s[0]:{compositeFilter:{op:sR(i.op),filters:s}}})(r):_t(54877,{filter:r})}function aR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function WE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function tT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ys{constructor(t,i,s,l,c=At.min(),d=At.min(),p=nn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class oR{constructor(t){this.yt=t}}function lR(r){const t=eR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ym(t,t.limit,"L"):t}class uR{constructor(){this.Sn=new cR}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Ss.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Ss.min())}updateCollectionGroup(t,i,s){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class cR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new qe(le.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new qe(le.comparator)).toArray()}}const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eT=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(eT,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Do{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Do(0)}static ar(){return new Do(-1)}}const Qv="LruGarbageCollector",hR=1048576;function Yv([r,t],[i,s]){const l=zt(r,i);return l===0?zt(t,s):l}class fR{constructor(t){this.Pr=t,this.buffer=new qe(Yv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Yv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(Qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){zo(i)?ot(Qv,"Ignoring IndexedDB error during garbage collection: ",i):await Po(i)}await this.Ar(3e5)}))}}class mR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(Ih.ce);const s=new fR(i);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Kv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let s,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(s=w,p=Date.now(),this.removeTargets(t,s,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((w=>(y=Date.now(),mo()<=Pt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function pR(r,t){return new mR(r,t)}class gR{constructor(){this.changes=new ya((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class yR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class _R{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&eu(s.mutation,l,jn.empty(),de.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=jt()){const l=ua();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Yl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=ua();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,jt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=Rr();const d=tu(),p=(function(){return tu()})();return i.forEach(((_,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Ds)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),eu(b.mutation,y,b.mutation.getFieldMask(),de.now())):d.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new yR(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=tu();let l=new ye(((d,p)=>d-p)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=s.get(_)||jn.empty();b=p.applyToLocalView(y,b),s.set(_,b);const w=(l.get(p.batchId)||jt()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,w=kE();b.forEach((V=>{if(!c.has(V)){const Y=qE(i.get(V),s.get(V));Y!==null&&w.set(V,Y),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return v2(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):xE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):J.resolve(ua());let p=ru,_=c;return d.next((y=>J.forEach(y,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{_=_.insert(b,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,jt()))).next((b=>({batchId:p,changes:VE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((s=>{let l=Yl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(_=>{const y=(function(w,V){return new jo(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((b=>{b.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,ln.newInvalidDocument(b)))}));let p=Yl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&eu(b.mutation,y,jn.empty(),de.now()),Dh(i,y)&&(p=p.insert(_,y))})),p}))}}class vR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:lR(l.bundledQuery),readTime:ji(l.readTime)}})(i)),J.resolve()}}class ER{constructor(){this.overlays=new ye(dt.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const s=ua();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),J.resolve()}getOverlaysForCollection(t,i,s){const l=ua(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ye(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let b=c.get(y.largestBatchId);b===null&&(b=ua(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=ua(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return J.resolve(p)}bt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new P2(i,s));let c=this.Lr.get(i);c===void 0&&(c=jt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class TR{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Qm{constructor(){this.kr=new qe(Ye.Kr),this.qr=new qe(Ye.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const s=new Ye(t,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new Ye(t,i))}Qr(t,i){t.forEach((s=>this.removeReference(s,i)))}Gr(t){const i=new dt(new le([])),s=new Ye(i,t),l=new Ye(i,t+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new le([])),s=new Ye(i,t),l=new Ye(i,t+1);let c=jt();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ye(t,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ye{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||zt(t.Hr,i.Hr)}static Ur(t,i){return zt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class bR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new qe(Ye.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new L2(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Ye(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Um:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ye(i,0),l=new Ye(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new qe(zt);return i.forEach((l=>{const c=new Ye(l,0),d=new Ye(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),J.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ye(new dt(c),0);let p=new qe(zt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return J.forEach(i.mutations,(l=>{const c=new Ye(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,i){const s=new Ye(i,0),l=this.Jr.firstAfterOrEqual(s);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class AR{constructor(t){this.ti=t,this.docs=(function(){return new ye(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(t,i){let s=Rr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():ln.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Rr();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Xw(Yw(b),s)<=0||(l.has(b.key)||Dh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,s,l){_t(9500)}ni(t,i){return J.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new SR(this)}getSize(t){return J.resolve(this.size)}}class SR extends gR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class wR{constructor(t){this.persistence=t,this.ri=new ya((i=>zm(i)),jm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new Qm,this.targetCount=0,this.oi=Do._r()}forEachTarget(t,i){return this.ri.forEach(((s,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Do(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const s=this.ri.get(i)||null;return J.resolve(s)}addMatchingKeys(t,i,s){return this.si.$r(i,s),J.resolve()}removeMatchingKeys(t,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const s=this.si.jr(i);return J.resolve(s)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class nT{constructor(t,i){this._i={},this.overlays={},this.ai=new Ih(0),this.ui=!1,this.ui=!0,this.ci=new TR,this.referenceDelegate=t(this),this.li=new wR(this),this.indexManager=new uR,this.remoteDocumentCache=(function(l){return new AR(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new oR(i),this.Pi=new vR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new ER,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this._i[t.toKey()];return s||(s=new bR(i,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,s){ot("MemoryPersistence","Starting transaction:",t);const l=new RR(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((s=>()=>s.containsKey(t,i))))}}class RR extends Jw{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Qm,this.Ai=null}static Vi(t){return new Ym(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),J.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(s=>{const l=dt.fromPath(s);return this.mi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ph{constructor(t,i){this.persistence=t,this.fi=new ya((s=>t2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=pR(this,i)}static Vi(t,i){return new ph(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}pr(t){let i=0;return this.mr(t,(s=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(s++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Jc(t.data.value)),i}wr(t,i,s){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Ts=s,this.Is=l}static Es(t,i){let s=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xm(t,i.fromCache,s,l)}}class IR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class CR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return pS()?8:Zw(un())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new IR;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,s,l){return s.documentReadCount<this.Vs?(mo()<=Pt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",po(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(mo()<=Pt.DEBUG&&ot("QueryEngine","Query:",po(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(mo()<=Pt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",po(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(i))):J.resolve())}gs(t,i){if(Uv(i))return J.resolve(null);let s=zi(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),s=zi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=jt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,ym(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,s,l){return Uv(i)||l.isEqual(At.min())?J.resolve(null):this.fs.getDocuments(t,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?J.resolve(null):(mo()<=Pt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),po(i)),this.Ds(t,d,i,Qw(l,ru)).next((p=>p)))}))}bs(t,i){let s=new qe(OE(t));return i.forEach(((l,c)=>{Dh(t,c)&&(s=s.add(c))})),s}Ss(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,s){return mo()<=Pt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",po(i)),this.fs.getDocumentsMatchingQuery(t,i,Ss.min(),s)}Ds(t,i,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",NR=3e8;class xR{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ye(zt),this.Fs=new ya((c=>zm(c)),jm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _R(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function DR(r,t,i,s){return new xR(r,t,i,s)}async function iT(r,t){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let _=jt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(s,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function OR(r,t){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const w=y.batch,V=w.keys();let Y=J.resolve();return V.forEach((W=>{Y=Y.next((()=>b.getEntry(_,W))).next((it=>{const rt=y.docVersions.get(W);Yt(rt!==null,48541),it.version.compareTo(rt)<0&&(w.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),b.addEntry(it)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=jt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function rT(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function MR(r,t){const i=Rt(r),s=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((b,w)=>{const V=l.get(w);if(!V)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let Y=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?Y=Y.withResumeToken(nn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(b.resumeToken,s)),l=l.insert(w,Y),(function(it,rt,mt){return it.resumeToken.approximateByteSize()===0||rt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=NR?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(V,Y,b)&&p.push(i.li.updateTargetData(c,Y))}));let _=Rr(),y=jt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(VR(c,d,t.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!s.isEqual(At.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(b)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function VR(r,t,i){let s=jt(),l=jt();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=Rr();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ot($m,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function kR(r,t){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function UR(r,t){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,t).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new ys(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(t,s.targetId)),s}))}async function bm(r,t,i){const s=Rt(r),l=s.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!zo(d))throw d;ot($m,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function Xv(r,t,i){const s=Rt(r);let l=At.min(),c=jt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const w=Rt(_),V=w.Fs.get(b);return V!==void 0?J.resolve(w.vs.get(V)):w.li.getTargetData(y,b)})(s,d,zi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:jt()))).next((p=>(LR(s,b2(t),p),{documents:p,ks:c})))))}function LR(r,t,i){let s=r.Ms.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(t,s)}class $v{constructor(){this.activeTargetIds=C2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PR{constructor(){this.vo=new $v,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,s){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new $v,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class zR{Mo(t){}shutdown(){}}const Jv="ConnectivityMonitor";class Zv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(Jv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(Jv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function Am(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const tm="RestConnection",jR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===uh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const d=Am(),p=this.Qo(t,i.toUriEncodedString());ot(tm,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=ko(y);return this.zo(t,p,_,s,b).then((w=>(ot(tm,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw ma(tm,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",s),w}))}jo(t,i,s,l,c,d){return this.Wo(t,i,s,l,c)}Go(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const s=jR[t];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class qR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const an="WebChannelConnection",Fl=(r,t,i)=>{r.listen(t,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class vo extends BR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!vo.c_){const t=lE();Fl(t,oE.STAT_EVENT,(i=>{i.stat===cm.PROXY?ot(an,"STAT_EVENT: detected buffering proxy"):i.stat===cm.NOPROXY&&ot(an,"STAT_EVENT: detected no buffering proxy")})),vo.c_=!0}}zo(t,i,s,l,c){const d=Am();return new Promise(((p,_)=>{const y=new sE;y.setWithCredentials(!0),y.listenOnce(aE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case $c.NO_ERROR:const w=y.getResponseJson();ot(an,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case $c.TIMEOUT:ot(an,`RPC '${t}' ${d} timed out`),_(new at($.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const V=y.getStatus();if(ot(an,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const W=Y?.error;if(W&&W.status&&W.message){const it=(function(mt){const St=mt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(St)>=0?St:$.UNKNOWN})(W.status);_(new at(it,W.message))}else _(new at($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new at($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(an,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ot(an,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,s,15)}))}T_(t,i,s){const l=Am(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const y=c.join("");ot(an,`Creating RPC '${t}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let w=!1,V=!1;const Y=new qR({Ho:W=>{V?ot(an,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(w||(ot(an,`Opening RPC '${t}' stream ${l} transport.`),b.open(),w=!0),ot(an,`RPC '${t}' stream ${l} sending:`,W),b.send(W))},Jo:()=>b.close()});return Fl(b,Ql.EventType.OPEN,(()=>{V||(ot(an,`RPC '${t}' stream ${l} transport opened.`),Y.i_())})),Fl(b,Ql.EventType.CLOSE,(()=>{V||(V=!0,ot(an,`RPC '${t}' stream ${l} transport closed`),Y.o_(),this.E_(b))})),Fl(b,Ql.EventType.ERROR,(W=>{V||(V=!0,ma(an,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Y.o_(new at($.UNAVAILABLE,"The operation could not be completed")))})),Fl(b,Ql.EventType.MESSAGE,(W=>{if(!V){const it=W.data[0];Yt(!!it,16349);const rt=it,mt=rt?.error||rt[0]?.error;if(mt){ot(an,`RPC '${t}' stream ${l} received error:`,mt);const St=mt.status;let vt=(function(Dt){const N=Ue[Dt];if(N!==void 0)return FE(N)})(St),qt=mt.message;St==="NOT_FOUND"&&qt.includes("database")&&qt.includes("does not exist")&&qt.includes(this.databaseId.database)&&ma(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),vt===void 0&&(vt=$.INTERNAL,qt="Unknown error status: "+St+" with message "+mt.message),V=!0,Y.o_(new at(vt,qt)),b.close()}else ot(an,`RPC '${t}' stream ${l} received:`,it),Y.__(it)}})),vo.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,s){super.Go(t,i,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return uE()}}function HR(r){return new vo(r)}function em(){return typeof document<"u"?document:null}function kh(r){return new Q2(r,!0)}vo.c_=!1;class sT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Wv="PersistentStream";class aT{constructor(t,i,s,l,c,d,p,_){this.Ci=t,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(wr(i.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new at($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(Wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FR extends aT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=$2(this.serializer,t),s=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ji(d.readTime):At.min()})(t);return this.listener.J_(i,s)}Z_(t){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=pm(_)?{documents:W2(c,_)}:{query:tR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=QE(c,d.resumeToken);const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=mh(c,d.snapshotVersion.toTimestamp());const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=nR(this.serializer,t);s&&(i.labels=s),this.K_(i)}X_(t){const i={};i.database=Tm(this.serializer),i.removeTarget=t,this.K_(i)}}class GR extends aT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Z2(t.writeResults,t.commitTime),s=ji(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=Tm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>J2(this.serializer,s)))};this.K_(i)}}class KR{}class QR extends KR{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,vm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at($.UNKNOWN,c.toString())}))}jo(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,vm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function YR(r,t,i,s){return new QR(r,t,i,s)}class XR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wr(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class $R{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{_a(this)&&(ot(pa,"Restarting streams for network reachability change."),await(async function(_){const y=Rt(_);y.Ea.add(4),await gu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Uh(y)})(this))}))})),this.Va=new XR(s,l)}}async function Uh(r){if(_a(r))for(const t of r.Ra)await t(!0)}async function gu(r){for(const t of r.Ra)await t(!1)}function oT(r,t){const i=Rt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),tp(i)?Wm(i):Bo(i).O_()&&Zm(i,t))}function Jm(r,t){const i=Rt(r),s=Bo(i);i.Ia.delete(t),s.O_()&&lT(i,t),i.Ia.size===0&&(s.O_()?s.L_():_a(i)&&i.Va.set("Unknown"))}function Zm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Bo(r).Z_(t)}function lT(r,t){r.da.$e(t),Bo(r).X_(t)}function Wm(r){r.da=new H2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Bo(r).start(),r.Va.ua()}function tp(r){return _a(r)&&!Bo(r).x_()&&r.Ia.size>0}function _a(r){return Rt(r).Ea.size===0}function uT(r){r.da=void 0}async function JR(r){r.Va.set("Online")}async function ZR(r){r.Ia.forEach(((t,i)=>{Zm(r,t)}))}async function WR(r,t){uT(r),tp(r)?(r.Va.ha(t),Wm(r)):r.Va.set("Unknown")}async function tI(r,t,i){if(r.Va.set("Online"),t instanceof KE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(s){ot(pa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await gh(r,s)}else if(t instanceof th?r.da.Xe(t):t instanceof GE?r.da.st(t):r.da.tt(t),!i.isEqual(At.min()))try{const s=await rT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),lT(c,_);const w=new ys(b.target,_,y,b.sequenceNumber);Zm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){ot(pa,"Failed to raise snapshot:",s),await gh(r,s)}}async function gh(r,t,i){if(!zo(t))throw t;r.Ea.add(1),await gu(r),r.Va.set("Offline"),i||(i=()=>rT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(pa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Uh(r)}))}function cT(r,t){return t().catch((i=>gh(r,i,t)))}async function Lh(r){const t=Rt(r),i=Cs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Um;for(;eI(t);)try{const l=await kR(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,nI(t,l)}catch(l){await gh(t,l)}hT(t)&&fT(t)}function eI(r){return _a(r)&&r.Ta.length<10}function nI(r,t){r.Ta.push(t);const i=Cs(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function hT(r){return _a(r)&&!Cs(r).x_()&&r.Ta.length>0}function fT(r){Cs(r).start()}async function iI(r){Cs(r).ra()}async function rI(r){const t=Cs(r);for(const i of r.Ta)t.ea(i.mutations)}async function sI(r,t,i){const s=r.Ta.shift(),l=Fm.from(s,t,i);await cT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Lh(r)}async function aI(r,t){t&&Cs(r).Y_&&await(async function(s,l){if((function(d){return j2(d)&&d!==$.ABORTED})(l.code)){const c=s.Ta.shift();Cs(s).B_(),await cT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Lh(s)}})(r,t),hT(r)&&fT(r)}async function t0(r,t){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),ot(pa,"RemoteStore received new credentials");const s=_a(i);i.Ea.add(3),await gu(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Uh(i)}async function oI(r,t){const i=Rt(r);t?(i.Ea.delete(2),await Uh(i)):t||(i.Ea.add(2),await gu(i),i.Va.set("Unknown"))}function Bo(r){return r.ma||(r.ma=(function(i,s,l){const c=Rt(i);return c.sa(),new FR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:JR.bind(null,r),Yo:ZR.bind(null,r),t_:WR.bind(null,r),J_:tI.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),tp(r)?Wm(r):r.Va.set("Unknown")):(await r.ma.stop(),uT(r))}))),r.ma}function Cs(r){return r.fa||(r.fa=(function(i,s,l){const c=Rt(i);return c.sa(),new GR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iI.bind(null,r),t_:aI.bind(null,r),ta:rI.bind(null,r),na:sI.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Lh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(pa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ep{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new ep(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,t){if(wr("AsyncQueue",`${t}: ${r}`),zo(r))return new at($.UNAVAILABLE,`${t}: ${r}`);throw r}class Eo{static emptySet(t){return new Eo(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Eo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class e0{constructor(){this.ga=new ye(dt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Oo{constructor(t,i,s,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Oo(t,i,Eo.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class lI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class uI{constructor(){this.queries=n0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Rt(i),c=l.queries;l.queries=n0(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new at($.ABORTED,"Firestore shutting down"))}}function n0(){return new ya((r=>DE(r)),xh)}async function cI(r,t){const i=Rt(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(s=2):(c=new lI,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=np(d,`Initialization of query '${po(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ip(i)}async function hI(r,t){const i=Rt(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function fI(r,t){const i=Rt(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&ip(i)}function dI(r,t,i){const s=Rt(r),l=s.queries.get(t);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(t)}function ip(r){r.Ca.forEach((t=>{t.next()}))}var Sm,i0;(i0=Sm||(Sm={})).Ma="default",i0.Cache="cache";class mI{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Oo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sm.Cache}}class dT{constructor(t){this.key=t}}class mT{constructor(t){this.key=t}}class pI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jt(),this.mutatedKeys=jt(),this.eu=OE(t),this.tu=new Eo(this.eu)}get nu(){return this.Za}ru(t,i){const s=i?i.iu:new e0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,w)=>{const V=l.get(b),Y=Dh(this.query,w)?w:null,W=!!V&&this.mutatedKeys.has(V.key),it=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let rt=!1;V&&Y?V.data.isEqual(Y.data)?W!==it&&(s.track({type:3,doc:Y}),rt=!0):this.su(V,Y)||(s.track({type:2,doc:Y}),rt=!0,(_&&this.eu(Y,_)>0||y&&this.eu(Y,y)<0)&&(p=!0)):!V&&Y?(s.track({type:0,doc:Y}),rt=!0):V&&!Y&&(s.track({type:1,doc:V}),rt=!0,(_||y)&&(p=!0)),rt&&(Y?(d=d.add(Y),c=it?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,w)=>(function(Y,W){const it=rt=>{switch(rt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:rt})}};return it(Y)-it(W)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new Oo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return t.forEach((s=>{this.Ya.has(s)||i.push(new mT(s))})),this.Ya.forEach((s=>{t.has(s)||i.push(new dT(s))})),i}cu(t){this.Za=t.ks,this.Ya=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rp="SyncEngine";class gI{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class yI{constructor(t){this.key=t,this.hu=!1}}class _I{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ya((p=>DE(p)),xh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ye(dt.comparator),this.Au=new Map,this.Vu=new Qm,this.du={},this.mu=new Map,this.fu=Do.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vI(r,t,i=!0){const s=ET(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await pT(s,t,i,!0),l}async function EI(r,t){const i=ET(r);await pT(i,t,!0,!1)}async function pT(r,t,i,s){const l=await UR(r.localStore,zi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await TI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&oT(r.remoteStore,l),p}async function TI(r,t,i,s,l){r.pu=(w,V,Y)=>(async function(it,rt,mt,St){let vt=rt.view.ru(mt);vt.Ss&&(vt=await Xv(it.localStore,rt.query,!1).then((({documents:N})=>rt.view.ru(N,vt))));const qt=St&&St.targetChanges.get(rt.targetId),ae=St&&St.targetMismatches.get(rt.targetId)!=null,Dt=rt.view.applyChanges(vt,it.isPrimaryClient,qt,ae);return s0(it,rt.targetId,Dt.au),Dt.snapshot})(r,w,V,Y);const c=await Xv(r.localStore,t,!0),d=new pI(t,c.ks),p=d.ru(c.documents),_=pu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);s0(r,i,y.au);const b=new gI(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function bI(r,t,i){const s=Rt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!xh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Jm(s.remoteStore,l.targetId),wm(s,l.targetId)})).catch(Po)):(wm(s,l.targetId),await bm(s.localStore,l.targetId,!0))}async function AI(r,t){const i=Rt(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Jm(i.remoteStore,s.targetId))}async function SI(r,t,i){const s=DI(r);try{const l=await(function(d,p){const _=Rt(d),y=de.now(),b=p.reduce(((Y,W)=>Y.add(W.key)),jt());let w,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let W=Rr(),it=jt();return _.xs.getEntries(Y,b).next((rt=>{W=rt,W.forEach(((mt,St)=>{St.isValidDocument()||(it=it.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,W))).next((rt=>{w=rt;const mt=[];for(const St of p){const vt=k2(St,w.get(St.key).overlayedDocument);vt!=null&&mt.push(new Ds(St.key,vt,AE(vt.value.mapValue),yi.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,y,mt,p)})).next((rt=>{V=rt;const mt=rt.applyToLocalDocumentSet(w,it);return _.documentOverlayCache.saveOverlays(Y,rt.batchId,mt)}))})).then((()=>({batchId:V.batchId,changes:VE(w)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new ye(zt)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(s,l.batchId,i),await yu(s,l.changes),await Lh(s.remoteStore)}catch(l){const c=np(l,"Failed to persist write");i.reject(c)}}async function gT(r,t){const i=Rt(r);try{const s=await MR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await yu(i,s,t)}catch(s){await Po(s)}}function r0(r,t,i){const s=Rt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Rt(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,w)=>{for(const V of w.ba)V.va(p)&&(y=!0)})),y&&ip(_)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function wI(r,t,i){const s=Rt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ye(dt.comparator);d=d.insert(c,ln.newNoDocument(c,At.min()));const p=jt().add(c),_=new Vh(At.min(),new Map,new ye(zt),d,p);await gT(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(t),sp(s)}else await bm(s.localStore,t,!1).then((()=>wm(s,t,i))).catch(Po)}async function RI(r,t){const i=Rt(r),s=t.batch.batchId;try{const l=await OR(i.localStore,t);_T(i,s,null),yT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await yu(i,l)}catch(l){await Po(l)}}async function II(r,t,i){const s=Rt(r);try{const l=await(function(d,p){const _=Rt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(Yt(w!==null,37113),b=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(s.localStore,t);_T(s,t,i),yT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await yu(s,l)}catch(l){await Po(l)}}function yT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function _T(r,t,i){const s=Rt(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function wm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||vT(r,s)}))}function vT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Jm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),sp(r))}function s0(r,t,i){for(const s of i)s instanceof dT?(r.Vu.addReference(s.key,t),CI(r,s)):s instanceof mT?(ot(rp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||vT(r,s.key)):_t(19791,{wu:s})}function CI(r,t){const i=t.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(ot(rp,"New document in limbo: "+i),r.Eu.add(s),sp(r))}function sp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(le.fromString(t)),s=r.fu.next();r.Au.set(s,new yI(i)),r.Ru=r.Ru.insert(i,s),oT(r.remoteStore,new ys(zi(Bm(i.path)),s,"TargetPurposeLimboResolution",Ih.ce))}}async function yu(r,t,i){const s=Rt(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Xm.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,y){const b=Rt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(y,(V=>J.forEach(V.Ts,(Y=>b.persistence.referenceDelegate.addReference(w,V.targetId,Y))).next((()=>J.forEach(V.Is,(Y=>b.persistence.referenceDelegate.removeReference(w,V.targetId,Y)))))))))}catch(w){if(!zo(w))throw w;ot($m,"Failed to update sequence numbers: "+w)}for(const w of y){const V=w.targetId;if(!w.fromCache){const Y=b.vs.get(V),W=Y.snapshotVersion,it=Y.withLastLimboFreeSnapshotVersion(W);b.vs=b.vs.insert(V,it)}}})(s.localStore,c))}async function NI(r,t){const i=Rt(r);if(!i.currentUser.isEqual(t)){ot(rp,"User change. New user:",t.toKey());const s=await iT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new at($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await yu(i,s.Ns)}}function xI(r,t){const i=Rt(r),s=i.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function ET(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wI.bind(null,t),t.Pu.J_=fI.bind(null,t.eventManager),t.Pu.yu=dI.bind(null,t.eventManager),t}function DI(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=II.bind(null,t),t}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return DR(this.persistence,new CR,t.initialUser,this.serializer)}Cu(t){return new nT(Ym.Vi,this.serializer)}Du(t){return new PR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class OI extends yh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dR(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new nT((s=>ph.Vi(s,i)),this.serializer)}}class Rm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>r0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NI.bind(null,this.syncEngine),await oI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uI})()}createDatastore(t){const i=kh(t.databaseInfo.databaseId),s=HR(t.databaseInfo);return YR(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new $R(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>r0(this.syncEngine,i,0)),(function(){return Zv.v()?new Zv:new zR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,b){const w=new _I(l,c,d,p,_,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Rt(i);ot(pa,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class MI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):wr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ns="FirestoreClient";class VI{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=on.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ot(Ns,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ot(Ns,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=np(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function nm(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Ns,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await iT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function a0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await kI(r);ot(Ns,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>t0(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>t0(t.remoteStore,l))),r._onlineComponents=t}async function kI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Ns,"Using user provided OfflineComponentProvider");try{await nm(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ma("Error using user provided cache. Falling back to memory cache: "+i),await nm(r,new yh)}}else ot(Ns,"Using default OfflineComponentProvider"),await nm(r,new OI(void 0));return r._offlineComponents}async function TT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Ns,"Using user provided OnlineComponentProvider"),await a0(r,r._uninitializedComponentsProvider._online)):(ot(Ns,"Using default OnlineComponentProvider"),await a0(r,new Rm))),r._onlineComponents}function UI(r){return TT(r).then((t=>t.syncEngine))}async function o0(r){const t=await TT(r),i=t.eventManager;return i.onListen=vI.bind(null,t.syncEngine),i.onUnlisten=bI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=EI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=AI.bind(null,t.syncEngine),i}function LI(r,t,i,s){const l=new MI(s),c=new mI(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>cI(await o0(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>hI(await o0(r),c)))}}function PI(r,t){const i=new ca;return r.asyncQueue.enqueueAndForget((async()=>SI(await UI(r),t,i))),i.promise}function bT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const zI="ComponentProvider",l0=new Map;function jI(r,t,i,s,l){return new i2(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,bT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const AT="firestore.googleapis.com",u0=!0;class c0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AT,this.ssl=u0}else this.host=t.host,this.ssl=t.ssl??u0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hR)throw new at($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Kw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ph{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Uw;switch(s.type){case"firstParty":return new jw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=l0.get(i);s&&(ot(zI,"Removing Datastore"),l0.delete(i),s.terminate())})(this),Promise.resolve()}}function BI(r,t,i,s={}){r=bs(r,Ph);const l=ko(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&($0(`https://${p}`),J0("Firestore",!0)),c.host!==AT&&c.host!==p&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:s};if(!Ar(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=on.MOCK_USER;else{y=aS(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new at($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new on(w)}r._authCredentials=new Lw(new hE(y,b))}}class va{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new va(this.firestore,t,this._query)}}class ze{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(du(i,ze._jsonSchema))return new ze(t,s||null,new dt(le.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Pe("string",ze._jsonSchemaVersion),referencePath:Pe("string")};class As extends va{constructor(t,i,s){super(t,i,Bm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new dt(t))}withConverter(t){return new As(this.firestore,t,this._path)}}function h0(r,t,...i){if(r=He(r),fE("collection","path",t),r instanceof Ph){const s=le.fromString(t,...i);return bv(s),new As(r,null,s)}{if(!(r instanceof ze||r instanceof As))throw new at($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(t,...i));return bv(s),new As(r.firestore,null,s)}}function la(r,t,...i){if(r=He(r),arguments.length===1&&(t=km.newId()),fE("doc","path",t),r instanceof Ph){const s=le.fromString(t,...i);return Tv(s),new ze(r,null,new dt(s))}{if(!(r instanceof ze||r instanceof As))throw new at($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(t,...i));return Tv(s),new ze(r.firestore,r instanceof As?r.converter:null,new dt(s))}}const f0="AsyncQueue";class d0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sT(this,"async_queue_retry"),this._c=()=>{const s=em();s&&ot(f0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!zo(t))throw t;ot(f0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,wr("INTERNAL UNHANDLED ERROR: ",m0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ep.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:m0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function m0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Mo extends Ph{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new d0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new d0(t),this._firestoreClient=void 0,await t}}}function qI(r,t){const i=typeof r=="object"?r:eE(),s=typeof r=="string"?r:uh,l=Mm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=rS("firestore");c&&BI(l,...c)}return l}function ST(r){if(r._terminated)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HI(r),r._firestoreClient}function HI(r){const t=r._freezeSettings(),i=jI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new VI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ii{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ii(nn.fromBase64String(t))}catch(i){throw new at($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ii(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(du(t,ii._jsonSchema))return ii.fromBase64String(t.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Pe("string",ii._jsonSchemaVersion),bytes:Pe("string")};class ap{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class _u{constructor(t){this._methodName=t}}class Bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(du(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Pe("string",Bi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class _i{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(du(t,_i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new _i(t.vectorValues);throw new at($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:Pe("string",_i._jsonSchemaVersion),vectorValues:Pe("object")};const FI=/^__.*__$/;class GI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Ds(t,this.data,this.fieldMask,i,this.fieldTransforms):new mu(t,this.data,i,this.fieldTransforms)}}class wT{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Ds(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function RT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:r})}}class zh{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new zh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return _h(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(RT(this.dataSource)&&FI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class KI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||kh(t)}createContext(t,i,s,l=!1){return new zh({dataSource:t,methodName:i,targetDoc:s,path:en.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function op(r){const t=r._freezeSettings(),i=kh(r._databaseId);return new KI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function QI(r,t,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);cp("Data must be an object, but it was:",d,s);const p=CT(s,d);let _,y;if(c.merge)_=new jn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const V=Vo(t,w,i);if(!d.contains(V))throw new at($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);DT(b,V)||b.push(V)}_=new jn(b),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new GI(new An(p),_,y)}class jh extends _u{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jh}}function IT(r,t,i){return new zh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:r._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class lp extends _u{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=IT(this,t,!0),s=this.Ac.map((c=>Ea(c,i))),l=new No(s);return new BE(t.path,l)}isEqual(t){return t instanceof lp&&Ar(this.Ac,t.Ac)}}class up extends _u{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=IT(this,t,!0),s=this.Ac.map((c=>Ea(c,i))),l=new xo(s);return new BE(t.path,l)}isEqual(t){return t instanceof up&&Ar(this.Ac,t.Ac)}}function YI(r,t,i,s){const l=r.createContext(1,t,i);cp("Data must be an object, but it was:",l,s);const c=[],d=An.empty();xs(s,((_,y)=>{const b=xT(t,_,i);y=He(y);const w=l.childContextForFieldPath(b);if(y instanceof jh)c.push(b);else{const V=Ea(y,w);V!=null&&(c.push(b),d.set(b,V))}}));const p=new jn(c);return new wT(d,p,l.fieldTransforms)}function XI(r,t,i,s,l,c){const d=r.createContext(1,t,i),p=[Vo(t,s,i)],_=[l];if(c.length%2!=0)throw new at($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Vo(t,c[V])),_.push(c[V+1]);const y=[],b=An.empty();for(let V=p.length-1;V>=0;--V)if(!DT(y,p[V])){const Y=p[V];let W=_[V];W=He(W);const it=d.childContextForFieldPath(Y);if(W instanceof jh)y.push(Y);else{const rt=Ea(W,it);rt!=null&&(y.push(Y),b.set(Y,rt))}}const w=new jn(y);return new wT(b,w,d.fieldTransforms)}function $I(r,t,i,s=!1){return Ea(i,r.createContext(s?4:3,t))}function Ea(r,t){if(NT(r=He(r)))return cp("Unsupported field value:",t,r),CT(r,t);if(r instanceof _u)return(function(s,l){if(!RT(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let _=Ea(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=He(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return N2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=de.fromDate(s);return{timestampValue:mh(l.serializer,c)}}if(s instanceof de){const c=new de(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mh(l.serializer,c)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ii)return{bytesValue:QE(l.serializer,s._byteString)};if(s instanceof ze){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof _i)return(function(d,p){const _=d instanceof _i?d.toArray():d;return{mapValue:{fields:{[TE]:{stringValue:bE},[ch]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return qm(p.serializer,b)}))}}}}}})(s,l);if(tT(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Rh(s)}`)})(r,t)}function CT(r,t){const i={};return pE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xs(r,((s,l)=>{const c=Ea(l,t.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function NT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof de||r instanceof Bi||r instanceof ii||r instanceof ze||r instanceof _u||r instanceof _i||tT(r))}function cp(r,t,i){if(!NT(i)||!dE(i)){const s=Rh(i);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function Vo(r,t,i){if((t=He(t))instanceof ap)return t._internalPath;if(typeof t=="string")return xT(r,t);throw _h("Field path arguments must be of type string or ",r,!1,void 0,i)}const JI=new RegExp("[~\\*/\\[\\]]");function xT(r,t,i){if(t.search(JI)>=0)throw _h(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ap(...t.split("."))._internalPath}catch{throw _h(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function _h(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new at($.INVALID_ARGUMENT,p+r+_)}function DT(r,t){return r.some((i=>i.isEqual(t)))}class ZI{convertValue(t,i="none"){switch(Is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Rs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return xs(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[ch].arrayValue?.values?.map((s=>Ce(s.doubleValue)));return new _i(i)}convertGeoPoint(t){return new Bi(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Nh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(su(t));default:return null}}convertTimestamp(t){const i=ws(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=le.fromString(t);Yt(WE(s),9688,{name:t});const l=new au(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(i)||wr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class OT extends ZI{constructor(t){super(),this.firestore=t}convertBytes(t){return new ii(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function WI(...r){return new lp("arrayUnion",r)}function tC(...r){return new up("arrayRemove",r)}const p0="@firebase/firestore",g0="4.11.0";function y0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class MT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new eC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Vo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class eC extends MT{data(){return super.data()}}function nC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hp{}class VT extends hp{}function iC(r,t,...i){let s=[];t instanceof hp&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((_=>_ instanceof dp)).length,p=c.filter((_=>_ instanceof fp)).length;if(d>1||d>0&&p>0)throw new at($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class fp extends VT{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new fp(t,i,s)}_apply(t){const i=this._parse(t);return kT(t._query,i),new va(t.firestore,t.converter,gm(t._query,i))}_parse(t){const i=op(t.firestore);return(function(c,d,p,_,y,b,w){let V;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new at($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){v0(w,b);const W=[];for(const it of w)W.push(_0(_,c,it));V={arrayValue:{values:W}}}else V=_0(_,c,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||v0(w,b),V=$I(p,d,w,b==="in"||b==="not-in");return Le.create(y,b,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class dp extends hp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new dp(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:vi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)kT(d,_),d=gm(d,_)})(t._query,i),new va(t.firestore,t.converter,gm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mp extends VT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new mp(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new at($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new at($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(c,d)})(t._query,this._field,this._direction);return new va(t.firestore,t.converter,T2(t._query,i))}}function rC(r,t="asc"){const i=t,s=Vo("orderBy",r);return mp._create(s,i)}function _0(r,t,i){if(typeof(i=He(i))=="string"){if(i==="")throw new at($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xE(t)&&i.indexOf("/")!==-1)throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(le.fromString(i));if(!dt.isDocumentKey(s))throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xv(r,new dt(s))}if(i instanceof ze)return xv(r,i._key);throw new at($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(i)}.`)}function v0(r,t){if(!Array.isArray(r)||r.length===0)throw new at($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function kT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function sC(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class $l{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ha extends MT{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Vo("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Pe("string",ha._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class eh extends ha{data(t={}){return super.data(t)}}class To{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new $l(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new eh(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new $l(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new $l(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:aC(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=To._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:Pe("string",To._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};function Yc(r,t,i,...s){r=bs(r,ze);const l=bs(r.firestore,Mo),c=op(l);let d;return d=typeof(t=He(t))=="string"||t instanceof ap?XI(c,"updateDoc",r._key,t,i,s):YI(c,"updateDoc",r._key,t),pp(l,[d.toMutation(r._key,yi.exists(!0))])}function oC(r){return pp(bs(r.firestore,Mo),[new Hm(r._key,yi.none())])}function lC(r,t){const i=bs(r.firestore,Mo),s=la(r),l=sC(r.converter,t),c=op(r.firestore);return pp(i,[QI(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,yi.exists(!1))]).then((()=>s))}function E0(r,...t){r=He(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||y0(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(y0(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof ze)d=bs(r.firestore,Mo),p=Bm(r._key.path),c={next:y=>{t[s]&&t[s](uC(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=bs(r,va);d=bs(y.firestore,Mo),p=y._query;const b=new OT(d);c={next:w=>{t[s]&&t[s](new To(d,b,y,w))},error:t[s+1],complete:t[s+2]},nC(r._query)}const _=ST(d);return LI(_,p,l,c)}function pp(r,t){const i=ST(r);return PI(i,t)}function uC(r,t,i){const s=i.docs.get(t._key),l=new OT(r);return new ha(r,l,t._key,s,new $l(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){kw(Uo),wo(new fa("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Mo(new Pw(s.getProvider("auth-internal")),new Bw(d,s.getProvider("app-check-internal")),r2(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Es(p0,g0,t),Es(p0,g0,"esm2020")})();function UT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cC=UT,LT=new hu("auth","Firebase",UT());const vh=new Dm("@firebase/auth");function hC(r,...t){vh.logLevel<=Pt.WARN&&vh.warn(`Auth (${Uo}): ${r}`,...t)}function nh(r,...t){vh.logLevel<=Pt.ERROR&&vh.error(`Auth (${Uo}): ${r}`,...t)}function Ei(r,...t){throw gp(r,...t)}function qi(r,...t){return gp(r,...t)}function PT(r,t,i){const s={...cC(),[t]:i};return new hu("auth","Firebase",s).create(t,{appName:r.name})}function Hi(r){return PT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return LT.create(r,...t)}function yt(r,t,...i){if(!r)throw gp(t,...i)}function Tr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw nh(t),new Error(t)}function Ir(r,t){r||Tr(t)}function Im(){return typeof self<"u"&&self.location?.href||""}function fC(){return T0()==="http:"||T0()==="https:"}function T0(){return typeof self<"u"&&self.location?.protocol||null}function dC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fC()||fS()||"connection"in navigator)?navigator.onLine:!0}function mC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class vu{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ir(i>t,"Short delay should be less than long delay!"),this.isMobile=uS()||dS()}get(){return dC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yp(r,t){Ir(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class zT{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yC=new vu(3e4,6e4);function xr(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Os(r,t,i,s,l={}){return jT(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=fu({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return hS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(y.credentials="include"),zT.fetch()(await BT(r,r.config.apiHost,i,p),y)})}async function jT(r,t,i){r._canInitEmulator=!1;const s={...pC,...t};try{const l=new vC(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Xc(r,"user-disabled",d);const b=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw PT(r,b,y);Ei(r,b)}}catch(l){if(l instanceof Nr)throw l;Ei(r,"network-request-failed",{message:String(l)})}}async function qo(r,t,i,s,l={}){const c=await Os(r,t,i,s,l);return"mfaPendingCredential"in c&&Ei(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function BT(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?yp(r.config,l):`${r.config.apiScheme}://${l}`;return gC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function _C(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(qi(this.auth,"network-request-failed")),yC.get())})}}function Xc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=qi(r,t,s);return l.customData._tokenResponse=i,l}function b0(r){return r!==void 0&&r.enterprise!==void 0}class EC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return _C(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TC(r,t){return Os(r,"GET","/v2/recaptchaConfig",xr(r,t))}async function bC(r,t){return Os(r,"POST","/v1/accounts:delete",t)}async function Eh(r,t){return Os(r,"POST","/v1/accounts:lookup",t)}function nu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function AC(r,t=!1){const i=He(r),s=await i.getIdToken(t),l=_p(s);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:nu(im(l.auth_time)),issuedAtTime:nu(im(l.iat)),expirationTime:nu(im(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function im(r){return Number(r)*1e3}function _p(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const l=K0(i);return l?JSON.parse(l):(nh("Failed to decode base64 JWT payload"),null)}catch(l){return nh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function A0(r){const t=_p(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function uu(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof Nr&&SC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function SC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class wC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Th(r){const t=r.auth,i=await r.getIdToken(),s=await uu(r,Eh(t,{idToken:i}));yt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?qT(l.providerUserInfo):[],d=IC(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Cm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function RC(r){const t=He(r);await Th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function IC(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function qT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function CC(r,t){const i=await jT(r,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await BT(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(_.credentials="include"),zT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function NC(r,t){return Os(r,"POST","/v2/accounts:revokeToken",xr(r,t))}class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):A0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=A0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await CC(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new bo;return s&&(yt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function hs(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new wC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await uu(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return AC(this,t)}reload(){return RC(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Hi(this.auth));const t=await this.getIdToken();return await uu(this,bC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:Y,providerData:W,stsTokenManager:it}=i;yt(w&&it,t,"internal-error");const rt=bo.fromJSON(this.name,it);yt(typeof w=="string",t,"internal-error"),hs(s,t.name),hs(l,t.name),yt(typeof V=="boolean",t,"internal-error"),yt(typeof Y=="boolean",t,"internal-error"),hs(c,t.name),hs(d,t.name),hs(p,t.name),hs(_,t.name),hs(y,t.name),hs(b,t.name);const mt=new gi({uid:w,auth:t,email:l,emailVerified:V,displayName:s,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:rt,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(mt.providerData=W.map(St=>({...St}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,s=!1){const l=new bo;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Th(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?qT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new bo;p.updateFromIdToken(s);const _=new gi({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const S0=new Map;function br(r){Ir(r instanceof Function,"Expected a class definition");let t=S0.get(r);return t?(Ir(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,S0.set(r,t),t)}class HT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}HT.type="NONE";const w0=HT;function ih(r,t,i){return`firebase:${r}:${t}:${i}`}class Ao{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=ih(this.userKey,l.apiKey,c),this.fullPersistenceKey=ih("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Eh(this.auth,{idToken:t}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ao(br(w0),t,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||br(w0);const d=ih(s,t.config.apiKey,t.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const V=await Eh(t,{idToken:b}).catch(()=>{});if(!V)break;w=await gi._fromGetAccountInfoResponse(t,V,b)}else w=gi._fromJSON(t,b);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ao(c,t,s):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ao(c,t,s))}}function R0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(QT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(FT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(XT(t))return"Blackberry";if($T(t))return"Webos";if(GT(t))return"Safari";if((t.includes("chrome/")||KT(t))&&!t.includes("edge/"))return"Chrome";if(YT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function FT(r=un()){return/firefox\//i.test(r)}function GT(r=un()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function KT(r=un()){return/crios\//i.test(r)}function QT(r=un()){return/iemobile/i.test(r)}function YT(r=un()){return/android/i.test(r)}function XT(r=un()){return/blackberry/i.test(r)}function $T(r=un()){return/webos/i.test(r)}function vp(r=un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xC(r=un()){return vp(r)&&!!window.navigator?.standalone}function DC(){return mS()&&document.documentMode===10}function JT(r=un()){return vp(r)||YT(r)||$T(r)||XT(r)||/windows phone/i.test(r)||QT(r)}function ZT(r,t=[]){let i;switch(r){case"Browser":i=R0(un());break;case"Worker":i=`${R0(un())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Uo}/${s}`}class OC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function MC(r,t={}){return Os(r,"GET","/v2/passwordPolicy",xr(r,t))}const VC=6;class kC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??VC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class UC{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I0(this),this.idTokenSubscription=new I0(this),this.beforeStateQueue=new OC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=br(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ao.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Eh(this,{idToken:t}),s=await gi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Th(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(Hi(this));const i=t?He(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await MC(this),i=new kC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hu("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await NC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&br(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[br(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&hC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ms(r){return He(r)}class I0{constructor(t){this.auth=t,this.observer=null,this.addObserver=bS(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LC(r){Bh=r}function WT(r){return Bh.loadJS(r)}function PC(){return Bh.recaptchaEnterpriseScript}function zC(){return Bh.gapiScript}function jC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class BC{constructor(){this.enterprise=new qC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class qC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const HC="recaptcha-enterprise",t1="NO_RECAPTCHA";class FC{constructor(t){this.type=HC,this.auth=Ms(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{TC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new EC(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;b0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(t1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&b0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=PC();_.length!==0&&(_+=p),WT(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function C0(r,t,i,s=!1,l=!1){const c=new FC(r);let d;if(l)d=t1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function N0(r,t,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await C0(r,t,i,i==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await C0(r,t,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function GC(r,t){const i=Mm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ar(c,t??{}))return l;Ei(l,"already-initialized")}return i.initialize({options:t})}function KC(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(br);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function QC(r,t,i){const s=Ms(r);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=e1(t),{host:d,port:p}=YC(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(Ar(y,s.config.emulator)&&Ar(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,ko(d)?($0(`${c}//${d}${_}`),J0("Auth",!0)):XC()}function e1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function YC(r){const t=e1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:x0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:x0(d)}}}function x0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function XC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ep{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Tr("not implemented")}_getIdTokenResponse(t){return Tr("not implemented")}_linkToIdToken(t,i){return Tr("not implemented")}_getReauthenticationResolver(t){return Tr("not implemented")}}async function $C(r,t){return Os(r,"POST","/v1/accounts:signUp",t)}async function JC(r,t){return qo(r,"POST","/v1/accounts:signInWithPassword",xr(r,t))}async function ZC(r,t){return qo(r,"POST","/v1/accounts:signInWithEmailLink",xr(r,t))}async function WC(r,t){return qo(r,"POST","/v1/accounts:signInWithEmailLink",xr(r,t))}class cu extends Ep{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new cu(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new cu(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N0(t,i,"signInWithPassword",JC);case"emailLink":return ZC(t,{email:this._email,oobCode:this._password});default:Ei(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N0(t,s,"signUpPassword",$C);case"emailLink":return WC(t,{idToken:i,email:this._email,oobCode:this._password});default:Ei(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function So(r,t){return qo(r,"POST","/v1/accounts:signInWithIdp",xr(r,t))}const tN="http://localhost";class ga extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ga(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ei("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new ga(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return So(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,So(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,So(t,i)}buildRequest(){const t={requestUri:tN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=fu(i)}return t}}function eN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nN(r){const t=Gl(Kl(r)).link,i=t?Gl(Kl(t)).deep_link_id:null,s=Gl(Kl(r)).deep_link_id;return(s?Gl(Kl(s)).link:null)||s||i||t||r}class Tp{constructor(t){const i=Gl(Kl(t)),s=i.apiKey??null,l=i.oobCode??null,c=eN(i.mode??null);yt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=nN(t);try{return new Tp(i)}catch{return null}}}class Ho{constructor(){this.providerId=Ho.PROVIDER_ID}static credential(t,i){return cu._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Tp.parseLink(i);return yt(s,"argument-error"),cu._fromEmailAndCode(t,s.code,s.tenantId)}}Ho.PROVIDER_ID="password";Ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class n1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Eu extends n1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ds extends Eu{constructor(){super("facebook.com")}static credential(t){return ga._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ds.credential(t.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";class ms extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ga._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return ms.credential(i,s)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";class ps extends Eu{constructor(){super("github.com")}static credential(t){return ga._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ps.credential(t.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";class gs extends Eu{constructor(){super("twitter.com")}static credential(t,i){return ga._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return gs.credential(i,s)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";async function iN(r,t){return qo(r,"POST","/v1/accounts:signUp",xr(r,t))}class Cr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await gi._fromIdTokenResponse(t,s,l),d=D0(s);return new Cr({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=D0(s);return new Cr({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function D0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function O0(r){if(zn(r.app))return Promise.reject(Hi(r));const t=Ms(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Cr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await iN(t,{returnSecureToken:!0}),s=await Cr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class bh extends Nr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new bh(t,i,s,l)}}function i1(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(r,c,t,s):c})}async function rN(r,t,i=!1){const s=await uu(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Cr._forOperation(r,"link",s)}async function sN(r,t,i=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(Hi(s));const l="reauthenticate";try{const c=await uu(r,i1(s,l,t,r),i);yt(c.idToken,s,"internal-error");const d=_p(c.idToken);yt(d,s,"internal-error");const{sub:p}=d;return yt(r.uid===p,s,"user-mismatch"),Cr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ei(s,"user-mismatch"),c}}async function r1(r,t,i=!1){if(zn(r.app))return Promise.reject(Hi(r));const s="signIn",l=await i1(r,s,t),c=await Cr._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function aN(r,t){return r1(Ms(r),t)}async function oN(r,t){return qo(r,"POST","/v1/accounts:signInWithCustomToken",xr(r,t))}async function lN(r,t){if(zn(r.app))return Promise.reject(Hi(r));const i=Ms(r),s=await oN(i,{token:t,returnSecureToken:!0}),l=await Cr._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}async function uN(r){const t=Ms(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function cN(r,t,i){return zn(r.app)?Promise.reject(Hi(r)):aN(He(r),Ho.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&uN(r),s})}function hN(r,t,i,s){return He(r).onIdTokenChanged(t,i,s)}function fN(r,t,i){return He(r).beforeAuthStateChanged(t,i)}function dN(r,t,i,s){return He(r).onAuthStateChanged(t,i,s)}function M0(r){return He(r).signOut()}const Ah="__sak";class s1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const mN=1e3,pN=10;class a1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);DC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,pN):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}a1.type="LOCAL";const gN=a1;class o1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}o1.type="SESSION";const l1=o1;function yN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class qh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new qh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await yN(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];function bp(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class _N{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=bp("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(w){const V=w;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Fi(){return window}function vN(r){Fi().location.href=r}function u1(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function EN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TN(){return navigator?.serviceWorker?.controller||null}function bN(){return u1()?self:null}const c1="firebaseLocalStorageDb",AN=1,Sh="firebaseLocalStorage",h1="fbase_key";class Tu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Hh(r,t){return r.transaction([Sh],t?"readwrite":"readonly").objectStore(Sh)}function SN(){const r=indexedDB.deleteDatabase(c1);return new Tu(r).toPromise()}function Nm(){const r=indexedDB.open(c1,AN);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Sh,{keyPath:h1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Sh)?t(s):(s.close(),await SN(),t(await Nm()))})})}async function V0(r,t,i){const s=Hh(r,!0).put({[h1]:t,value:i});return new Tu(s).toPromise()}async function wN(r,t){const i=Hh(r,!1).get(t),s=await new Tu(i).toPromise();return s===void 0?null:s.value}function k0(r,t){const i=Hh(r,!0).delete(t);return new Tu(i).toPromise()}const RN=800,IN=3;class f1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>IN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(bN()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EN(),!this.activeServiceWorker)return;this.sender=new _N(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||TN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Nm();return await V0(t,Ah,"1"),await k0(t,Ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>V0(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>wN(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>k0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Hh(l,!1).getAll();return new Tu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f1.type="LOCAL";const CN=f1;new vu(3e4,6e4);function NN(r,t){return t?br(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ap extends Ep{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return So(t,this._buildIdpRequest())}_linkToIdToken(t,i){return So(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return So(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function xN(r){return r1(r.auth,new Ap(r),r.bypassAuthState)}function DN(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),sN(i,new Ap(r),r.bypassAuthState)}async function ON(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),rN(i,new Ap(r),r.bypassAuthState)}class d1{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xN;case"linkViaPopup":case"linkViaRedirect":return ON;case"reauthViaPopup":case"reauthViaRedirect":return DN;default:Ei(this.auth,"internal-error")}}resolve(t){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const MN=new vu(2e3,1e4);class _o extends d1{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const t=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,MN.get())};t()}}_o.currentPopupAction=null;const VN="pendingRedirect",rh=new Map;class kN extends d1{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=rh.get(this.auth._key());if(!t){try{const s=await UN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}rh.set(this.auth._key(),t)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UN(r,t){const i=zN(t),s=PN(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function LN(r,t){rh.set(r._key(),t)}function PN(r){return br(r._redirectPersistence)}function zN(r){return ih(VN,r.config.apiKey,r.name)}async function jN(r,t,i=!1){if(zn(r.app))return Promise.reject(Hi(r));const s=Ms(r),l=NN(s,t),d=await new kN(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const BN=600*1e3;class qN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!HN(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!m1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(qi(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=BN&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(t))}saveEventToCache(t){this.cachedEventUids.add(U0(t)),this.lastProcessedEventTime=Date.now()}}function U0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function m1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function HN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m1(r);default:return!1}}async function FN(r,t={}){return Os(r,"GET","/v1/projects",t)}const GN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KN=/^https?/;async function QN(r){if(r.config.emulator)return;const{authorizedDomains:t}=await FN(r);for(const i of t)try{if(YN(i))return}catch{}Ei(r,"unauthorized-domain")}function YN(r){const t=Im(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!KN.test(i))return!1;if(GN.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const XN=new vu(3e4,6e4);function L0(){const r=Fi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function $N(r){return new Promise((t,i)=>{function s(){L0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{L0(),i(qi(r,"network-request-failed"))},timeout:XN.get()})}if(Fi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Fi().gapi?.load)s();else{const l=jC("iframefcb");return Fi()[l]=()=>{gapi.load?s():i(qi(r,"network-request-failed"))},WT(`${zC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw sh=null,t})}let sh=null;function JN(r){return sh=sh||$N(r),sh}const ZN=new vu(5e3,15e3),WN="__/auth/iframe",tx="emulator/auth/iframe",ex={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ix(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?yp(t,tx):`https://${r.config.authDomain}/${WN}`,s={apiKey:t.apiKey,appName:r.name,v:Uo},l=nx.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${fu(s).slice(1)}`}async function rx(r){const t=await JN(r),i=Fi().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:ix(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ex,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=qi(r,"network-request-failed"),p=Fi().setTimeout(()=>{c(d)},ZN.get());function _(){Fi().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{c(d)})}))}const sx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ax=500,ox=600,lx="_blank",ux="http://localhost";class P0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cx(r,t,i,s=ax,l=ox){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...sx,width:s.toString(),height:l.toString(),top:c,left:d},y=un().toLowerCase();i&&(p=KT(y)?lx:i),FT(y)&&(t=t||ux,_.scrollbars="yes");const b=Object.entries(_).reduce((V,[Y,W])=>`${V}${Y}=${W},`,"");if(xC(y)&&p!=="_self")return hx(t||"",p),new P0(null);const w=window.open(t||"",p,b);yt(w,r,"popup-blocked");try{w.focus()}catch{}return new P0(w)}function hx(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const fx="__/auth/handler",dx="emulator/auth/handler",mx=encodeURIComponent("fac");async function z0(r,t,i,s,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Uo,eventId:l};if(t instanceof n1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",TS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(t instanceof Eu){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await r._getAppCheckToken(),y=_?`#${mx}=${encodeURIComponent(_)}`:"";return`${px(r)}?${fu(p).slice(1)}${y}`}function px({config:r}){return r.emulator?yp(r,dx):`https://${r.authDomain}/${fx}`}const rm="webStorageSupport";class gx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=jN,this._overrideRedirectResult=LN}async _openPopup(t,i,s,l){Ir(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await z0(t,i,s,Im(),l);return cx(t,c,bp())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await z0(t,i,s,Im(),l);return vN(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ir(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await rx(t),s=new qN(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(rm,{type:rm},l=>{const c=l?.[0]?.[rm];c!==void 0&&i(!!c),Ei(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=QN(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return JT()||GT()||vp()}}const yx=gx;var j0="@firebase/auth",B0="1.12.0";class _x{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ex(r){wo(new fa("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(r)},y=new UC(s,l,c,_);return KC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),wo(new fa("auth-internal",t=>{const i=Ms(t.getProvider("auth").getImmediate());return(s=>new _x(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(j0,B0,vx(r)),Es(j0,B0,"esm2020")}const Tx=300,bx=X0("authIdTokenMaxAge")||Tx;let q0=null;const Ax=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>bx)return;const l=i?.token;q0!==l&&(q0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Sx(r=eE()){const t=Mm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=GC(r,{popupRedirectResolver:yx,persistence:[CN,gN,l1]}),s=X0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=Ax(c.toString());fN(i,d,()=>d(i.currentUser)),hN(i,p=>d(p))}}const l=Q0("auth");return l&&QC(i,`http://${l}`),i}function wx(){return document.getElementsByTagName("head")?.[0]??document}LC({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=qi("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",wx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ex("Browser");const Rx={apiKey:"AIzaSyDa8-5p5ZyxZUQ1R303KixjLmnDiFAA-1Y",authDomain:"myxd-26265.firebaseapp.com",projectId:"myxd-26265",appId:"1:202016124459:web:19d6308e200f8d4aa4046e"},p1=tE(Rx),fs=qI(p1),aa=Sx(p1),Ix=["AIzaSyCh_WWzp9SVnoIh6c_fRrn9Sh4AFkyp5Os","AIzaSyBhCoukpZI5cbl8oHZqACjt1_teQKgL__0"],Cx="gemini-2.5-flash-preview-09-2025",Nx=[{name:"Tecnologa",url:"https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&auto=format&fit=crop&q=60",icon:A.jsx(vA,{size:16})},{name:"Negocios",url:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&auto=format&fit=crop&q=60",icon:A.jsx(pA,{size:16})},{name:"Mundo",url:"https://images.unsplash.com/photo-1521295121783-8a321d551ad2?w=800&auto=format&fit=crop&q=60",icon:A.jsx(TA,{size:16})},{name:"Arte",url:"https://images.unsplash.com/photo-1513364776144-60967b0f800f?w=800&auto=format&fit=crop&q=60",icon:A.jsx(OA,{size:16})}];function xx(){const[r,t]=Et.useState([]),[i,s]=Et.useState(!0),[l,c]=Et.useState(null),[d,p]=Et.useState(!1),[_,y]=Et.useState(!1),[b,w]=Et.useState(null),[V,Y]=Et.useState(()=>{try{return JSON.parse(localStorage.getItem("myPosts")||"[]")}catch{return[]}}),[W,it]=Et.useState(!1),[rt,mt]=Et.useState(!0),[St,vt]=Et.useState(!1),[qt,ae]=Et.useState(""),[Dt,N]=Et.useState(""),[S,R]=Et.useState("home"),[M,D]=Et.useState(null),[U,I]=Et.useState(!1),[ie,ue]=Et.useState(null),[F,nt]=Et.useState(null),[ct,Ot]=Et.useState(""),[Tt,x]=Et.useState([{id:Date.now(),type:"text",value:""}]),[K,et]=Et.useState("General"),[st,gt]=Et.useState("Redaccin NTR"),[bt,xt]=Et.useState(""),[Se,Xt]=Et.useState(!1),[Bn,Ki]=Et.useState(!1),[Ti,Qi]=Et.useState(""),[fn,Dr]=Et.useState(""),[ri,Yi]=Et.useState(""),[Or,ce]=Et.useState(!1),[_e,qn]=Et.useState(null),[Ta,Vs]=Et.useState(""),[Fe,bi]=Et.useState(""),[Ai,Xi]=Et.useState(""),si=Et.useRef(null),ba=Et.useRef(null),$i=Et.useRef({}),Sn="bg-blue-900",Mr="text-blue-900",wn=()=>{x([...Tt,{id:Date.now(),type:"text",value:""}])},je=()=>{const j=Date.now();x([...Tt,{id:j,type:"image",value:""}]),setTimeout(()=>{$i.current[j]&&$i.current[j].click()},100)},dn=j=>{Tt.length===1?x([{id:Date.now(),type:"text",value:""}]):x(Tt.filter(Z=>Z.id!==j))},ge=j=>{if(j===0)return;const Z=[...Tt];[Z[j],Z[j-1]]=[Z[j-1],Z[j]],x(Z)},Aa=j=>{if(j===Tt.length-1)return;const Z=[...Tt];[Z[j],Z[j+1]]=[Z[j+1],Z[j]],x(Z)},ai=(j,Z)=>{x(ht=>ht.map(oe=>oe.id===j?{...oe,value:Z}:oe))},Sa=async(j,Z)=>{const ht=j.target.files[0];if(ht){Xt(!0);const oe=await Zi(ht);ai(Z,oe),Xt(!1)}},Hn=j=>new Promise(Z=>setTimeout(Z,j)),Ji=async j=>{const Z=Ix.filter(kt=>kt!==""),ht=Z.length>0?Z:[""],oe="Eres un redactor periodstico senior en Zacatecas. Tu tarea es profesionalizar y EXTENDER EXTENSAMENTE el texto. Debes generar un prrafo LARGO y MUY DETALLADO (al menos 150-200 palabras), con tono serio y estilo de crnica. Es VITAL que adaptes tu vocabulario a la seccin indicada (ej: ms tcnico para Tecnologa, formal para Poltica, crudo pero respetuoso para Seguridad). Mantn la continuidad con el prrafo anterior si se proporciona contexto. Responde nicamente con el prrafo redactado, sin saludos ni comentarios.";for(let kt=0;kt<5;kt++){for(let Te of ht)try{const Nn=`https://generativelanguage.googleapis.com/v1beta/models/${Cx}:generateContent?key=${Te}`,Ge=await fetch(Nn,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:j}]}],systemInstruction:{parts:[{text:oe}]}})});if(Ge.status===429)continue;if(!Ge.ok)throw new Error("API_ERROR");return(await Ge.json()).candidates?.[0]?.content?.parts?.[0]?.text}catch(Nn){console.error("Error con clave actual:",Nn)}await Hn(Math.pow(2,kt)*1e3)}throw new Error("ALL_KEYS_FAILED")},ve=async(j,Z)=>{if(!Z||Z.trim().length<3){alert("Por favor, escribe una idea inicial para que la IA pueda redactar un prrafo extenso.");return}const ht=Tt.findIndex(kt=>kt.id===j);let oe="";for(let kt=ht-1;kt>=0;kt--)if(Tt[kt].type==="text"&&Tt[kt].value.trim()){oe=Tt[kt].value;break}w(j);try{let kt=`Seccin de la noticia: ${K}. Ttulo: ${ct}. `;oe&&(kt+=`CONTINUIDAD - Prrafo anterior: "${oe}". `),kt+=`Idea actual que debes desarrollar extensamente bajo el enfoque de la seccin ${K}: ${Z}`;const Te=await Ji(kt);Te&&ai(j,Te)}catch{alert("No se pudo completar la redaccin con IA. Revisa tus claves o conexin.")}finally{w(null)}};Et.useEffect(()=>{(async()=>{try{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await lN(aa,__initial_auth_token)}catch{await O0(aa)}else await O0(aa)}catch(ht){console.error("Auth error:",ht)}})();const Z=dN(aa,ht=>{c(ht),p(ht?.email==="admin@ntrzacatecas.com")});return()=>Z()},[]),Et.useEffect(()=>{if(!l)return;const j=iC(h0(fs,"noticias"),rC("timestamp","desc")),Z=E0(j,ht=>{t(ht.docs.map(oe=>({id:oe.id,...oe.data()}))),s(!1)},ht=>{s(!1)});return()=>Z()},[l]),Et.useEffect(()=>{if(!l)return;const j=la(fs,"config","general"),Z=E0(j,ht=>{it(ht.exists()&&ht.data().isMaintenanceMode===!0),mt(!1)},()=>mt(!1));return()=>Z()},[l]),Et.useEffect(()=>{document.title=U?"NTR Zacatecas":"Avisos Ciudadanos"},[U]);const Rn=j=>!!(d||V.includes(j.id)||l&&j.creatorId===l.uid),Fn=j=>{j.detail===3?(j.preventDefault(),I(!U)):S!=="home"&&R("home")},rn=j=>{j&&(j.stopPropagation(),j.preventDefault()),d?window.confirm("Cerrar sesin de administrador?")&&M0(aa):(vt(!0),N(""),ae(""))},wa=async j=>{j.preventDefault();try{await cN(aa,"admin@ntrzacatecas.com",qt),vt(!1),y(!1)}catch{qt==="administrador"?(p(!0),vt(!1)):N("Contrasea incorrecta.")}},Zi=j=>new Promise(Z=>{const ht=new FileReader;ht.readAsDataURL(j),ht.onload=oe=>{const kt=new Image;kt.src=oe.target.result,kt.onload=()=>{const Te=document.createElement("canvas"),Nn=800,Ge=Nn/kt.width;Te.width=Ge>=1?kt.width:Nn,Te.height=Ge>=1?kt.height:kt.height*Ge,Te.getContext("2d").drawImage(kt,0,0,Te.width,Te.height),Z(Te.toDataURL("image/jpeg",.7))}}}),Gn=async j=>{const Z=j.target.files[0];if(Z){Xt(!0);const ht=await Zi(Z);xt(ht),Xt(!1)}},Wi=(j,Z)=>{j.stopPropagation(),nt(Z.id),Ot(Z.title),et(Z.category),xt(Z.image),gt(Z.author||"Redaccin NTR"),x(Array.isArray(Z.content)?Z.content:[{id:Date.now(),type:"text",value:Z.content}]),R("create")},Fo=async j=>{if(j.preventDefault(),!ct||Tt.length===0||!l)return;Ki(!0);const Z=bt||"https://images.unsplash.com/photo-1585829365295-ab7cd400c167?w=800&auto=format&fit=crop&q=60";try{const ht={title:ct,category:K,image:Z,content:Tt,author:st.trim()||"Redaccin NTR",date:new Date().toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"}),timestamp:Date.now(),comments:[],creatorId:l.uid};if(F)await Yc(la(fs,"noticias",F),ht);else{const oe=await lC(h0(fs,"noticias"),ht),kt=[...V,oe.id];Y(kt),localStorage.setItem("myPosts",JSON.stringify(kt))}er(),R("home")}catch(ht){console.error(ht)}finally{Ki(!1)}},tr=async(j,Z)=>{j.stopPropagation(),!(!Rn(Z)||!l)&&window.confirm(" Eliminar noticia?")&&(await oC(la(fs,"noticias",Z.id)),M?.id===Z.id&&R("home"))},er=()=>{nt(null),Ot(""),xt(""),et("General"),gt("Redaccin NTR"),x([{id:Date.now(),type:"text",value:""}])},ks=async j=>{if(j.preventDefault(),!Ti.trim()||!fn.trim()||!l)return;const Z={id:Date.now(),author:Ti,text:fn,image:ri||null,date:new Date().toLocaleDateString("es-MX",{hour:"2-digit",minute:"2-digit"})};await Yc(la(fs,"noticias",M.id),{comments:WI(Z)}),D(ht=>({...ht,comments:[...ht.comments||[],Z]})),Qi(""),Dr(""),Yi("")},nr=async j=>{const Z=j.target.files[0];if(Z){ce(!0);const ht=await Zi(Z);Yi(ht),ce(!1)}},oi=async j=>{const Z=j.target.files[0];if(Z){ce(!0);const ht=await Zi(Z);Xi(ht),ce(!1)}},Ra=async j=>{!d||!window.confirm("Borrar comentario?")||(await Yc(la(fs,"noticias",M.id),{comments:tC(j)}),D(Z=>({...Z,comments:Z.comments.filter(ht=>ht.id!==j.id)})))},In=j=>{qn(j.id),Vs(j.author),bi(j.text),Xi(j.image||"")},Cn=async()=>{const j=M.comments.map(Z=>Z.id===_e?{...Z,author:Ta,text:Fe,image:Ai}:Z);await Yc(la(fs,"noticias",M.id),{comments:j}),D(Z=>({...Z,comments:j})),qn(null)},Ee=j=>{D({...j,comments:j.comments||[]}),R("article"),window.scrollTo(0,0)},Ne=j=>j?typeof j=="string"?j.split(`
`).map((Z,ht)=>Z.trim()?A.jsx("p",{className:"mb-6 leading-relaxed text-gray-700 text-lg",children:Z},ht):null):j.map((Z,ht)=>A.jsx(Y_.Fragment,{children:Z.type==="text"?Z.value.split(`
`).map((oe,kt)=>oe.trim()?A.jsx("p",{className:"mb-6 leading-relaxed text-gray-700 text-lg",children:oe},`${ht}-${kt}`):null):A.jsxs("div",{className:"my-8 rounded-xl overflow-hidden shadow-md relative group",children:[A.jsx("img",{src:Z.value,alt:"Media",className:"w-full h-auto object-cover"}),A.jsx("button",{onClick:()=>ue(Z.value),className:"absolute bottom-4 right-4 bg-black/50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all shadow-lg",children:A.jsx(Kd,{size:20})})]})},Z.id||ht)):null;return rt?A.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:A.jsx(Fd,{className:"animate-spin text-blue-900",size:40})}):W?A.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center p-4 text-center relative",children:[St&&A.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 w-full max-w-sm",children:[A.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2 mb-6",children:[A.jsx(Gd,{className:"text-blue-900"})," Admin"]}),A.jsxs("form",{onSubmit:wa,children:[A.jsx("input",{type:"password",value:qt,onChange:j=>ae(j.target.value),className:"w-full p-3 border rounded-lg mb-4",placeholder:"",autoFocus:!0}),Dt&&A.jsx("p",{className:"text-red-500 text-sm mb-4",children:Dt}),A.jsx("button",{type:"submit",className:`w-full ${Sn} text-white font-bold py-3 rounded-lg`,children:"Acceder"})]})]})}),A.jsxs("div",{className:`${Sn} px-6 py-4 rounded-2xl mb-8 flex flex-col items-center justify-center select-none`,children:[A.jsx("span",{className:"font-sans text-5xl font-black text-white leading-none tracking-tight",children:"AVISOS"}),A.jsx("span",{className:"text-[0.8rem] text-white font-bold tracking-widest uppercase mt-2 opacity-90",children:"CIUDADANOS"})]}),A.jsx(UA,{size:48,className:"text-gray-500 mb-6 animate-spin"}),A.jsx("h1",{onDoubleClick:rn,className:"text-3xl font-bold text-white mb-4",children:"Mantenimiento"}),A.jsx("p",{className:"text-gray-400",children:"Regresa pronto."}),A.jsx("button",{onClick:rn,className:"fixed bottom-2 right-2 opacity-20",children:A.jsx(rv,{size:16})})]}):A.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-800 pb-12 relative",children:[ie&&A.jsxs("div",{className:"fixed inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200 backdrop-blur-sm",onClick:()=>ue(null),children:[A.jsx("button",{onClick:()=>ue(null),className:"absolute top-6 right-6 text-white hover:text-gray-300 transition-colors",children:A.jsx(fo,{size:32})}),A.jsx("img",{src:ie,alt:"Fullscreen",className:"max-w-full max-h-[90vh] object-contain shadow-2xl",onClick:j=>j.stopPropagation()})]}),St&&A.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 w-full max-w-sm animate-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[A.jsx(Gd,{className:"text-blue-900"})," Admin"]}),A.jsx("button",{onClick:()=>vt(!1),children:A.jsx(fo,{size:24})})]}),A.jsxs("form",{onSubmit:wa,children:[A.jsx("input",{type:"password",value:qt,onChange:j=>ae(j.target.value),className:"w-full p-3 border rounded-lg mb-4",placeholder:"",autoFocus:!0}),Dt&&A.jsx("p",{className:"text-red-500 text-sm mb-4",children:Dt}),A.jsx("button",{type:"submit",className:`w-full ${Sn} text-white font-bold py-3 rounded-lg`,children:"Acceder"})]})]})}),A.jsx("header",{className:"bg-white shadow-md border-b border-gray-200 sticky top-0 z-30",children:A.jsxs("div",{className:"max-w-6xl mx-auto px-4 h-20 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-4 cursor-pointer group",onClick:Fn,children:[A.jsx("div",{className:`${Sn} px-3 py-2 rounded shadow-md flex flex-col items-center justify-center transition-colors group-hover:bg-blue-800 w-[72px] h-[52px]`,children:U?A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"font-serif text-3xl font-black text-white leading-none tracking-tighter",style:{fontFamily:"Times New Roman, serif"},children:"NTR"}),A.jsx("span",{className:"text-[0.5rem] text-white font-bold tracking-[0.2em] uppercase leading-none mt-1 opacity-90",children:"Periodismo"})]}):A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"font-sans text-xl font-black text-white leading-none tracking-tight",children:"AVISOS"}),A.jsx("span",{className:"text-[0.4rem] text-white font-bold tracking-widest uppercase leading-none mt-1 opacity-90",children:"CIUDADANOS"})]})}),A.jsx("h1",{onDoubleClick:rn,className:"text-xl font-bold tracking-tight text-gray-700 hidden sm:block",children:"Zacatecas"})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[d&&A.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-red-100 text-red-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:[A.jsx(Gd,{size:12})," ADMIN"]}),_&&!d&&A.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-blue-100 text-blue-900 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:[A.jsx(ho,{size:12})," EDICIN"]}),A.jsxs("nav",{className:"flex items-center gap-2 sm:gap-4",children:[A.jsxs("button",{onClick:()=>R("home"),className:`px-4 py-2 rounded-full font-bold text-sm transition-all flex items-center gap-2 ${S==="home"||S==="article"?"bg-gray-100 text-blue-900":"text-gray-500 hover:bg-gray-50"}`,children:[A.jsx(AA,{size:18})," ",A.jsx("span",{className:"hidden sm:inline",children:"Inicio"})]}),A.jsxs("button",{onClick:()=>{er(),R("create")},className:`px-4 py-2 rounded-full font-bold text-sm transition-all flex items-center gap-2 ${S==="create"?`${Sn} text-white shadow-lg`:"text-gray-500 hover:bg-gray-50"}`,children:[A.jsx(iv,{size:18})," ",A.jsx("span",{className:"hidden sm:inline",children:"Redaccin"})]}),d&&A.jsx("button",{onClick:()=>M0(aa),className:"p-2 text-gray-400 hover:text-red-600",children:A.jsx(sv,{size:18})}),_&&!d&&A.jsx("button",{onClick:()=>y(!1),className:"p-2 text-gray-400 hover:text-blue-600",title:"Salir de Modo Edicin",children:A.jsx(sv,{size:18})})]})]})]})}),A.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[S==="home"&&A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 animate-in fade-in duration-500",children:r.map(j=>A.jsxs("article",{onClick:()=>Ee(j),className:"bg-white rounded-xl shadow-sm hover:shadow-2xl transition-all border group cursor-pointer flex flex-col h-full relative",children:[A.jsxs("div",{className:"relative h-56 overflow-hidden",children:[A.jsx("img",{src:j.image,alt:j.title,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),A.jsx("div",{className:"absolute top-4 left-4",children:A.jsx("span",{className:`${Sn} text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg uppercase`,children:j.category})})]}),A.jsxs("div",{className:"p-6 flex-grow flex flex-col justify-between",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center text-gray-400 text-xs mb-3 gap-2",children:[A.jsx(nv,{size:14})," ",A.jsx("span",{children:j.date})]}),A.jsx("h3",{className:"text-xl font-bold mb-3 group-hover:text-blue-900 line-clamp-3",children:j.title}),A.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:Array.isArray(j.content)?j.content.find(Z=>Z.type==="text")?.value||"Ver fotos...":j.content})]}),A.jsxs("div",{className:"pt-4 border-t flex justify-between items-center mt-auto",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("span",{className:`text-sm font-bold ${Mr} flex items-center`,children:"Leer nota completa"}),A.jsxs("div",{className:"flex items-center text-gray-400 text-xs gap-1",children:[A.jsx(av,{size:14}),A.jsx("span",{children:(j.comments||[]).length})]})]}),(d||_)&&Rn(j)&&A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:Z=>{Z.stopPropagation(),Wi(Z,j)},className:"text-blue-500 p-1 bg-blue-50 rounded",children:A.jsx(ho,{size:16})}),A.jsx("button",{onClick:Z=>tr(Z,j),className:"text-red-400 p-1 bg-red-50 rounded",children:A.jsx(qc,{size:16})})]})]})]})]},j.id))}),S==="create"&&A.jsx("div",{className:"max-w-3xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 border border-gray-100",children:[A.jsxs("h2",{className:`text-2xl font-bold flex items-center mb-6 ${Mr}`,children:[F?A.jsx(ho,{size:28,className:"mr-3"}):A.jsx(iv,{size:28,className:"mr-3"})," Panel de Redaccin"]}),A.jsxs("form",{onSubmit:Fo,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"col-span-1 md:col-span-2",children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Titular"}),A.jsx("input",{type:"text",value:ct,onChange:j=>Ot(j.target.value),className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-lg font-bold text-lg outline-none focus:ring-2 focus:ring-blue-800",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Autor"}),A.jsx("input",{type:"text",value:st,onChange:j=>gt(j.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Seccin"}),A.jsxs("select",{value:K,onChange:j=>et(j.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none",children:[A.jsx("option",{children:"General"}),A.jsx("option",{children:"Tecnologa"}),A.jsx("option",{children:"Deportes"}),A.jsx("option",{children:"Arte"}),A.jsx("option",{children:"Poltica"}),A.jsx("option",{children:"Seguridad"}),A.jsx("option",{children:"Municipios"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-3",children:"Imagen de Portada"}),A.jsx("div",{className:"p-4 border-2 border-dashed rounded-xl bg-gray-50",children:bt?A.jsxs("div",{className:"relative h-64 w-full rounded-lg overflow-hidden group shadow-lg",children:[A.jsx("img",{src:bt,alt:"Preview",className:"w-full h-full object-cover"}),A.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:A.jsxs("button",{type:"button",onClick:()=>xt(""),className:"bg-white text-red-600 px-4 py-2 rounded-full font-bold shadow-lg transform hover:scale-105 transition-transform flex items-center gap-2",children:[A.jsx(qc,{size:16})," Cambiar imagen"]})})]}):A.jsxs("div",{className:"space-y-4",children:[A.jsx("div",{className:"flex justify-center",children:A.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-2 text-gray-500",children:[Se?A.jsx(Fd,{className:"animate-spin text-blue-900"}):A.jsxs(Y_.Fragment,{children:[A.jsx(KA,{size:32}),A.jsx("span",{className:"font-medium text-gray-500",children:"Subir Portada"})]}),A.jsx("input",{type:"file",accept:"image/*",onChange:Gn,className:"hidden"})]})}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Nx.map((j,Z)=>A.jsxs("button",{type:"button",onClick:()=>xt(j.url),className:"text-xs p-2 rounded-lg border bg-white flex flex-col items-center gap-2 hover:border-blue-900 transition-colors",children:[j.icon," ",j.name]},`p-${Z}`))})]})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Cuerpo de la noticia"}),Tt.map((j,Z)=>A.jsxs("div",{className:"relative group",children:[j.type==="text"?A.jsxs("div",{className:"relative",children:[A.jsx(BA,{className:"absolute top-3 left-3 text-gray-400",size:16}),A.jsx("textarea",{value:j.value,onChange:ht=>ai(j.id,ht.target.value),rows:"5",className:"w-full p-3 pl-10 pr-12 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:bg-white transition-all leading-relaxed",placeholder:`Escribe aqu tu idea para la seccin ${K}...`}),A.jsx("button",{type:"button",onClick:()=>ve(j.id,j.value),disabled:b===j.id,className:`absolute bottom-3 right-3 p-2 rounded-full shadow-md transition-all ${b===j.id?"bg-gray-100 text-gray-400":"bg-gradient-to-br from-indigo-600 to-blue-600 text-white hover:scale-110 active:scale-95"}`,children:b===j.id?A.jsx(Fd,{className:"animate-spin",size:16}):A.jsx(PA,{size:16})})]}):A.jsxs("div",{className:"relative border-2 border-dashed p-4 bg-gray-50 text-center rounded-lg",children:[j.value?A.jsxs("div",{className:"relative inline-block w-full",children:[A.jsx("img",{src:j.value,alt:"Contenido",className:"max-h-64 mx-auto rounded shadow-sm"}),A.jsx("button",{type:"button",onClick:()=>ai(j.id,""),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full shadow-md hover:bg-red-600 transition-colors",children:A.jsx(fo,{size:14})})]}):A.jsxs("div",{className:"py-8 cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>$i.current[j.id].click(),children:[A.jsx(Bc,{size:32,className:"mx-auto mb-2"}),A.jsx("span",{className:"text-sm font-medium",children:"Subir foto para este bloque"})]}),A.jsx("input",{type:"file",className:"hidden",accept:"image/*",ref:ht=>$i.current[j.id]=ht,onChange:ht=>Sa(ht,j.id)})]}),A.jsxs("div",{className:"absolute -right-10 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-1",children:[A.jsx("button",{type:"button",onClick:()=>ge(Z),disabled:Z===0,className:"p-1.5 bg-white border rounded shadow hover:bg-gray-50",children:A.jsx(dA,{size:14})}),A.jsx("button",{type:"button",onClick:()=>Aa(Z),disabled:Z===Tt.length-1,className:"p-1.5 bg-white border rounded shadow hover:bg-gray-50",children:A.jsx(uA,{size:14})}),A.jsx("button",{type:"button",onClick:()=>dn(j.id),className:"p-1.5 bg-white border text-red-400 rounded shadow hover:bg-red-50",children:A.jsx(qc,{size:14})})]})]},j.id))]}),A.jsxs("div",{className:"flex gap-3 justify-center pt-2 border-t border-gray-100 border-dashed",children:[A.jsxs("button",{type:"button",onClick:wn,className:"flex items-center gap-2 px-4 py-2 rounded-full border border-gray-200 hover:text-blue-900 font-bold text-sm shadow-sm transition-all text-gray-500 hover:bg-gray-50",children:[A.jsx(FA,{size:16})," Agregar Prrafo"]}),A.jsxs("button",{type:"button",onClick:je,className:"flex items-center gap-2 px-4 py-2 rounded-full border border-gray-200 hover:text-blue-900 font-bold text-sm shadow-sm transition-all text-gray-500 hover:bg-gray-50",children:[A.jsx(Bc,{size:16})," Agregar Foto"]})]}),A.jsxs("div",{className:"pt-4 flex gap-4",children:[A.jsx("button",{type:"button",onClick:()=>{er(),R("home")},className:"px-6 py-3 rounded-lg font-bold text-gray-500 hover:bg-gray-100 transition-colors",disabled:Bn,children:"Cancelar"}),A.jsx("button",{type:"submit",disabled:Bn||!l,className:`flex-1 ${Sn} text-white px-6 py-3 rounded-lg font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all flex justify-center items-center gap-2 ${Bn?"opacity-70":""}`,children:Bn?"Guardando...":A.jsxs(A.Fragment,{children:[A.jsx(VA,{size:18})," ",A.jsx("span",{children:F?"Actualizar Noticia":"Publicar Noticia"})]})})]})]}),!d&&A.jsxs("div",{className:"mt-10 pt-8 border-t flex flex-col items-center text-center pb-8",children:[A.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Mis Publicaciones"}),A.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-md",children:"Si necesitas hacer una correccin o eliminar una nota que publicaste t mismo, activa el modo de edicin."}),A.jsx("button",{onClick:()=>{y(!_),R("home")},className:"flex items-center gap-2 px-6 py-3 rounded-full border-2 border-blue-900 text-blue-900 font-bold hover:bg-blue-50 transition-all transform hover:scale-105 shadow-sm",children:_?A.jsxs(A.Fragment,{children:[A.jsx(fo,{size:18})," Salir de edicin"]}):A.jsxs(A.Fragment,{children:[A.jsx(ho,{size:18})," Editar mis notas"]})})]})]})}),S==="article"&&M&&A.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-xl overflow-hidden animate-in fade-in slide-in-from-right-8 duration-500",children:[A.jsxs("button",{onClick:()=>R("home"),className:"m-6 flex items-center gap-2 text-gray-500 hover:text-blue-900 transition-colors font-bold",children:[A.jsx(hA,{size:20})," Volver al inicio"]}),A.jsxs("article",{children:[A.jsxs("div",{className:"h-96 relative",children:[A.jsx("img",{src:M.image,alt:M.title,className:"w-full h-full object-cover"}),A.jsxs("button",{onClick:()=>ue(M.image),className:"absolute bottom-6 right-6 bg-black/50 text-white p-3 rounded-full backdrop-blur-sm shadow-lg flex items-center gap-2 z-10 font-bold text-sm hover:bg-black/70 transition-all",children:[A.jsx(Kd,{size:20})," ",A.jsx("span",{children:"Ver foto completa"})]}),A.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),A.jsxs("div",{className:"absolute bottom-0 left-0 p-8 w-full pointer-events-none",children:[A.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-bold mb-4 inline-block",children:M.category}),A.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white leading-tight mb-2 drop-shadow-lg",children:M.title}),A.jsxs("div",{className:"flex items-center text-gray-200 text-sm gap-4",children:[A.jsxs("span",{className:"flex items-center gap-2",children:[A.jsx(YA,{size:16})," ",M.author||"Redaccin NTR"]}),A.jsxs("span",{className:"flex items-center gap-2",children:[A.jsx(nv,{size:16})," ",M.date]})]})]})]}),A.jsxs("div",{className:"p-8 md:p-12 leading-relaxed text-lg text-gray-700",children:[Ne(M.content),A.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[A.jsxs("h3",{className:`text-2xl font-bold ${Mr} mb-8 flex items-center gap-2`,children:[A.jsx(av,{})," Comentarios (",M.comments?.length||0,")"]}),A.jsx("div",{className:"space-y-6 mb-10",children:M.comments?.length>0?M.comments.map((j,Z)=>_e===j.id?A.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-200 relative shadow-sm",children:[A.jsxs("h5",{className:"font-bold text-sm mb-3 text-blue-900 flex items-center gap-2",children:[A.jsx(ho,{size:14})," Editando comentario"]}),A.jsx("input",{type:"text",value:Ta,onChange:ht=>Vs(ht.target.value),className:"w-full p-2 mb-2 border border-gray-300 rounded-lg outline-none focus:border-blue-500",placeholder:"Nombre del autor"}),A.jsx("textarea",{value:Fe,onChange:ht=>bi(ht.target.value),className:"w-full p-2 mb-2 border border-gray-300 rounded-lg min-h-[80px] outline-none focus:border-blue-500 resize-y",placeholder:"Comentario"}),A.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[Ai&&A.jsxs("div",{className:"relative inline-block",children:[A.jsx("img",{src:Ai,className:"h-16 w-auto rounded border border-gray-200 object-cover",alt:"edit"}),A.jsx("button",{onClick:()=>Xi(""),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:A.jsx(fo,{size:10})})]}),A.jsxs("button",{onClick:()=>si.current.click(),className:"text-gray-600 hover:text-blue-800 bg-gray-100 hover:bg-gray-200 p-2 rounded-lg text-sm flex items-center gap-2 transition-colors",children:[A.jsx(Bc,{size:16})," ",Ai?"Cambiar foto":"Aadir foto"]}),A.jsx("input",{type:"file",ref:si,className:"hidden",accept:"image/*",onChange:oi})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:Cn,className:"bg-blue-800 hover:bg-blue-900 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"Guardar"}),A.jsx("button",{onClick:()=>qn(null),className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"Cancelar"})]})]},Z):A.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-100 relative group",children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-900 font-bold text-xs",children:j.author?.charAt(0).toUpperCase()||"A"}),A.jsx("span",{className:"font-bold text-gray-900",children:j.author})]}),A.jsx("span",{className:"text-xs text-gray-400",children:j.date})]}),A.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:j.text}),j.image&&A.jsxs("div",{className:"mt-3 rounded-lg overflow-hidden border border-gray-200 max-w-sm relative group/img",children:[A.jsx("img",{src:j.image,alt:"Adjunto del comentario",className:"w-full h-auto object-cover"}),A.jsx("button",{onClick:()=>ue(j.image),className:"absolute bottom-2 right-2 bg-black/50 hover:bg-black/70 text-white p-1.5 rounded-full backdrop-blur-sm opacity-0 group-hover/img:opacity-100 transition-all shadow-md",title:"Ver en grande",children:A.jsx(Kd,{size:16})})]}),d&&A.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[A.jsx("button",{onClick:()=>In(j),className:"text-blue-400 hover:text-blue-600 bg-white shadow-sm border border-blue-100 transition-colors p-1.5 rounded",title:"Editar Comentario",children:A.jsx(ho,{size:14})}),A.jsx("button",{onClick:()=>Ra(j),className:"text-red-400 hover:text-red-600 bg-white shadow-sm border border-red-100 transition-colors p-1.5 rounded",title:"Borrar Comentario",children:A.jsx(qc,{size:14})})]})]},Z)):A.jsx("p",{className:"text-gray-400 italic",children:"No hay opiniones todava."})}),A.jsxs("form",{onSubmit:ks,className:"bg-blue-50 p-6 rounded-xl border border-blue-100 relative",children:[A.jsx("h4",{className:"font-bold text-gray-800 mb-4",children:"Deja tu opinin"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[A.jsx("input",{type:"text",placeholder:"Tu nombre",value:Ti,onChange:j=>Qi(j.target.value),className:"p-3 rounded-lg border border-gray-200 focus:border-blue-500 outline-none w-full"}),A.jsxs("div",{className:"md:col-span-2 relative",children:[A.jsxs("div",{className:"relative",children:[A.jsx("textarea",{placeholder:"Escribe tu comentario...",value:fn,onChange:j=>Dr(j.target.value),className:"p-3 rounded-lg border border-gray-200 focus:border-blue-500 outline-none w-full min-h-[80px] pr-12 resize-y"}),A.jsx("button",{type:"button",onClick:()=>ba.current.click(),className:"absolute bottom-3 right-3 text-gray-400 hover:text-blue-600 transition-colors p-1",title:"Adjuntar foto",children:A.jsx(Bc,{size:20})}),A.jsx("input",{type:"file",ref:ba,className:"hidden",accept:"image/*",onChange:nr})]}),Or&&A.jsx("div",{className:"mt-2 text-xs text-blue-600 flex items-center gap-1",children:"Procesando imagen..."}),ri&&A.jsxs("div",{className:"mt-2 relative inline-block",children:[A.jsx("img",{src:ri,alt:"Preview",className:"h-20 w-auto rounded border border-blue-200 object-cover"}),A.jsx("button",{type:"button",onClick:()=>Yi(""),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-0.5 shadow-sm hover:bg-red-600",children:A.jsx(fo,{size:12})})]})]})]}),A.jsx("button",{type:"submit",disabled:Or,className:`${Sn} text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-800 transition-colors disabled:opacity-50`,children:"Enviar Comentario"})]})]})]})]})]})]}),A.jsx("button",{onClick:rn,className:"fixed bottom-4 right-4 text-gray-300 opacity-20 hover:opacity-100 transition-opacity z-50",children:A.jsx(rv,{size:16})})]})}nA.createRoot(document.getElementById("root")).render(A.jsx(Et.StrictMode,{children:A.jsx(xx,{})}));
